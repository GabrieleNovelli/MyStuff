\documentclass[12pt,a4paper]{report}

\usepackage[english]{babel}
\usepackage{newlfont}
\usepackage{color}
\usepackage{multicol}
\usepackage{float}
\usepackage{frontespizio}
\usepackage{amsmath,amssymb}
\usepackage{amsthm}
\usepackage{geometry}
\usepackage{tikz}
\usepackage{biblatex}
\usepackage{csquotes}
\usepackage{pgfplots}
\usepackage{hyperref}
\usepackage{amssymb}
\usepackage{comment}
\usepackage[compat=1.0.0]{tikz-feynman}
\usepackage{tikz-cd}
\usepackage{mathtools}
\usepackage{braket}
\usepackage{pxfonts}
%\usepackage{lmodern}%THIS MUST GO AFTER PXFONTS

\hypersetup{
	colorlinks=true,
	linkcolor=blue,
	filecolor=magenta,      
	urlcolor=cyan,
	pdftitle={Overleaf Example},
	pdfpagemode=FullScreen,
}

\textwidth=450pt\oddsidemargin=0pt
\geometry{a4paper, top=3cm, bottom=3cm, left=3cm, right=3cm, % heightrounded, bindingoffset=5mm 
}
\theoremstyle{definition}
\newtheorem{Def}{Definition}[chapter]

\theoremstyle{Theorem}
\newtheorem{Theo}[Def]{Theorem}
\newtheorem{Prop}[Def]{Proposition}

\newtheorem{Lm}[Def]{Lemma}

\theoremstyle{break}
\newtheorem{Ex}[Def]{Example}
\newtheorem{Exe}[Def]{Exercise}

\theoremstyle{definition}
\newtheorem{Cor}[Def]{Corollary}
\newtheorem{Obs}[Def]{Observation}

\begin{document}
	\tableofcontents
	\chapter*{Preamble}
	\chapter{The necessary algebra}
	In this chapter we go through some algebraic constructions which will be at the base of all of the future calculations. Nevertheless, it will be assumed a basic strong knowledge of linear algebra.
	\section{The tensor product}
	In this section we will rigorously define the notion of tensor product. There are many ways to define tensors and we will try to give a strong general definition. However, for practical reasons, we will restrict ourselves to tensor products of vector spaces. It is useful to keep in mind that the tensor product is rigorously defined over modules. However, there is no reason to employ this generalization in our analysis since there is no field (that i know of) in which it is used.
	\begin{Def}\label{def_1.1.1}
		Let $V,W$ be real vector spaces. We define the \textit{free real module} of $V\times W$ as the set:
		$$R\braket{V^*\times W^*}=\{f:V\times W\rightarrow\mathbb{R}\hbox{ vanishing for all but a finite number of} (v,w)\}$$  
	\end{Def}
	Taking $(v^*_1,w^*_1)$ as the map defined like:
	$$(v^*_1,w^*_1)(v_2,w_2)=\delta_{v_1,v_2}\delta_{w_1,w_2}$$
	Any element of this new set is a linear combination:
	$$\lambda^i(v_i^*,w_i^*)\in R\braket{V^*\times W^*}$$
	This is clearly a vector space. The idea is now pretty straightforward. We want to be able to construct a product which keeps as fundamental property the multilinearity. Consider the following:
	$$I=span\bigg\{\lambda(v,w)-(\lambda v,w),\lambda(v,w)-(v,\lambda w),(v+v',w)-(v,w)-(v',w),$$$$,(v,w+w')-(v,w)-(v,w')\bigg\}$$
	This is clearly a subspace of the above vector space $R\braket{V^*\times W^*}$, spanned by the above elements. Thus, we can take the quotient:
	\begin{Def}\label{def_1.1.2}
		We define the \textit{tensor product} of $V^*\times W^*$ as the space:
		$$V^*\otimes W^*=R\braket{V^*\times W^*}/I$$
	\end{Def} 
	\begin{Obs}\label{obs_1.1.1}
		Clearly, sicne we took a quotient with a subspace, the reuslt is still a vector space. In particular, elements of $V^*\otimes W^*$ are equivalence classes of elements, we use the following identification:
		$$v^*\otimes w^*=[(v^*,w^*)]$$
		Since a dual space is a vector space and the double dual is canonically isomorphic to the starting space, we clearly generalize the above construction also to regular bector spaces.\\
		It is clear that by construction the tensor product is multilinear (as an equivalence class):
		$$\lambda v\otimes w=\lambda (v\otimes w)= v\otimes \lambda w$$
		$$(v+v')\otimes w=v\otimes w+v'\otimes w$$
		$$v\otimes (w+w')=v\otimes w+v\otimes w'$$
	\end{Obs}
	\begin{Prop}\label{prop_1.1.1}[\textbf{Universal property of tensor product}]
		Let $V,W,Z$ be real finite dimensional vector spaces. Let $f:V\times W\rightarrow Z$ be a multilinear map. Then there is a unique linear map $\tilde{f}:V\otimes W\rightarrow Z$ such that the following diagram commutes:
		\\
		\begin{center}
			\begin{tikzcd}
				V\times W\arrow{rr}{f}\arrow{dd}{\pi}&&Z\\\\
				V\otimes W \arrow{uurr}{\tilde{f}}&&
			\end{tikzcd}
		\end{center}
	\end{Prop}
	\begin{proof}
		Define the map $F:R\braket{V\times W}\rightarrow Z$ as $F((v,w))=f(v,w)$. Clearly, since $f$ is bilinear by hypothesis, $I\subset Ker(F)$. This means that the map $F$ induces a map:
		$$\tilde{f}:R\braket{V\times W}/I\rightarrow Z\hbox{ like }\tilde{f}(v\otimes w)=f(v,w)$$
		This proves the existence. As for the uniqueness, suppose there is another map $g$ which satisfies the same properties as $\tilde{f}$. By definition $V\otimes W$ is spanned by all elements like $v\otimes w$, and since for all of those the maps agree $g(v\otimes w)=f(v\otimes w)=\tilde{f}(v\otimes w)$, they are indeed the same map. 
	\end{proof}
	\begin{Theo}\label{theo_1.1.1}
		$$V^*\otimes W^*\simeq Bil(V\times W\rightarrow \mathbb{R})$$
		This is canonical.
	\end{Theo}
	\begin{proof}
		We make use of the universal property. Let $f(v^*,w^*)(v',w')=v^*(v')w^*(w')$ be a map. This is a mapping like:
		$$f:V^*\times W^*\rightarrow Bil(V\times W)$$ 
		Then from \ref{prop_1.1.1} there is a unique mapping:
		$$\tilde{f}:V^*\otimes W^*\rightarrow Bil(V\times W)$$
		This is defined as: $f(v^*\otimes w^*)=f(v^*,w^*)$. Choose any bases for $V^*,W^*$ like $v^i,w^i$. Now it is only a matter to find an inverse of $\tilde{f}$. Consider:
		$$g:Bil(V\times W)\rightarrow V^*\otimes W^*\hbox{ like }g(B)=B(v_i,w_j)v^i\otimes w^j$$
		Let now $\rho$ be any element of $V\otimes W$. The composition is:
		$$(g\circ \tilde{f})(\rho)=\tilde{f}(\rho)(v_i,w_j)v^i\otimes w^j$$
		Recall that $\tilde{f}$ is linear, thus:
		$$(g\circ \tilde{f})(\rho)=\rho_{km}\tilde{f}(v^k\otimes w^m)(v_i,w_j)v^i\otimes w^j$$
		Moreover, $\tilde{f}\circ \pi=f$ from \ref{prop_1.1.1}:
		$$(g\circ \tilde{f})(\rho)=\rho_{km}f(v^k,w^m)(v_i,w_j)v^i\otimes w^j$$
		By definition of $f$, we have:
		$$(g\circ \tilde{f})(\rho)=\rho_{km}\delta^k_i\delta^m_jv^i\otimes w^j=\rho_{ij}v^i\otimes w^j=\rho$$
		Thus, $g\circ \tilde{f}=\mathbb{I}$ is the identity. One can also easily prove the contrary:
		$$(\tilde{f}\circ g)(B)=\tilde{f}(B(v_i,w_j)v^i\otimes w^j)=B(v_i,w_j)\tilde{f}(v^i\otimes w^j)=$$
		$$(\tilde{f}\circ g)(B)(v',w')=B(v_i,w_j)f(v^i,w^j)(v'^kv_k,w'^lw_l)=B(v_i,w_j)v'^kw'^l\delta_i^k\delta_j^l=$$$$=B(v_i,w_j)v'^iw'^j=B(v',w')$$
		By arbitrarity of the base this is canonical.
	\end{proof}
	\begin{Obs}\label{obs_1.1.2}
		Since the above isomorphism is canonical it makes sense to think about bilinear maps as tensor products. 
	\end{Obs}
	Now we go through some properties of the tensor product, which are very technical but will help us develop the right tools for our future calculations.
	\begin{Prop}\label{prop_1.1.2}
		There is a unique canonical isomorphism: 
		$$V\otimes W\simeq W\otimes V$$
	\end{Prop}
	\begin{proof}
		This is just a consequence of the universal property. Let $f:V\times W\rightarrow V\otimes W$ be a bilinear map like:
		$$f(v,w)=w\otimes v$$
		Then, by the universal property, there is a unique linear mapping:
		$$\tilde{f}:V\otimes W\rightarrow W\otimes V\hbox{ like }\tilde{f}(v\otimes w)=w\otimes v$$
		Similarly, one can construct a map like: 
		$$\tilde{g}:W\otimes V\rightarrow V\otimes W\hbox{ like }g(w\otimes v)=v\otimes w$$
		This descends from the linear map $g(w,v)=v\otimes w$. Clearly, those maps are one the inverse of the other on both sides. Moreover, they are inverses on decomposable elements so they are unique inverses.
	\end{proof}
	\begin{Prop}\label{prop_1.1.3}
		The tensor product is associative.
	\end{Prop}
	\begin{proof}
		Clearly, since $V\otimes W$ is by construction a vector space, we can take its tensor product with $Z$ another vector space. This will define new equivalence classes by the same procedure as above, like: $(v\otimes w)\otimes z$. The aim is to prove $(V\otimes W)\otimes Z=V\otimes (W\otimes Z)$. This is a consequence of the universal property as well.\\
		\\
		Let $X$ be a vector space. Consider the trilinear mapping:
		$$f:V\times W\times Z\rightarrow X$$
		From the \ref{prop_1.1.1} universal property, there is a bilinear map: 
		$$\tilde{f}:V\times (W\otimes Z)\rightarrow X\hbox{ like }\tilde{f}(v,w\otimes z)=f(v,w,z)$$
		Since $\tilde{f}$ is bilinear, there is another linear map, from the universal property, like $\tilde{\tilde f}:V\otimes(W\otimes Z)=f(v,w,z)$. Choosing now $X=(V\otimes W)\otimes Z$ and $f(v,w,z)=(v\otimes w)\otimes z$ (this is clearly trilinear) we have:
		$$\tilde{\tilde f}(v\otimes (w\otimes z))=(v\otimes w)\otimes z$$
		One can apply the same reasoning by commuting the order in which the tensor product is obtained. This will give a linear map:
		$$\tilde{\tilde g}((v\otimes w)\otimes z)=v\otimes (w\otimes z)$$
		Those are clear inverses.
	\end{proof}
	\begin{Def}\label{def_1.1.3}
		We call $T^k_lV$ the space of multilinear maps 
		$$f:V\times...\times V\times V^*\times...\times V^*\rightarrow\mathbb{R}$$
		We call $\bigotimes^k V$ the space of $k$ times the tensor product of $V$ with itself:
		$$\bigotimes^k V:=V\otimes V\otimes...\otimes V\hbox{ k times}$$
	\end{Def}
	\begin{Cor}\label{cor_1.1.1}
		$$T^k_lV=\bigotimes^k V^*\otimes \bigotimes^l V$$
	\end{Cor}
	This follows immediately from the associativity and the isomorphism \ref{theo_1.1.1}.
	\begin{Prop}\label{prop_1.1.4}
		Let $V,W$ be vector spaces and $\{e_i\}$ a base for it. Then, $e_i,f_j$ bases for them. Then, a base for $V\otimes W$ is:
		$$\big\{e_i\otimes w_j\big\}$$
	\end{Prop}
	\begin{proof}
		We use the isomorphism with multilinear maps. If $f\in Bil(V\times W)$, then it can be expressed as:
		$$f=f_{ij} e^i\otimes f^j$$
		This automatically implies that the above set spans all of the elements. To show linear independence, we see that:
		$$f(e_m,f_l)=f_{ml}$$
		So the 0 can be obrained only by taking all constant equal to 0.
	\end{proof}
	\begin{Cor}\label{cor_1.1.2}
		$$\{e^{i_1}\otimes...e^{i_k}\otimes e_{j_1}\otimes...\otimes e_{j_l}\}\hbox{ is a base for }T^k_lV$$
	\end{Cor}
	\section{The exterior algebra}
	In this section we take yet another step forward in the analysis on the tensor product. A posteriori, we will be mainly interested in antisymmetric tensors. This means we need a precise and rigorous way to define them. We will thus introduce the wedge product of vector spaces. This is unfortunately defined through the use of another quotient. \\
	\\
	Let $\bigotimes^k V$ be the $k$-tensor product space of $V$. Consider the ideal $I^k(V)$ spanned by all elements $v^1\otimes...\otimes v^k$ that have at least two equal vectors in the product.
	\begin{Def}\label{def_1.2.1}
		We call \textit{exterior $k$-power} of $V\otimes W$ the quotient:
		$$\bigwedge^k V=\bigotimes^kV/I^k(V)$$	
		We index elements of $\bigwedge^k V$ as:
		$$v^1\wedge...\wedge v^k=[v^1\otimes...\otimes v^k]$$
	\end{Def}
	\begin{Obs}\label{obs_1.2.1}
		Clearly the exterior power is a vector space since it is the quotient of a vector space with one vector subspace. This translates in linearity of the equivalence classes.
	\end{Obs}
	\begin{Obs}\label{obs_1.2.2}
		Clearly, by construction $$v^1\wedge...\wedge v^i\wedge v^{i+1}\wedge...\wedge v^k=-v^1\wedge...\wedge v^{i+1}\wedge v^{i}\wedge...\wedge v^k$$ is antysimmetric. This follows from the fact that:
		$$[0]=0=v^1\wedge...\wedge (v^i+v^{i+1})\wedge (v^{i+1}+v^{i})\wedge...\wedge v^k=$$
		$$=v^1\wedge...\wedge v^i\wedge v^{i+1}\wedge...\wedge v^k+v^1\wedge...\wedge v^{i+1}\wedge v^{i}\wedge...\wedge v^k+0+0$$
		The last two 0 are elements that after the linear expansion contain two equal vectors.
		Clearly, the above operations follow from the linearity of the tensor product.
		\\
		Given the above result it is not hard to see that if $\sigma$ is a permutation of the vectors (or the indices), then:
		$$v^1\wedge...\wedge v^k=sgn(\sigma)v^{\sigma(1)}\wedge...\wedge v^{\sigma(k)}$$
	\end{Obs}
	\begin{Prop}\label{prop_1.2.1}
		The wedge product is associative.
	\end{Prop}
	\begin{proof}
		This is clear from the fact that the tensor product is associative and equivalence classes are linear.
	\end{proof}
	\begin{Prop}\label{prop_1.2.2}[\textbf{Universal property for the wedge product}]
		Let $f:V^k\rightarrow Z$ any alternating multilinear map on a vector space. There is a unique alternating linear map $\tilde{f}:\bigwedge^kV\rightarrow Z$ such that the following diagram commutes:
		\begin{center}
			\begin{tikzcd}
				\bigwedge^k V \arrow{rrdd}{\tilde{f}}&&\\\\
				V^k\arrow{rr}{f}\arrow{uu}{\wedge}&&Z
			\end{tikzcd}
		\end{center}
		Where $\wedge(v_1,...,v_k)=v_1\wedge ...\wedge v_k$ is the projection.
	\end{Prop}
	\begin{proof}
		Since $f$ is multilinear, by \ref{prop_1.1.1} the universal property of the tensor product, there is a linear map $h:\bigotimes^k V\rightarrow Z$ such that:
		$$h(v_1\otimes...\otimes v_k)=f(v_1,...,v_k)$$
		By the alternating property, $I^k(V)$ is in the kernel of this map. Thus, there exists a map:
		$$\tilde{f}:\bigwedge^k V\rightarrow Z$$
		which satisfies the above properties. This proves the existence. The uniqueness follows from the uniqueness of $h$.
	\end{proof}
	We now present an extremely important result regarding the space of alternating multilinear maps. In particular, we denote with $Alt^k(V,\mathbb{R})$ the space of all multilinear maps from $V^k=V\times V\times...\times V$ k-times to $\mathbb{R}$.
	$$Alt^k(V,\mathbb{R})=\big\{f:V^k\rightarrow \mathbb{R} \hbox{ multilinear }\big\}$$
	\begin{Theo}\label{theo_1.2.1}
		There is a canonical isomorphism:
		$$Alt^k(V,\mathbb{R})\equiv \bigwedge^k V$$
	\end{Theo}
	\begin{proof}
		This is just a consequence of the previous result on the tensor product \ref{cor_1.1.1}. Since any multilinear map can be seen as an element of $\bigotimes^k V$ and any alternating multilinear map can be obtained by antisymmetrization, the equivalence is obvious.
	\end{proof}
	Lastly, like we did for the tensor product, we would like to find a basis for this new vector space which we constructed.
	\begin{Theo}\label{theo_1.2.2}
		If $\{e_i\}$ is a basis for $V$, then $\{e_{i_1}\wedge...\wedge e_{i_k}\hbox{ with }i_1<i_2<...<i_k\}$ is a base for $\bigwedge^k V$.
	\end{Theo}
	\begin{proof}
		This follows immediately from proposition REFERENZA due to the quotient.
	\end{proof}
	\begin{Obs}\label{obs_1.2.3}
		It is easy to see that if $k>n=dim(V)$, then $\bigwedge^kV=0$. This is due to the fact that this space must by definition contain some repeated elements.
	\end{Obs}
	\chapter{Smooth manifolds}
		\section{Topological manifolds}
			In this section we will define the concept of topological manifolds and look at some examples and properties of them. The main idea is to find a way of describing spaces which are not necessaarily $\mathbb{R}^n$. To achieve this, we simply look at spaces which locally "look like" $\mathbb{R}^n$. This is the basic construction of a topological manifold. However, we will see that smooth manifolds take a step further. In what follows we will assume a basic knowledge of topology i.e. the notions of open and closed sets, closure, continuity and homeomorphisms.
			\begin{Def}
				Let $(X,\tau)$ be a topological space. We call \textit{basis} for $X$ a subcollection $\beta\subset\tau$ of sets $\{U_i\}$ such that:
				\begin{itemize}
					\item $X$ is covered by the union of all the elements in $\beta$;
					\item For any $x\in X$ and $U\in \tau$ containing $x$, there is a set $U_i\in \beta$ such that:
					$$p\in U_i\subset U$$ 
				\end{itemize}
			\end{Def}
			\begin{Prop}
				A collection $\beta$ of subsets of  $X$ is a basis for some topology of $X$ if and only if:
				\begin{itemize}
					\item the union of all the elements of $\beta$ covers $X$;
					\item for any $x\in X$ and $U,V\in \beta$ with $x\in U\cap V$, there is $W\in \beta$ with $x\in W\subset U\cap V$.
				\end{itemize}
			\end{Prop}
			\begin{proof}
				PROVA
			\end{proof}
			Now we start to enunciate the actual important topologicla properties we want our spaces to have:
			\begin{Def}
				A topological space $(X,\tau)$ is called:
				\begin{itemize}
					\item T2 or \textit{Hausdorff} if for any two distinct points $x,y\in X$, $x\neq y$, we can find two open sets $U,V\in \tau$, such that: $x\in U;y\in V$ and $U\cap V=\emptyset$;
					\item \textit{second countable} of it has a countable basis;
					\item \textit{locally euclidean} if for any open set $U$ we can find an homeomorphism $\phi:U\rightarrow \mathbb{R}^n$. The couple $(U,\phi)$ is called \textit{chart}.	
				\end{itemize}
			\end{Def}
			\begin{Def}
				A topological space which is also T2, second countable and locally euclidean is called \textit{topological manifold}.
			\end{Def}
			\begin{Ex}
				We now make some examples of topological manifolds.
				\begin{itemize}
					\item $\mathbb{R}$ is a topological manifold. Clearly, $\mathbb{R}$ is locally euclidean and $T_2$, and we can find a countable basis by choosing the open balls in $\mathbb{Q}$ like:
					$$B_{r,s}=\big\{]r,s[\hbox{ with }r,s\in\mathbb{Q}\big\}$$
					\item Since the cross product of two T2 and second countable spaces has the same topological properties, the space $\mathbb{R}^n$ is trivially a topological manifold.
					\item The sphere $S^n$ is a topological manifold. It is clearly T2 and second countable since it is inside $\mathbb{R}^n$. Moreover, it can be covered by the following charts:
					$$U^{\pm}_i=\big\{\vec{x}\in S^n\big| \pm x_i>0\big\}$$
					$$\phi_i^\pm:U^\pm_i\rightarrow \mathbb{R}^n\hbox{ like }\phi^\pm_i(\vec{x})=(x_1,...,x_{i-1},x_{i+1},...,x_{n+1})$$
					Those have some clear inverses:
					$$(\phi^\pm_i)^{-1}(x_1,...,x_{n+1})=(x_1,...,x_{i-1},\pm\sqrt{1-||x^2||},x_{i+1},...,x_{n+1})$$
				\end{itemize}
			\end{Ex}
			We conclude this section with a very useful proposition, which will come in handy later.
			\begin{Prop}
				If $\pi:M\rightarrow N$ is a quotient map, $M$ is a second countable topological space and $N$ is locally euclidean. Then $N$ is also second countable.
			\end{Prop}
			\begin{proof}
				a
			\end{proof}
		\section{Smooth structures}
		In this section we will define the notion of smooth manifold. This will be dependent on the notion of smooth structure. The basic idea is to be able to map diffeomorphically our spaces into $\mathbb{R}^n$.
		\begin{Def}
			Let $M$ be a topological manifold and $(U,\phi)$, $(V,\psi)$ two charts on $M$ such that $U\cap V\neq \emptyset$. We say that the two charts are \textit{compatible} if the composition $\psi\circ \psi^{-1}:\psi(U\cap V)\longrightarrow \phi(U\cap V)$ is a diffeomorphism.
		\end{Def}
		\begin{Def}
			Let $M$ be a topological manifold. We define an \textit{Atlas} for $M$ as a collection of charts $\mathcal{A}=\{(U_i,\phi_i)\}$ that are smoothly compatible and that cover $M$.
		\end{Def}
		\begin{Def}
			We define the \textit{smooth structure} of a topological manifold as the equivalence class of atlases $[\mathcal{A}]$, under the relation:
			$$\mathcal{A}_1\simeq \mathcal{A}_2\iff \mathcal{A}_1\cup \mathcal{A}_2 \hbox{ is still an atlas for }M$$
		\end{Def}
		The above relation is clearly an equivalence relation. In practice, it means that any composition of the charts of $\mathcal{A}_1$ and $\mathcal{A}_2$ is a diffeomorphism.
		\begin{Theo}
			Every atlas is contained in a maximal atlas. Moreover, two atlases have the same maximal atlas if and only if their union is still an atlas.
		\end{Theo} 
		\begin{proof}
			The first one is kind of obvious. Consider any atlas $\mathcal{A}$ and define $\mathcal{A}^{max}$ as the set of all charts compatible with $\mathcal{A}$. Then if $\mathcal{A}^{max}$ is an atlas it is also maximal. Consider tow charts in $\mathcal{A}^{max}$ like $(U_1,\phi_1),(U_2,\phi_2)$. We can look at:
			$$\phi_1\circ \phi_2^{-1}$$
			Since $\mathcal{A}$ is an atlas, there will be a chart $(V,\varphi)$ such that $U_1\cap U_2\cap V\neq \emptyset$. So we can write:
			$$\phi_1\circ \varphi^{-1}\circ \varphi\circ \phi_2^{-1}$$
			This is clearly smooth, since by construction $\phi_i$ are compatible with $\mathcal{A}$.\\
			\\
			As for the second point, if two atlas have the same maximal atlas then their union is by definition still an atlas. Instead if the unioon of two atlases $\mathcal{A}_1,\mathcal{A}_2$ is an atlas, consider $\mathcal{A}^{max}_1,\mathcal{A}^{max}_2$ their maximal atlases. Take any two charts $(U_1,\varphi_1)\in\mathcal{A}_1$ and $(U_2,\varphi_2)\in\mathcal{A}_2$. Then the following map is smooth:
			$$\varphi_1\circ \varphi_2^{-1}$$
			Now, taking an overlapping chart inside $\mathcal{A}_1^{max}$ like $(V_1,\psi_1)$, we have:
			$$\varphi_1\circ \varphi_2^{-1}=\varphi_1\circ \psi_1^{-1}\circ \psi_1\circ \varphi_2^{-1}$$
			By smoothness of the left hand side, we have that $\psi_1\circ \varphi_2^{-1}$ is smooth. This means $\mathcal{A}_1^{max}\subset \mathcal{A}_2^{max}$. One can easily prove the opposite inclusion. This concludes the proof.
		\end{proof}
		\begin{Def}
			A topological manifold with a smooth structure is called a \textit{smooth manifold}.
		\end{Def}
		\begin{Ex}
			We now make some examples of smooth manifolds.
			\begin{itemize}
				\item $\mathbb{R}^n$ is a topologicla manifold, and a smooth structure can be found with the following atlas made of only one chart:
				$$\mathcal{A}=\{(\mathbb{R}^n,\mathbb{I}_n)\}$$
				\item Let $M$ be a smooth manifold, then any open subset $U$ of $M$ is also a smooth manifold with the atlas $\mathcal{A}\big|_U$ reduced to $U$. This is clear since the topological properties are passed down to open subsets.
				\item Consider the general linear group $GL(n,\mathbb{R})$. This is defined as:
				$$GL(n,\mathbb{R})=\big\{A\in M_{n\times n}\hbox{ such that }det(A)\neq 0\big\}$$
				It is then clear that $GL(n,\mathbb{R})$ is the preimage of the map:
				$$det:\mathbb{R}^{n^2}\longrightarrow \mathbb{R}$$ 
				This map is continuous and so, since $\mathbb{R}-\{0\}$ is open, $det(\mathbb{R}-\{0\})$ is open as well. This makes $GL(n,\mathbb{R})$ is an open subset of $\mathbb{R}^{n^2}$. This implies that it is a smooth manifold.
				\item $S^n$ is a smooth manifold. We have already seen in REFERENZA that this is a topological manifold. We just have to show that the composition of two charts is smooth. This is easy: let $\phi_1^\pm,\phi_2\pm$ be two such charts (without loss of generality we can fix two indices). Consider:
				$$\phi_1^{\pm}\circ(\phi_2^{\pm})^{-1}(x_1,x_3,...,x_{n+1})=$$$$=\phi^\pm_1(x_1,\pm\sqrt{1-||x^2||},x_3,...,x_{n+1})=(\pm\sqrt{1-||x^2||},x_3,...,x_{n+1})$$
				This is clearly smooth since taking the derivation of the square root we get:
				$${d\over dx^i}(\pm\sqrt{1-||x^2||})={\pm x^i\over\sqrt{1-||x^2||}}$$ 
				This is smooth since in our domain the root is well defined.
				\item Any finite dimensional vector space is a smooth manifold. From topology, we know that any two norms defined on a finite dimensional vecotr space are equivalent in defining the same topology. In particular, those define a T2 and second countable topology (REFERENZA). Fix a base for $V$, like $\{e_i\}$. Then, we can find an isomorphism:
				$$f:V\rightarrow \mathbb{R}^n\hbox{ like }f(v^ie_i)=(v^1,...,v^n)$$
				This is an homeomorphism REFERENZA. Considering an other base $f_j$, we can find a chang eof basis matrix $M^j_i$ so that our construction does not depend on the choice of the base.
			\end{itemize}
		\end{Ex}
		\begin{Def}
			Let $M$ be a smooth manifold and $f:M\rightarrow\mathbb{R}$ a function. We say that $f$ is \textit{smooth} if for any chart $(U,\phi)$ in the maximal atlas $\mathcal{A}^{max}$ we have that
			$f\circ \phi^{-1}$ is smooth.
		\end{Def}
		\begin{Obs}
			Of course, any atlas is good enough. This is easy to check. If $\mathcal{A}^{max}$ is a maximal atlas and $A\in[\mathcal{A}^{max}]$, then, considering any $(U,\phi)\in \mathcal{A}$ chart, we have:
			$$f\circ \phi^{-1}=f\circ \psi^{-1}\circ \psi\circ \phi^{-1}$$
			where $(V,\psi)$ is a chart in $\mathcal{A}^{max}$ overlapping with our domain. This makes $f$ smooth also in $\mathcal{A}$.
		\end{Obs}
		Lastly, we make a useful statement which will come in handy in a bit:
		\begin{Lm}
			Any smooth manifold $M$ has a countable basis made of coordinate charts.
		\end{Lm}
		\begin{proof}
			Let $\{U_i\}$ be an atlas for $M$. Consider a countable basis of open sets $\{u_j\}$ of $M$. Take $p\in M$ and $U_i$ containing $p$. Then, there is an element $u_i$ of the basis such that $p\in u_{i,p}\subset U_{i}$ by definition of basis. The collection of the sets $u_{j,p}$ constructed like this, without duplicates, is a subcollection of the basis and so it is countable. Moreover, it is a collection of charts and covers $M$. To prove it is a base, consider $u\subset M$ and $p\in U$. Then there is $U_i\subset U$ containing $p$. Thus, there is also, by construction, $u_{i,p}\subset U$ containing $p$.
		\end{proof}
		\section{The partition of Unity}
			In this section we construct the partition of unity. This is an analytical tool which will allow us to find some interesting results later on. This is very technical and it is a topic for the interested reader.
			\begin{Def}
				 Let $f:M\rightarrow \mathbb{R}$ be a smooth map. We call \textit{support of $f$} the set:
				 $$supp(f)=\{p\in M\hbox{ such that } f(p)\neq 0\}$$
			\end{Def}
			\begin{Def}
				We call \textit{bump function at $p\in\mathbb{R}^n$ supported in $U\subset \mathbb{R}^n$} any function $\rho:\mathbb{R}^n\rightarrow \mathbb{R}$ such that:
				\begin{itemize}
					\item $\rho=1$ in $V\subset U$ with $p\in V$;
					\item $supp(\rho)\subset U$.
				\end{itemize}
			\end{Def}
			FIGURA\\
			\\
			\begin{Ex}
				It is not hard to construct a bump function. Consider the following.
				$$f(x)=\begin{cases}
					e^{-{1\over x}} \hbox{ for }x>0\\
					0 \hbox{ otherwise}
				\end{cases}$$
				This is not a bump function as one can see from REFERENZA.
				\begin{center}
					\begin{tikzpicture}
						\begin{axis}[xmin=-1.2, xmax=2, ymin=-0.7, ymax=1.2,
							xtick = {-1,0,1}, ytick = { 1},
							scale=0.4, restrict y to domain=-1.5:1.2,
							axis x line=center, axis y line= center,
							samples=40]
							
							
							\addplot[black, samples=100, smooth, domain=-1.2:2, thick]
							plot (\x, {exp{-1/\x}});
						\end{axis}
					\end{tikzpicture}
				\end{center}
				Starting from this nice function (smooth but not analytical!) we construct the following:
				$$r(x)={f(a-x)\over f(a-x)+f(x-b)}$$
				where $a,b$ are positive real numbers with $a>b$.
				It is clear that $r(x)$ is a function supported in $]-a,a[$ and it is equal to $1$ in $]b,-b[$ at 0. One can then easily move this function with some translations.\\
				We then clearly see that the function:
				$$\rho(\vec{x})=r(|\vec{x}|)$$ 
				is indeed a bump function.
				\begin{center}
					\begin{tikzpicture}
						\begin{axis}[xmin=-2, xmax=2, ymin=-0.7, ymax=1.2,
							xtick = {-1,0,1}, ytick = { 1},
							scale=0.4, restrict y to domain=-1.5:1.2,
							axis x line=center, axis y line= center,
							samples=40]
							
							
							\addplot[black, smooth, thick, domain=-1:1]
							{1};
							
							\addplot[black, smooth, thick, domain=1.001:1.999]
							{exp(-1/(2 - x)) / (exp(-1/(2 - x)) + exp(1/(1 - x)))};
							
							\addplot[black, smooth, thick, domain=-1.001:-1.999]
							{exp(-1/(2 + x)) / (exp(-1/(2 + x)) + exp(+1/(1 + x)))};
							
						\end{axis}
					\end{tikzpicture}
				\end{center}
			\end{Ex}
			One can easily generalize the definition of bump function to smooth manifolds in the following way:
			\begin{Def}
				A function $\rho:M\rightarrow \mathbb{R}$ is called \textit{bump function  at $p\in M$ supported in $U\subset M$} if there is a chart $(U,\phi)$ such that, in coordinates, $\rho\circ \phi^{-1}$ is a bump function.
			\end{Def}
			\begin{Prop}
				Let $f_U:U\rightarrow\mathbb{R}$ be a smooth map. Then there always is a global $f:M\rightarrow \mathbb{R}$ smooth, such that $f=f_U$ in a possibly smaller $V\subset U$.
			\end{Prop}
			\begin{proof}
				The proof is very easy since it makes use of the bump function (provided it exists). Take $\rho$ a bump function at $p\in U$ supported in $U$ and define for $q\in M$:
				$$f(q)=\begin{cases}
					f_U(q)\rho(q)\hbox{ for }q\in U\\
					0 \hbox{ otherwise}
				\end{cases}$$
			\end{proof}
			\begin{Def}
				Let $\mathfrak{U}=\{U_i\}$ be a collection of sets of a topological space. This is called \textit{locally finite} if for any $p$ point there is a $U$ containing $p$ which intersects at most finitely many $U_i$. 
			\end{Def}
			\begin{Def}
				Let $\mathfrak{U}=\{U_i\}$ be covering of a smooth manifold $M$. A \textit{partition of unity subordinate to $\mathfrak{U}$} is a family of smooth functions $\{\phi_i:U_i\rightarrow\mathbb{R}\}$ such that:
				\begin{itemize}
					\item $\phi_i(p)\in[0,1]$ for all indices;
					\item $supp(\phi_i)\subset U_i$ for all indices;
					\item the set $\{supp(\phi_i)\}$ is locally finite;
					\item $\sum \phi_i(p)=1$ for all $p\in M$.
				\end{itemize}
			\end{Def}
			\begin{Obs}
				Note that the last sum in the above definition is always finite since the set of supports is always locally finite.
			\end{Obs}
			\begin{Theo}
				A smooth manifold always has a partition of unity.
			\end{Theo}
			\section{The tangent space}
			In this section we will introduce an extremely important construction, which will follow us through the whole book: the tangent space. We will give the precise notions on vector and vector fields for smooth amnifolds, and we will start to see how we can force the structure of $\mathbb{R}^n$ on our smooth manifolds.
			\begin{Def}
				Let $p\in M$. Consider all pairs $(f,U)$, with $f:U\subset M\rightarrow \mathbb{R}$ smooth and $p\in U$. We say that $(f,U)\sim (g,V)$ if there is a $W\subset U\cap V$ such that $p\in W$ and $f\big|_W=g\big|_W$.
				We call the \textit{germ of $f$ at $p$} the equivalence class $[(f,U)]$. We index the set of all germs at a point with:
				$$C^\infty_p(M)$$
			\end{Def}
			\begin{Obs}
				The above relation is clealry an equivalence relation (see it for yourself if you dont believe me).
			\end{Obs}
			\begin{Def}
				We call \textit{derivation at $p\in M$} any smooth, linear map $D_p:C_p^\infty(M)\rightarrow \mathbb{R}$ which respects the Leibniz rule i.e.:
				$$D_p(fg)=D_p(f)g(p)+f(p)D_p(g)$$
				The set of all derivation is called \textit{tangent space at $p$} and it is indexed with $$T_pM$$
			\end{Def}
			\begin{Obs}
				The space of derivation is clealry a vector space. I am not going to prove this because it is a matter of looking at 8 simple properties, and I would get extremely bored.
			\end{Obs}
			\begin{Obs}
				From the definition of derivation some clear properties immediately follow:
				\begin{itemize}
					\item If $f$ is constant then $D_p(f)=0$
					\\\\
					To see this simply apply Leibniz: suppose $f=1$ w.l.o.g. and see:
					$$D_p(f)=D_p(f^2)=2D_p(f)\implies 0$$
					\item  If $f(p)=0=g(p)$ then:
					$$D_p(fg)=0$$
					
					This is clear form the definition of Leibniz.
				\end{itemize}
			\end{Obs}
			Since $\mathbb{R}^n$ is a smooth manifold as well, our definitions and properties apply to it. The idea now it to show that the tangent space at any point of $\mathbb{R}^n$ has dimension $n$.
			\begin{Prop}
				Let $\vec{x}\in\mathbb{R}^n$. There is an isomorphism $\mathbb{R}^n\simeq T_{\vec{x}}\mathbb{R}^n$.
			\end{Prop}
			\begin{proof}
				Consider a vector $\vec{v}\in\mathbb{R}^n$. We define the following map:
				$$\vec{v}\rightarrow D_{\vec{v}}=v^i\partial_i$$
				This map is injective since $D_{\vec{v}}(x^j)=v^j$ and so in order to obtain 0 we would need $\vec{v}=\vec{0}$. As for surjectivity, consider any smooth map $f$ and its Taylor expansion around a point:
				$$f(\vec{z})=f(\vec{x})+\partial_i f(\vec{x})(z^i-x^i)+o(\vec{x})$$
				In particular, the residue will vanish in $\vec{x}$. Taking the derivation at $\vec{x}$ of this map, we see that the only non vanishing term is:
				$$D_{\vec{v}}f=\partial_i f(\vec{x})D_{\vec{v}}(z^i-x^i)$$
				Defining $v^i=D_{\vec{v}}(z^i-x^i)$ we have surjectivity.
			\end{proof}
			\begin{Cor}
				Any tangent vector to $\mathbb{R}^n$ is of the form $X_p=X^i(p)\partial_i\big|_p$.
			\end{Cor}
			The idea now is to somehow push the naive structure found on $\mathbb{R}^n$ onto our smooth manifolds. The key to do this is the so called push-forward.
			\begin{Def}
				Let $M,N$ be smooth manifolds and $F:M\rightarrow N$ be a smooth map. For any $p\in M$ we can define the \textit{push-forward at $p$ with $F$} as the map:
				$$F_{*,p}:T_pM\rightarrow T_{F(p)}N\hbox{ like }F_{\star,p}(X_p)f=X_p(f\circ F)$$
			\end{Def}
			Clearly, the definition of push-forward is pointwise. However, there are situations in which the point does not really matter, or it is not really necessary to specify it.
			\begin{Prop}
				The following properties hold for the push-forward:
				\begin{itemize}
					\item $(G\circ F)_*=G_*\circ F_*$ satisfies the chain rule.
					\item If $F$ is a diffeomorphism, then $F_*$ is an isomorphism.
				\end{itemize}
				\begin{proof}
					The first point is clear and just a matter of applying the definition. As for the second point: clearly, if $F$ is a diffeomorphism, there is an inverse $F^{-1}$ which is smooth as well. This will generate another push-forward:
					$$F^{-1}_*(Y_{F(p)})g=Y_{F(p)}(g\circ F^{-1})$$
					Now, clealry, by the above property, $F_*\circ F_*^{-1}$ is the push-forward of the identity; which is the identity.
				\end{proof}
			\end{Prop}
			Since $\mathbb{R}^n$ is a smooth manifold, we can use the push-forward of diffeomorphism (charts) to automatically inherit the tangent space straucture through the isomorphism.
			\begin{Obs}
				Let $r^i$ be the standard coordinate of $\mathbb{R}^n$ and let $(U,\phi)$ be a chart on $M$. We define:
				$${\partial\over \partial x^i}=\phi_*^{-1}\bigg({\partial\over \partial r^i}\bigg)$$
				Since the chart is a diffeomoeprhism it sends a base into a base.
			\end{Obs}
			\begin{Cor}
				$\big\{{\partial\over \partial x^i}\big\}$ is a base for $T_pM$.
			\end{Cor}
			\begin{Cor}
				$T_pM$ has dimension $n=dim(M)$.
			\end{Cor}
			\begin{Exe}
				Let $F:M\rightarrow N$ be a diffeomorphism between manifolds. Let $(U,\phi)$ be a chart on $M$ and $(V,\psi)$ be a chart on $N$. What is the base induced on $N$ through $F?$.\\
				\\
				Take any point $p\in M$ and take the base of the tangent space induced from the chart on $M$:
				$${\partial \over \partial x^i}=\phi_*^{-1}\big({\partial\over \partial r^i}\big)$$
				Where $r^i$ are the coordinates of $\mathbb{R}^n$. The pullback of this base through $F$ is given by:
				$$F_*\big({\partial \over \partial x^i}\big)f={\partial \over \partial x^i}(f\circ F)$$
				We now do the sandwich technique:
				$${\partial \over \partial x^i}(f\circ F)={\partial \over \partial x^i}(f\circ\psi^{-1}\circ \psi \circ F)={\partial \over \partial r^i}(f\circ\psi^{-1}\circ \psi \circ F\circ \phi^{-1})$$
				This is now just a derivative in $\mathbb{R}^k$. Let us call $z^a$ the induced coordinates on $\mathbb{R}^n$ through $\psi\circ F\circ\phi^{-1}$. From the chain rule we get:
				$${\partial \over \partial x^i}(f\circ F)={\partial (\psi\circ F^{-1}\circ \phi^{-1})^a\over \partial r^i}{\partial (f\circ \psi^{-1})\over \partial z^a}$$
			\end{Exe}
			\begin{Obs}
				We can apply the results found in the last exercise to a generic change of coordinate. In our case the map $F$ would just be the identity from $M$ to itself and the two charts would be on the same manifold (overlapping). In this case:
				$$\psi\circ\phi^{-1}(x^i)=y^j(x^i)$$
				So that $y^j$ would be the coordinate induced from $\psi$ onto $M$. This means that, applying the definition of pullback:
				$${\partial (f\circ \psi^{-1})\over \partial z^j}={\partial\over \partial y^j}f$$
				While the first term as well beccomes:
				$${\partial (\psi\circ \phi^{-1})^a\over \partial r^i}={\partial y^j\over \partial x^i}$$
				Thus, we get:
				$${\partial \over \partial x^i}={\partial y^j\over \partial x^i}{\partial\over \partial y^j}$$
			\end{Obs}
			\begin{Obs}
				The above result immediately implies that the components of a vector change in the opposite way: if $X_p=a^i(p){\partial\over \partial x^i}\bigg|_p$ at a certain point in a certain coordinate frame, then in another frame:
				$$X_p=b^j(p){\partial\over \partial y^j}\bigg|_p$$
				And so:
				$$b^j(p)={\partial y^j\over \partial x^i}a^i(p)$$
			\end{Obs}
			\begin{Exe}
				\begin{itemize}
					\item Consider the following map:
					$$F:\mathbb{R}^2\rightarrow \mathbb{R}\hbox{ like }F(x,y)=x^3+xy+y^3+1$$
					Find the points in which $F_*$ is injective and or surjective.
					\\
					\\
					The definition of push-forward is:
					$$F_*(X)f=X(f\circ F)$$
					This means that we can write in coordinates:
					$$F_*(X)f=X^i\partial_i(f\circ F)=X^i\partial_i F^j\tilde{\partial}_jf$$
					Where $\tilde{\partial}_j$ are the coordinates induced by $F$. Thus, we write:
					$$F_*=\partial_iF^j\tilde{\partial}_j$$
					In our case we have:
					$$F_*=\begin{pmatrix}
						\partial_x F(x,y) & \partial_y F(x,y)
					\end{pmatrix}=\begin{pmatrix}
					3x^2+y & 3y^2+x
					\end{pmatrix}$$
					This map is clearly never injective (from linear algebra) and it is surjective everywhere except in $(0,0),(-1/3,-1/3)$.
					\item Consider the following maps:
					$$F:\mathbb{R}^2\rightarrow \mathbb{R}^2\hbox{ like }F(x,y)=(x^2-2y,4x^3y^2)$$
					$$G:\mathbb{R}^2\rightarrow \mathbb{R}^3\hbox{ like }G(x,y)=(x^2y+y^2,x-2y^3,ye^x)$$
					Compute their push-forward. What is the image of $G(0,0)$?.\\
					\\
					As we showed before, computing the push-forward is equal to computing the Jacobian.
					$$F_*=\begin{pmatrix}
						\partial_x F_x & \partial_y F_x\\
						\partial_x F_y & \partial_y F_y
					\end{pmatrix}=\begin{pmatrix}
					2x & -2\\
					12x^2y & 8x^3y
					\end{pmatrix}$$
					$$G_*=\begin{pmatrix}
						\partial_x G_x & \partial_y G_x \\
						\partial_x G_y & \partial_y G_y\\
						\partial_x G_z & \partial_y G_z\\
					\end{pmatrix}=\begin{pmatrix}
						2xy & x^2+2y\\
						1 & -6y^2\\
						ye^x& e^x
					\end{pmatrix}$$
					Lastly, we have:
					$$G_*\big|_{(0,0)}=\begin{pmatrix}
						0 & 0\\
						1 & 0\\
						0& 1
					\end{pmatrix}$$
				\end{itemize}
			\end{Exe}
			\section{Submanifolds}
			In this sections we dive into the notion of submanifolds. This is a really necessary step in the whole architecture of differential geometry, as it will provide some results which will be used later on. The idea is to find a criterion to identify when a particular subset of a manifold is a submanifold (it behaves nicely topologically and is still smooth).
			\begin{Def}
				Let $M$ be a manifold of simension $n$. We call \textit{regular submanifold of dimension $k$} of $M$ a subset $S\subset M$ such that for all $p\in S$ there is a chart $(U,\phi)$ of $M$ such that $U\cap S$ is defined by the vanishing of the last $n-k$ coordinates.
			\end{Def}
			\begin{Prop}
				A regular submanifold of dimension $k$ is a manifold of dimension $k$.
			\end{Prop}
			\begin{proof}
				This is almost immediate. Let $S\subset M$ be our immersed submanifold. Then we can endow it with the subspace topology, which ensures that $S$ is both T2 and second countable. Moreover, considering two charts of $M$ like $(U,\phi)$ and $(V,\psi)$, we have some induced charts:
				$$(U\cap S,\phi)\hbox{ and }(V\cap S,\psi)$$
				Those are compatible:
				$$\phi\big|_S(p)=(x^1,...,x^k,0,...,0)\hbox{ and }\psi\big|_S(p)=(y^1,...,y^k,0,...,0)$$
				Those are compatible on $M$ and so they will also be on the reduction on $S$.
			\end{proof}
			\begin{Def}
				A smooth map $F:M\rightarrow N$ between manifolds is said to be an \textit{immersion} at $p$ if it's push-forward at $p$ is injective, a \textit{submersion} at $p$ if it is srujective.
			\end{Def}
			Clearly, if a map is an immersion/submersion at all points, we just call it immersion/submersion.
			\begin{Ex}
				Here are two clear examples:
				\begin{itemize}
					\item The inclusion map $\pi:\mathbb{R}^k\rightarrow \mathbb{R}^n$ with $k<n$ and:
					$$\pi(x^1,...,x^k)=(x^1,...,x^k,0,...,0)$$
					is clearly an immersion.
					\item The classical projection $\pi:\mathbb{R}^n\rightarrow \mathbb{R}^k$ with $k<n$ and:
					$$\pi(x^1,...,x^n)=(x^1,...,x^k)$$
					is a submersion.
				\end{itemize}
			\end{Ex}
			Be aware that sometimes an immersion is indexed with the hook:
			$$i:N\hookrightarrow M$$
			\begin{Def}
				Let $f:N\rightarrow M$ be a map between two sets. We call \textit{level set} for some $p\in M$ the set:
				$$f^{-1}(p)=\big\{q\in N\hbox{ such that }f(q)=p\big\}$$
			\end{Def}
			\begin{Def}
				Let $f:N\rightarrow M$ a smooth map between manifolds and $p\in M$. We call $f^{-1}(p)$ a \textit{regular level set} if $f_{*,q}$ is surjective i.e. if $f$ is a submersion in all the level set. 
			\end{Def}
			We now state an important result, whicb will allow us to identify when a level set of a smooth map defines a submanifold.
			\begin{Theo}[\textbf{Regular level set}]
				Let $f:N\rightarrow M$ be a smooth map between manifolds and let $f^{-1}(c)$ be a non empty regular level set. Then
	 			$f^{-1}(c)$ is a submanifold of $N$ of dimension $dim(N)-dim(M)$.			
			\end{Theo}
			\begin{proof}
				Consider a chart of $M$ like $(V,\psi)$ containing $c\in M$. Then, $f^{-1}(V)$ contains $f^{-1}(c)$. Also, susuppose to choose the chart such that $\psi(c)=\vec{0}$. This implies that $(\psi\circ f)^{-1}(0)$ is a regular level set.\\
				Now choose another chart, in $N$, like $(U,\phi=x^i)$, containing $p\in f^{-1}(c)$ and contained in $f^{-1}(c)$. Since by hypothesis we have a regular level set, the Jacobian matrix
				$$\partial F\over \partial x$$
				has maximal rank inside $f^{-1}(V)$. \\
				The idea is now to claim that the couple:
				$$(U,F^1,...,F^{dim(M)},x^{dim(M)+1},...,x^{dim(N)})$$
				is a chart, comaptible with the previous atlas. For simplicity, we call $dim(M)=m, dim(N)=n$. If we look at the Jacobian matrix of this new chart candidate, we have:
				$$J=\begin{pmatrix}
					{\partial F^i\over \partial x^j} & {\partial F^i\over \partial x^\alpha}\\
					{\partial x^\beta\over \partial x^j} & {\partial x^\beta\over \partial x^\alpha}
				\end{pmatrix}$$
				Where the indices $i,j$ go from $1$ to $m$, while $\alpha,\beta$ go from $m+1$ to $n$. This is of the form:
				$$\begin{pmatrix}
					{\partial F^i\over \partial x^j} & {\partial F^i\over \partial x^\alpha}\\
					0 & \mathbb{I}
				\end{pmatrix}$$
				Since the determinant of the up-left submatric is non 0 by the above arguments:
				$$det\big({\partial F^i\over \partial x^j}\big)\neq 0$$
				it means that the whole determinant is not 0. Thus, there is a neighbourhood of $p\in f^{-1}(c)$ in which the map:
				$$(F^1,...,F^{dim(M)},x^{dim(M)+1},...,x^{dim(N)})$$
				is a diffeomorphism in the previous coordinates. This concludes the proof.
			\end{proof}
			\begin{Ex}
				We now make some examples of regular submanifolds.
				\begin{itemize}
					\item Clearly if $k<n$ then $\mathbb{R}^k\subset \mathbb{R}^n$ is a regular submanifold since it is determined by the vanishing of $n-k$ coordinates.
					\item Consider the sphere $S^n$. This is clearly defined as the level set of the map:
					$$f:\mathbb{R}^{n+1}\rightarrow \mathbb{R}\hbox{ like }f(\vec{x})=||x||^2$$
					In particular $S^n=f^{-1}(1)$. 
					This level set is regular. In fact $f_*=df=\nabla f=2\vec{x}$. This is never 0 since we are in the level set of $1$. From REFERENZA, since this level set is regular, the sphere is a regular submanifold of $\mathbb{R}^{n+1}$. 
					\item Consider the real special linear group:
					$$SL(n,\mathbb{R})=\big\{A\in GL(n,\mathbb{R})\hbox{ with }det(A)=1\big\}$$ 
					Consider the map $f(A)=det(A)$. Clearly, $SL(n,\mathbb{R})=f^{-1}(A)$. This level set is indeed regular. To see this, recall that $det(A)$ is a linear combination of all of the determinants of the minor submatrices of $A$ (from linear algebra). Thus, indexing with $A^i_j$ the elements of $A$, we have:
					$${\partial f\over \partial A^i_j}\propto det(m^i_j)$$
					Where $m^i_j$ is one of such submatrices. Now, in order for the level set to not be regular, we would have all such minor to have determinant equal to 0. This would automatically imply that $det(A)=0$. Since this is false, the level set is regular. From REFERENZA, the special linear group is indeed a regular submanifold of the general linear group.
				\end{itemize}
			\end{Ex}
			Before concluding, a couple of words on immersed submanifolds.
			\begin{Def}
				Let $S\subset M$ be the subset of a smooth manifold. We call $S$ an immersed submanifold if it can be given aa topology and a smooth structure such that $S$ becomes a smooth manifold and the inclusion $i:S\hookrightarrow M$ a smooth immersion.
			\end{Def}
			\begin{Obs}
				We have seen that for regular submanifolds, the subset $S\subset M$ was automatically given the subset topology. For immersed submanifold this hypothesis no longer holds. The topology one gives to $S$ is constructed so that the inclusion becomes a smooth immersion. This makes it so that the topology often differs from the subset topology.
			\end{Obs}
			\begin{Theo}
				Let $f:N\rightarrow M$ be a smooth map between manifolds. If $f$ is an injective immersion, then $F(N)$ can be given a unique topology and a smooth structure that make it an immersed submanifold of $M$.
			\end{Theo}
			\begin{proof}
				The biggest problem is the topology. In general, we do not want the subset topology. We declare a set $V\subset F(N)$ to be open if $f^{-1}(V)$ is open in $N$. The charts we take have the form:
				$$(f(U),\phi\circ f^{-1})$$
				Where $(U,\phi)$ is a chart on $N$. Those charts are compatible by construction so they make a smooth atlas. The topological properties are inherited from the fact that with this topology the restriction $f\big|_{f(N)}$ is an homeomorphism. To conclude the proof, we need to show that the inclusion is a smooth immersion:
				$$i:f(N)\xrightarrow{f^{-1}}N\xrightarrow{f} M$$
				The first map is a diffeomorphism and the second is a smooth immersion. Thus the result is a smooth immersion.
			\end{proof}
			\begin{Ex}
				We now make some examples of immersed submanifolds.
				\begin{itemize}
					\item Consider the sphere $S^n$. This was previously shown to be a manifold. However, we can show it is an immersed submanifold or $\mathbb{R}^{n+1}$. This is easy since the immersion is the identity:
					$$i:S^n\rightarrow \mathbb{R}^{n+1}\hbox{ is defined as }i(\vec{x})=\vec{x}$$
					This is clearly a smooth immersion.
					\item Consider the real special linear group:
					$$SL(n,\mathbb{R})=\big\{A\in GL(n,\mathbb{R})\hbox{ with }det(A)=1\big\}$$
					From REFERENZA this is a regular submanifold of the real general linear group. However it is also an immersed submanifold since the immersion is once again the identity.
				\end{itemize}
			\end{Ex}
	\chapter{Fiber bundles}
		\section{Fiber bundles}
		\section{Vector bundles}
			In this section we will introduce the notion of vector bundles. Intuitively, those are fiber bundles in which the fiber is a vector space.
			\begin{Def}
				Let $E,M$ be manifolds and $\pi:E\rightarrow M$ smooth and surjective. We define \textit{rank $k$ vector bundle} the quadruple $(E,M,\pi,\mathbb{R}^k)$ if the following conditions are met:
				\begin{itemize}
					\item for any $p\in M$, $\pi^{-1}(p)\equiv E_p$ is a vector space of dimension $n$;
					\item for any $p\in M$ there is an open set $U\subset M$ containing $p$ and a diffeomorphic map 
					$$\phi:\pi^{-1}(U)\longrightarrow U\times \mathbb{R}^k$$
					called \textit{local trivialization} such that:
					\begin{itemize}
						\item[1)] at any point $\phi_p=\phi\big|_{\pi^{-1}(p)}$ is a linear isomorphism;
						\item[2)] the following diagram commutes:\\\\
						\begin{center}
							\begin{tikzcd}
								E\arrow{dd}{\pi}\arrow{rr}{\phi}&&U\times \mathbb{R}^k\arrow{ddll}{Pr_1}\\\\
								M&&
							\end{tikzcd}
						\end{center}
						Where $Pr_1(p,v)=p$ is the standard projection. 
					\end{itemize}
				\end{itemize}
				As usual, we call $E$ the \textit{total space} of the bundle, $M$ the  \textit{base space} and $E_p$ the fiber.
			\end{Def}
			The idea is the same one used for fiber bundles: a vector bundle is the information of a manifold that locally (in general only locally) "looks like" a product space. 
			\begin{Def}
				If $E$ is diffeomorphic to $M\times \mathbb{R}^k$ we say that the bundle is \textit{trivial}.
			\end{Def}
			\begin{Ex}
				We make a couple of examples of some vector bundles.
				\begin{itemize}
				\item The \textit{trivial} bundle is $(M\times V,M,\pi,\mathbb{R}^n)$, where $V$ is a $n$-dimensional vector space and $\pi:M\times V\rightarrow M$ is the standard projection. This is clearly a fiber bundle as in REFERENZA and the local trivializations are just the identity map. It is clear that those reduce to linear isomorphisms.
				\end{itemize}
			\end{Ex}
	\section{Sections and transition functions}
		In this section we will briefly look at the notion of section of a vector bundle; and at the behaviour of transition functions. The idea is pretty simple, since to any point of the base space we associate a vector space, changing the trivialization means acting on the fiber with a linear map.
		\begin{Prop}
			Let $(E,M,\pi,\mathbb{R}^k)$ be a vector bundle. Let $\phi_{1,2}:\pi^{-1}(U_{1,2})\rightarrow U_{1,2}\times \mathbb{R}^k$ be two overlapping local trivialzizations. Then there exists a smooth map $g_{12}:U_1\cap U_2\rightarrow GL(n,\mathbb{R})$ such that:
			$$\phi_1\circ \phi_2^{-1}(p,\vec{v})=(p,g(p)\cdot \vec{v})$$
		\end{Prop}
		\begin{proof}
			By defining property, we have:
			$$Pr_1\circ \phi_1=\pi=Pr_1\circ \phi_2$$
			This implies, by invertibility:
			$$Pr_1=Pr_1\circ \phi_1\circ \phi_2^{-1}$$
			Automatically, we have:
			$$\phi_1\circ \phi_2^{-1}(p,\vec{v})=(p,f(p,\vec{v}))$$
			However, by construction, fixing $p\in M$ we have a linear isomorphism. This means that:
			$$f(p,\vec{v})=g(p)\cdot \vec{v}\hbox{ where }g(p)\in GL(k,\mathbb{R})$$
			Since the maps used in the composition are smooth, we also have that $g(p)$ is smooth. To better see this, choose a basis $\{e_i\}$ for $E_p$. Then there is a dual basis $\{e^i\}$ so that:
			$$f(p,\vec{v})=g^a_b(p)v^be_a\implies g^a_b(p)=e^a(f(p,e_b))$$
		\end{proof}
		\begin{Def}
			Let the notation be as above. We call the map $g:U\rightarrow GL(n,\mathbb{R})$ \textit{transition function}.
		\end{Def}
		Clearly, $g_{ij}$ has the following properties:
		\begin{Prop}
			Let the notation be as above, then the transition functions are such that:
			\begin{itemize}
				\item $g_{ij}^{-1}=g_{ji}$;
				\item $g_{ik}\circ g_{kj}=$
			\end{itemize}
		\end{Prop} 
		\begin{Def}
			We call \textit{local section of the bundle $E$} a map $s:U\subset M\rightarrow E$ such that: 
			$$\pi\circ s=\mathbb{I}$$
			We call the space of smooth sections on a bundle $\Gamma(E)$.
		\end{Def}
		The notion of section is extremely important and thus i feel like it is necessary to have a sort of physical interpretation for it. The idea is to "cut" the bundle. A section provides an element of the fiber to any point on its domain. Thus, it sorts of "cuts trajectories" in the bundle.
		\begin{Def}
			We call a \textit{local frame} for a bundle $E$ a set of sections $\{s_i:U\subset M\rightarrow E\}$ that form a base for $E_p$ at any $p\in M$.
		\end{Def}
		\begin{Prop}
			A vector bundle is trivial if and only if it has a smooth global frame.
		\end{Prop}
		\begin{proof}
			Suppose that the vector bundle is trivial i.e. there is a diffeomorphism $\psi:E\rightarrow M\times \mathbb{R}^k$. Then, picking any base $\{r_i\}$ for $\mathbb{R}^k$, we define the frame:
			$$s_i(p)=\psi^{-1}(p,r_i)$$
			Now, suppose to have a global frame $\{s_i\}$. This means that any $e\in E$ can be written like: $e=e^i(p)s_i(p)$ at any point. Then we can construct a global trivialization:
			$$\psi:E\rightarrow M\times \mathbb{R}^k$$
			$$\psi(e)=(\pi(e),e^1,...,e^k)$$
			This has a clear inverse and clearly reduces to an isomorphism on the fibers. The smoothness is free since $\pi$ is smooth by assumption.
		\end{proof}
		\section{The tangent bunlde}
			This section is devoted to the study of the most important example of vector bundle: the tangent bundle. We will go through its definition and we will see how we can describe vectors by the means of it.
			\begin{Def}
				We define the\textit{ tangent bundle} as the set:
				$$TM=\bigcup_{p\in M}T_pM$$
			\end{Def}
			The idea is simple, to glue together all of the possible tangent spaces. However, as of now, this is just a set.
			\begin{Theo}
				Let $M$ be a smooth manifold of dimension $n$. The tangent bundle $TM$ is a manifold of dimension $2n$ and describes a vector bundle on $M$ with fiber $\mathbb{R}^n$. 
			\end{Theo}
			\begin{proof}
				The proof will develop as follows: first of all we will show that $TM$ is a smooth manifold i.e. prove that it has a nice topology and a smooth structure; then we will look at the trivializations to show that it is a bundle.\\
				\\
				Let $(U,\phi)$ be a chart on $M$. This induces a base for $T_pM$ at any $p\in U$ like $\{\partial_i\}$. Thus, we can define the following map:
				$$\Phi:\pi_{TM}^{-1}(U)\rightarrow \mathbb{R}^{2n}$$
				$$\Phi(v_p)=(\phi(p),v^i(p)\partial_i\big|_p)$$
				This map has a clear inverse:
				$$\Phi^{-1}(\vec{x},\vec{v})=v_p\hbox{ such that }v_p=v^i(p)\partial_i\big|_p\hbox{ and }p=\phi^{-1}(\vec{x})$$
				We define the topology of $TM$ in such a way that this map becomes a homeomorphism: we call a set $A\subset TU$ open in $TU$ iff $\Phi(A)$ is open in $\mathbb{R}^{2n}$.\\
				\\
				The next step is not really strictly necessary but helps with the formality.\\
				\\
				The aim is now to biuld a base for this induced topology.
				Let $\mathcal{A}=\{(U_i,\phi_i)\}$ be an atlas for $M$ and define the following set:
				$$\mathcal{C}=\big\{A\subset TM\hbox{ such that }A \hbox{ is open in }TU_i\big\}$$
				\begin{Lm}
					If $A_{1,2}$ are open in $TU_{1,2}$, then $A_1\cap A_2$ are open in $T(U_1\cap U,2)$.
				\end{Lm}
				\begin{proof}
					This is easy since clearly, due to $A_{1,2}\subset TU_{1,2}$, $A_1\cap A_2\subset T(U_1\cap U_2)$ and, from the definition of subset topology, $A_{1,2}\cap T(U_1\cap U_2)$ are open. Automatically:
					$$A_1\cap A_2\cap T(U_1\cap U_2)=[A_1\cap T(U_1\cap U_2)]\cap [A_2\cap T(U_1\cap U_2)]$$
					Those are intersections of open sets and so are open.
				\end{proof}
				From REFERENZA, $\mathcal{C}$ is a basis for some topology since:
				\begin{itemize}
					\item All elements of $\mathcal{C}$ cover $TM$ by construction;
					\item for any $v_p\in A_1\cap A_2$ there is an open $A$ such that $v_p\in A\subset A_1\cap A_2$.
				\end{itemize}
				The second quality naturally descends from the lemma.\\
				\\
				Consider now a countable basis (from REFERENZA it exists) of charts for $M$ like $\{U_i\}$. Every one of those will define $TU_i$ which, being homeomorphic to $\mathbb{R}^{2n}$, is second countable. Since there is a countable number of $U_i$, we have a second countable basis for $TM$.\\
				\\
				The T2 quality immediately follows from the homeomorphism witb $\mathbb{R}^{2n}$.\\
				\\
				As for the trivializations, consider the map:
				$$\psi=(\phi^{-1}\times \mathbb{I})\circ \Phi:\pi_{TM}^{-1}(U)\rightarrow U\times \mathbb{R}^n$$
				This clearly reduces to a vector space isomorphism on the fibers. Moreover, it is clearly diffeomorphic. 
			\end{proof}
			\begin{Cor}
				Any smooth manifold $M$ of dimension $n$ has a rank $n$ vector bundle:
				$$(TM,M,\pi_{TM},\mathbb{R}^n)$$
			\end{Cor}
			\begin{center}
				$$
				\begin{tikzcd}
					&&U\times\mathbb{R}^n&&\\\\
					TM\arrow{dd}{\pi_{TM}}\arrow{rr}{}&&TU\arrow{dd}{\pi_{TM}}\arrow{rr}{\Phi}\arrow{uu}{\psi}&&\mathbb{R}^{2n}\\\\
					M\arrow{rr}{}&&U\arrow{rr}{\phi}&&\mathbb{R}^n
				\end{tikzcd}
				$$
			\end{center}
			Clearly, in the above diagram, the arrows without name are inclusions.
			\begin{Def}
				We define a \textit{vector field} as a section of the tangent bundle $\Gamma(TM)$ and we identify this space with $\mathfrak{X}(M)$.
			\end{Def}
		\section{The cotangent bundle}
		In this section we define yet another important object: the cotangent bundle. This can be thought of as the dual of the tangent bundle. We are going to see some properties of this object and study covectors or differential 1-forms. In some sense, the 1-forms will be the actual protagonist of our journey.
		\begin{Obs}
			At any point $p\in M$ we have a vector space $T_pM$ of dimension $n$. This implies the existence of a dual space $T_pM^* $ at any point.
		\end{Obs}
		\begin{Def}
			We define the \textit{co-tangent} bundle as the set 
			$$TM^*=\bigcup_{p\in M}T_pM^*$$
		\end{Def}
		\begin{Theo}
			The tangent bundle is a smooth manifold and defines a rank $n=dim (M)$ smooth vector bundle on $M$.
		\end{Theo}
		\begin{proof}
			The proof is identical to the one used in REFERENZA for the tangent bundle.
		\end{proof}
		\begin{Obs}
			Note that once we choose a base for the tangent base $\{{\partial \over \partial x^i}\}$ i.e. a chart $(U,\phi)$, we automatically have an isomorphism between $T_pM$ and $T_pM^*$ at each point in the set $U$. This implies the definition of a dual base: $dx^i$ such that:
			$$dx^i({\partial\over \partial x^j})=\delta^i_j$$
			Note that in general there is no canonical isomorphism between $T_pM$ and $T_pM^*$. In order for have a canonical identification we would need a product... we'll see what we can do.
		\end{Obs}
		\begin{center}
			$$
			\begin{tikzcd}
				&&U\times\mathbb{R}^n&&\\\\
				TM\arrow{dd}{\pi_{TM}}\arrow{rr}{}&&TU\arrow{dd}{\pi_{TM}}\arrow{rr}{\Phi}\arrow{uu}{\psi}&&\mathbb{R}^{2n}\\\\
				M\arrow{rr}{}&&U\arrow{rr}{\phi}&&\mathbb{R}^n\\\\
				TM^*\arrow{rr}{}\arrow{uu}{\pi_{TM^*}}&&TU\arrow{rr}{\Phi^*}\arrow{dd}{\psi^*}\arrow{uu}{\pi_{TM^*}}&&\mathbb{R}^{2n}\\\\
				&&U\times \mathbb{R}^n&&
				\end{tikzcd}
				$$
			\end{center}
		Clearly, in the above diagram, the dual trivializations and charts are indexed with the (*) symbol. Also, the projection $\pi_{TM^*}:TM^*\rightarrow M$ acts in the naive way $\pi_{TM^*}(\omega_p)=p$
		\begin{Def}
			We define a \textit{covector field} of a \textit{differential 1-form} as a section of the co-tangent bundle:
			$$\omega\in \Gamma(TM^*)$$
		\end{Def}
		\begin{Obs}
			Clearly, in any coordinate frame, we have the following decomposition:
			$$\omega=\omega_i dx^i$$
			where, being smooth, $\omega_i:M\rightarrow \mathbb{R}$ are smooth maps.\\
			Also, due to the action of dual vectors on vectors, given a differential 1-form  $\omega$ and a vector field $X$, we have the following smooth map:
			$$\omega(X):M\rightarrow \mathbb{R}\hbox{ such that }\omega(X)(p)=\omega_pX_p$$
		\end{Obs}
		\begin{Exe}
			Prove that the above mapping
			$$\omega(X):M\rightarrow \mathbb{R}\hbox{ such that }\omega(X)(p)=\omega_pX_p$$
			is smooth.\\
			\\
			This is really easy and amounts to choosing one single chart $(U,\phi)$. This induces some cooridnates on $U\subset M$ like $x^i$, on $TU\subset TM$ like $\partial_i$ and on $TU^*\subset TM^*$ like $dx^i$. At this point, we have:
			$$\omega_pX_p=\omega_i(p)dx_p^i(X^j(p)\partial_j\big|_p)=\omega_i(p)X^i(p)$$
			Done.
		\end{Exe}
		\begin{Def}
			Let $f:M\rightarrow \mathbb{R}$ be a smooth map. We define its \textit{differential} as a differential 1-form defined like:
			$$df(X)_p=X_pf$$
		\end{Def}
		\begin{Obs}
			Clearly, in coordinates:
			$$df=\partial_i fdx^i$$
			This is smooth as well.
		\end{Obs}
		\begin{Obs}
			Note that the differential amounts to taking the gradient. Recall also that the push-forward corresponded to calculating the Jacobian of the function. This justifies an abuse of notation for the pushforward of maps like $F:M\rightarrow N$. In coordinates sometimes it is written:
			$$F_*\equiv dF$$
			Basically in coordinates taking the push-forward is the same thing as taking the gradient of all of the layers of the function. 
		\end{Obs}
		\begin{Def}
			Let $F:M\rightarrow N$ be a smooth manp between manifolds. We define the \textit{pull-back through $F$} as a map:
			$$F^*:T_pN^*\rightarrow T_pM^*$$
			such that for any 1-form at a point $\omega_{F(p)}\in T_{F(p)}N$, we have that $F^*\omega_{F(p)}$ is a 1-form at $p$:
			$$(F^*\omega_{F(p)})(X_p)=\omega_{F(p)}(F_*X_p)$$ 
		\end{Def}
		\section{Curves in a manifold}
		In this section we briefly go through the notion of curve in a smooth manifold. We will see that to any point in a curve we can associate a tangent vector. There is an obvious physicsl interpretation to this: the tangent vector is the velocity.
		\begin{Def}
			We define a smooth curve in a manifold as a smooth map $\gamma:I\subset\mathbb{R}\rightarrow M$.
		\end{Def}
		\begin{Obs}
			Let $\gamma:]-\varepsilon,\varepsilon[\rightarrow M$ be a smooth curve and $p=\gamma(0)$ a point. Let $(U,\phi)$ be a chart around $p$. Then, for any map $f:M\rightarrow \mathbb{R}$ smooth, we can evalue how it behaves when restricted to the curve:
			$${d\over dt}(f\circ \gamma)=\gamma_*(\partial_t)f={d\over dt}(f\circ \phi^{-1}\circ \phi\circ \gamma)=$$
			$$={d\over dt}(\phi\circ\gamma)^i\partial_i\big|_{\gamma(t)}f$$
			We define the \textit{tangent vector to $\gamma$ in $p$} the following:
			$${d\over dt}\bigg|_0(\phi\circ \gamma)^i\partial_i=\hat{\gamma}(t)$$
		\end{Obs}
		\begin{Prop}
			Let $p\in M$ be a point and $X_p\in\mathfrak{X}(M)$. Then $X_p$ is a tangent vector to some curve in $p$.
		\end{Prop}
		\begin{proof}
			Consider a chart $(U,\phi)$ around $p$. We want to find a curve $\gamma$ such that:
			$${d\over dt}\bigg|_0(\phi\circ \gamma)=X_p$$
			This is easy: take $\phi\circ \gamma(t)=(tX^1,...,tX^n)$.
			Done.
		\end{proof}
		\begin{Def}
			We call $\gamma:I\rightarrow M$ an \textit{integral curve} of the vector field $X$ if $\hat{\gamma}(t)=X_{\gamma(t)}$.
		\end{Def}
		\begin{Prop}
			Given a vector field $X$ and a point $p\in M$, there is always a unique integral curve of $X$ around $p$.
		\end{Prop}
		\begin{proof}
			This is easy. Finding an integral curve means finding, in a coordinate chart, a curve $\phi\circ \gamma (t)=(c^1(t),...,c^n(t))$ such that:
			$$\begin{cases}
				{d\over dt}(\phi\circ \gamma)^i\partial_i=X^i\partial_i\\
				\gamma(0)=p
			\end{cases}$$
			This is a Cauchy problem and it is known from calculus that there is a unique solution in a neighbourhood of $\phi(p)$.
		\end{proof}
		The following result follows immediately:
		\begin{Theo}
			For $X\in\mathfrak{X}(M)$ it holds:
			\begin{itemize}
				\item Let $I\subset\mathbb{R}$ be an open set of the reals and $U\subset M$ be an open set containign $p\in U$. For all $(t_0,q)\in\mathbb{I}\times U$ and $V\subset U$ there is an integral curve $\gamma$ defined inside $V$, such that $\gamma(t_0)=p$;
				\item every two solutions $\gamma_{1,2}:I_{1,2}\rightarrow M$ agree on $I_1\cap I_2$;
				\item the solution of the above Cauchy problem depends smoothly on the choice of the initial point.
			\end{itemize}
		\end{Theo}
		\begin{proof}
			The first point follows from the Cauchy problem structure. The second point follows from the uniqueness of a Cauchy problem. The third point follows from the smoothness of the following map:
			$$Fl^X_t:M\rightarrow M\hbox{ like }Fl^X_t(p)=\gamma(t)\hbox{ starting at }p$$
		\end{proof}
		\begin{Obs}
			The above result means that we can order integral curves, namely, if $\gamma_i:I_i\rightarrow M$ are integral curves and $I_1\subset I_2$, then we say $\gamma_1\leq \gamma_2$.
		\end{Obs}
		\begin{Def}
			We call an integral curve of a vector field \textit{maximal} if $\gamma^{max}$ is not contained in any other integral curve.
		\end{Def}
		\begin{Def}
			A vector field is called \textit{complete} if the maximal integral curve is defined on $\mathbb{R}$ for all $p\in M$.
		\end{Def}
		\begin{Prop}
			The maximal integral curve of a vector field is unique.
		\end{Prop}
		\begin{proof}
			Having seen the previous results, this is obvious.
		\end{proof}
		\section{The pullback bundle for vector bundles}
		\section{Tensors}
		In this section we define the notion of tensor and tensor field on a smooth manifold and look at some of their properties.
		\begin{Obs}
			We have seen that $TM=\bigcup_{p\in M}T_pM$ and $TM^*=\bigcup_{p\in M}T_pM^*$ are vector bundles on $M$. Since at any point $T_pM$ is a vector space, we can define the tensor product $\bigotimes^k T_pM$ and equivalently for its dual. This automatically implies that at any point, havind selected a chart $(U,\phi)$ for $M$, there are some induced basis like $\{\partial_{i_1}\otimes...\otimes \partial_{i_k}\}$ and $\{dx^{i_1}\otimes...\otimes dx^{i_k}\}$. By the same identical pricedure used for the tangent bundle, we can define the following vector bundles:
			$$TM_k=\bigsqcup_{p\in M} \bigotimes^k T_pM$$
			$$ T^*M^k=\bigsqcup_{p\in M} \bigotimes^k T_pM^*$$
			$$TM^l_k=\bigsqcup_{p\in M} \bigotimes^k T_pM\bigotimes^l T_pM^*$$
			$$\bigwedge^k M=\bigsqcup_{p\in M} \bigwedge^k T_pM$$
		\end{Obs}
		\begin{Def}
			We call $(k,l)$ tensor a section of $TM^k_l$. This is a map $T:M\rightarrow TM^l_k$
		\end{Def}
		In a given coordinate chart we have:
		$$T=T_{i_1,...,i_l}^{j_1,...,j_k}dx^{i_1}\otimes...\otimes  dx^{i_l}\otimes \partial_{j_1}\otimes...\otimes \partial_{j_k}$$
		We can also extend the notion of pull-back in the obvious way.
		\begin{Def}
			Let $F:N\rightarrow M$ be a smooth map between manifolds. We define the \textit{pull-back} of a $k$-form $\omega\in\Omega^k(N)$ as:
			$$F^*_p\omega (X^1,...,X^k)=\omega_{F(p)}(F_*X^1,...,F_*X^k)$$
		\end{Def}
		The pull-back has some important properties.
		\begin{Prop}
			The following properties hold:
			\begin{itemize}
				\item[(1)] $F^*$ is $\mathbb{R}$-linear;
				\item[(2)] $F^*(f\omega)=(f\circ F)F^*\omega$;
				\item[(3)] $(F\circ G)^*=G^*\circ F^*$;
				\item[(4)] $F^*(\omega\otimes \rho)=F^*\omega\otimes F^*\rho$.
			\end{itemize}
		\end{Prop}
		\begin{proof}
			The proof is just a straightforward calculation.
			\begin{itemize}
				\item[(1)] Obvious.
				\item[(2)]  $F^*(f\omega)(X_1,...,X_k)=(f\omega)_F(p)(F_*X_1,...,F_*X_k)=(f\circ F(p))\omega_{F(p)}(F_*X_1,...,F_*X_k)$.
				\item[(3)] $$(F\circ G)^*\omega(X_1,...,X_k)=\omega(F_*\circ G_*(X_1),...,F_*\circ G_*(X_k))=$$$$=F^*\omega(G_*(X_1),..., G_*(X_k))=G^*\circ F^*\omega(X_1,...,X_k)$$
				\item[(4)] Obvious.
			\end{itemize}
		\end{proof}
		\begin{Def}
			We denote the space of smooth sections of the bundle $\bigwedge^k M$ like:
			$$\Omega^k(M):=\Gamma(\bigwedge^k M)$$
		\end{Def}
		\begin{Exe}
			\begin{itemize}
				\item Consider two vector fields $X,Y\in\mathfrak{X}(M)$. Prove that their commutator is still a vector field on $M$.
				\\
				\\
				This is easy in local coordinates:
				$$X=X^i\partial_i\hspace{20 pt}Y=Y^j\partial_j$$
				$$[X,Y]=X^i\partial_iY^j\partial_j-Y^j\partial_jX^i\partial_i+X^iY^j\partial_i\partial_j-Y^jX^i\partial_j\partial_i$$
				Due to the fact that partial derivatives commute, by renaming the indices we have:
				$$[X,Y]=(X^j\partial_jY^i-Y^j\partial_jX^i)\partial_i$$
				\item Consider the map $f:\mathbb{R}^3\rightarrow \mathbb{R}^2$ like $f(x,y,z)=(x-y,y^2+z)$. Consider then the form:
				$\omega=(2xy+x^2+1)dx+(x^2-y)dy$. Compute the pullback $f^*\omega$.\\
				\\
				By definition:
				$$f^*\omega=(\omega_i\circ f)f^*dx^i$$
				This means:
				$$\omega_x\circ f(x,y,z)=\omega_x(x-y,y^2+z)=2(x-y)(y^2+z)+(x-y)^2+1=$$
				$$=2xy^2+2xz-2y^3-2yz+x^2+y^2-2xy+1=$$
				$$=x^2+2xy(y-1)+2xz-2yz+y^2(1-2y)+1$$
				$$\omega_y\circ f(x,y,z)=\omega_y(x-y,y^2+z)=(x-y)^2-y^2-z=$$
				$$=x^2-2xy-z$$
				As for the basis elements, we have:
				$$F^*dx^i(\tilde{\partial_j})=dx^i(F_*\tilde{\partial_j})$$
				$$F_*\tilde{\partial_j}(g)=\tilde{\partial_j}(g\circ F)={\partial g\over\partial x^i}\tilde{\partial_j} F^i$$
				In turn this implies:
				$$F^*dx^i(\tilde{\partial_j})=dx^i(\tilde{\partial_j}F^k\partial_k)=\tilde{\partial_j}F^i$$
				Finally, we note that:
				$$d(x^i\circ F)(\tilde{\partial_j})=\tilde{\partial_j}(x^i\circ F)=\tilde{\partial_j}F^i$$
				Thus, it makes sense to write:
				$$d(x^i\circ F)=F^*dx^i$$
				Going back to our calculation, we have:
				$$f^*dx=d(x-y)=dx-dy\hspace{20 pt} f^*dy=2ydy+dz$$
				One then puts everything together.
			\end{itemize}
		\end{Exe}
		\section{Differential forms}
		In this section we give the basic notion of differential forms. Those are an extremely useful tool whoch finds many applications everywhere.
		\begin{Def}
			We define a $k$-form as a smooth section of the tensor bundle:
			$$\omega\in\Omega^k(M)$$
		\end{Def}
		\begin{Obs}
			Clearly, in a coordinate chart we can write:
			$$\omega={1\over k!}\omega_{i_1,...,i_k}dx^{i_1}\wedge ...\wedge dx^{i_k}$$
		\end{Obs}
		\begin{Ex}
			Show that if $\omega$ is a $k$-form and $X_1,...,X_k$ are vector fields then:
			$$\omega(X_1,...,X_k)=det(\omega^iX_j)$$
			This is just a matter of expanding in coordinates all of the objects. From REFERENZA we have:
			$$dx^{i_1}\wedge ...\wedge dx^{i_k}(\partial_{j_1},...,\partial_{j_k})={1\over k!}\sum_\sigma sgn(\sigma) dx^{i_{\sigma(1)}}(\partial_{j_1})dx^{i_{\sigma(2)}}(\partial_{j_2})...dx^{i_{\sigma(k)}}(\partial_{j_k})=$$
			$$={1\over k!}\sum_\sigma sgn(\sigma) \delta^{i_{\sigma(1)}}_{j_1}\delta^{i_{\sigma(2)}}_{j_2}...\delta^{i_{\sigma(k)}}_{j_k}=det(\delta^i_j)$$
		\end{Ex}
	\chapter{Distributions}
	In this chapter we introduce the notion of distribution. This is an extremely wide topic, which evolves mainly around the infamous Frobenius theorem. The idea is simple: when does a distributuion of tangent vectors define a smooth manifold?
 		\section{Generalized distributions}
 		In this section we go through an important generalization of Frobenius theorem. The idea is the same, however we would like to somewhat drop the requirement of the constant rank.
 		\begin{Def}
 			A \textit{distribution} $D$ is a pointwise assignment $p\mapsto D_p\subset T_pM$. If this assignment is smooth the distribution is called \textit{smooth}. If for any $p$ one has that $D_p$ has dimension $k$ the distribution is called constant rank.  		
 		\end{Def}
 		\begin{Ex}
 			Let us now see some easy examples of distributions:
 			\begin{itemize}
 				\item Consider the map: $(x,y,z)\mapsto (z\partial_x,\partial_y,0)$ in $\mathbb{R}^3$. This is clearly a smooth distribution. However, it is not constant rank. In fact we see that in the plane $z=0$ the distribution loses a direction.
 				\item Consider the \textit{Euler vector field:}
 				$$E=x\partial_x+y\partial_y$$
 				This is a distribution in $\mathbb{R}^2$ but it is not constant rank.
 				\item An easy example of a constant rank distribution is the trivial one:
 				$$\{\partial_x,\partial_y\}$$
 			\end{itemize}
 		\end{Ex}
 		\begin{Prop}
 			If $D$ is a smooth distribution of constant rank $k$, it defines a sub-bundle of the tangent bundle.
 		\end{Prop}
 		\begin{proof}
 			This is obvious from REFERENZA.
 		\end{proof}
 		\begin{Def}
 			A distribution is called involutive if it is closed under the Lie braket: $[D,D]\subset D$.
 		\end{Def}
 		\begin{Prop}
 			Let $D$ be an involutive constant rank distribution. Then, locally, $D$ has a base of commuting vector fields.
 		\end{Prop}
 		\begin{proof}
 			Take any base, local, of $D$: $\{Y_i\}_{i=1,...,k}$. In a chart we will have:
 			$$Y_i=Y_i^j\partial_j$$
 			Where $j$ goes from $1$ to $n$ and $i$ from $1$ to $k<n$. This defines a matrix $[Y_i^j]$, which is not invertible. However, since the vector fields are a base for $D$, they are linearly independent. Without losing generality, we can thus restrict ourselves to the $k\times k$ sub-matrix of the first $k$ coordinates. This will be invertible. Define:
 			$$X_l=(Y^{-1})^i_lY_i=\partial_l+(Y^{-1})^i_lY_i^j\partial_j$$
 			It is clear that in the right-hand side, the first term has the index $l$ travelling from $1$ to $k$, while the second term has the index $j$ goes from $k+1$ to $n$. Now, by construction:
 			$$[X_l,X_m]=\hbox{span}\{\partial_{k+1},...,\partial_n\}$$
 			However, since the distribution is involutive, we must have:
 			$$[X_l,X_m]=f_{lm}^bX_b$$
 			This is absurd. Therefore $\{X_i\}$ commute.
 		\end{proof}
 		\begin{Def}
 			A smooth distribution $D$ is called \textit{homogeneous} if it is invariant under the flow of its vector field, i.e.:
 			$$(Fl_t^X)_*D=D_{Fl^X_t}$$
 		\end{Def}
 		\begin{Ex}
 			We now make some example to better grasp the meaning of the previous definition.
 			\begin{itemize}
 				\item Consider any nowhere vanishing vector field $X\in\mathfrak{X}(M)$. THis defines a distribution: $p\mapsto X_p$. This distribution is trivially homogeneous, involutive and of cosntant rank $1$.
 				\item Consider the distribution:
 				$$D=\{\partial_x,\partial_y\}$$
 				defined in $\mathbb{R}^3$. Clearly, the integral curves of those fields are:
 				$$\gamma_x(t)=(t+x_0,y_0,z_0)\hbox{ and }\gamma_y(t)=(x_0,t+y_0,z_0)$$
 				This implies that:
 				$$(Fl_t^{\partial_x})_*=\begin{pmatrix}
 					1 & 0 & 0\\
 					0 & 1 & 0\\
 					0 & 0 & 1
 				\end{pmatrix}$$
 				Thus $(FL_t^{\partial_x})_*\partial_y=\partial_y$
 				At the same time $\partial_y\big|_{FL_t^{\partial_x}(p)}$
 				The same goes for $\partial_y$.
 				\item Consider the distribution:
 				$$D=\{y\partial_x,\partial_y\}$$
 				defined in $\mathbb{R}^3$. We clearly have:
 				$$\gamma_x(t)=(y_0t+x_0,y_0,z_0)\hbox{ and }\gamma_y(t)=(x_0,t+y_0,z_0)$$
 				Clearly
 				$$(Fl_t^X)_*=\begin{pmatrix}
 					1 & t & 0\\
 					0 & 1 & 0\\
 					0 & 0 & 1
 				\end{pmatrix}$$
 				And consequently:
 				$$(Fl_t^X)_*\partial_y=t\partial_x+\partial_y$$
 				\item Consider the distribution:
 				$$D=\{\partial_x,x\partial_x+y\partial_y\}$$
 				defined in $\mathbb{R}^3$. Clearly, the integral curves of those fields are:
 				$$\gamma_1(t)=(x_0+t,y_0,z_0)\hbox{ and }\gamma_2(t)=(xe^t,ye^t)$$
 				If now we compute the push-forward:
 				$$(Fl_t^X)_*=\begin{pmatrix}
 					1 & 0 & 0\\
 					0 & 1 & 0\\
 					0 & 0 & 1
 				\end{pmatrix}$$
 				$$(Fl_t^X)_*(x\partial_x+y\partial_y)=(x\partial_x+y\partial_y)$$
 				However, even if this matrix is the identity, this flow does not preserve the vector field since:
 				$$(x\partial_x+y\partial_y)\big|_{Fl_t^{\partial_x}(x,y,z)}=(x\partial_x+(y+t)\partial_y)$$
 			\end{itemize}
 			It is worth noticing that the distribution in the first example is involutive, while the other aren't.
 		\end{Ex}
 		\begin{Obs}
 			Notice that in all our previous definitions we did not require the distribution to be constant rank.
 		\end{Obs}
 		\begin{Def}
 			An \textit{adapted chart} around $p\in M$ for the distribution $D$ is a chart $(U,\phi)$ such that:
 			\begin{itemize}
 				\item [(i)] $\phi(p)=\vec{0}$ and $\phi(U)=]-\varepsilon,\varepsilon[^n$
 				\item[(ii)] given that $rank D=r$ at $p\in M$, we have that the collection $\{\partial_i\}_{i=1,...,r}\in \mathfrak{X}^D_{loc}(M)$;
 				\item[(iii)] for all $\vec{x}\in]-\varepsilon,\varepsilon[^{n-r}$ the distribution has constant rank along the slice $$\phi^{-1}(]-\varepsilon,\varepsilon[^r\times \vec{x})$$
 			\end{itemize}
 		\end{Def}
 		\begin{Obs}
 			Inside the adapted chart, the point with the lowest rank is exactly $p$, due to condition $2$.
 		\end{Obs}
 		\begin{Obs}
 			The third requirement is trivially satisfied if the distribution has constant rank. The key idea is the following: $D$ is allowed to change in rank, but in different slcies: those slices must not contain the integral curves of the fields. To put it in different terms: the change in rank must depend on the "reduntant coordinates" of the distribution.
 		\end{Obs}
 		\begin{Ex}
 			We now make an easy example of a distribution with an adapted chart at any point.\\
 			\\
 			Consider the follopwing distribution defined in $\mathbb{R}^3$:
 			$$D=\{z\partial_x,\partial_y\}$$
 			This distribution is clearly involutive, but it is not constant rank. In particular, in the hypersurface $z=0$, the rank drops to 1.\\
 			\\
 			Take any point $(x,y,z)$. We define the following adapted chart:
 			$$\phi(x,y,z)=(x,y,z)$$
 			Clearly, we have that condition (ii) of REFERENZA is satisfied. Moreover, taking any possible slice of fixed $z$, the distribution has constant rank. The only difference is that in the slice defined by $z=0$ the rank drops to 1.
 		\end{Ex}
 		\begin{Def}
 			Let $D$ be a smooth distribution on $M$. A connected submanifold of $M$ $\psi:N\rightarrow M$ is called an \textit{integral submanifold of $D$ through $p\in M$} if:
 			$$p\in\psi(N)\hbox{ and }\psi_{*,q}(T_qN)=D_{\psi(q)}$$
 			for all $q\in N$.
 			A smooth distribution is called \textit{integrable} if for all $p\in M$ there is an integral submanifold of $D$.
 		\end{Def}
 		\begin{Obs}
 			The idea behind the above distribution can be stated in a simpler way: a distribution is integrable if it is the tangent space of some submanifold.
 		\end{Obs}
 		\begin{Ex}
 			Let us now see some examples of integrable distributions.
 			\begin{itemize}
 				\item Consider the usual easy distribution:
 				$$(x,y,z)\mapsto\{\partial_x,\partial_y\}$$
 				This is integrable: in fact the integral submanifolds in  $\mathbb{R}^3$ are defined like $z=const$.
 				\item Consider a nowhere vanishing vector field $X\in\mathfrak{X}(M)$. This makes a rank $1$ smooth distribution, which is integrable: the integral manifolds are the maximal integral curves of the vector field.
 			\end{itemize}
 		\end{Ex}
 		\section{Generalized Frobenius theorem}
 		In this section we prove Frobenius theorem, with a nice extension found by Stefan and Sussmann. It is worth mentioning that Frobenius theorem is a fundamental result in differential geometry, as it gives relates nicely the concepts of involutivity and integrability of a distribution. Usually, among the requirements for the distribution, there is "constant rank". However, thanks to Stefan and Sussmann, we are able to extend Frobenius theorem for distributions which are also not constant rank. The idea is incredibly simple: it is fine if the rank changes, as long as it changes on different submanifolds.
 		\begin{Theo}[\textbf{Stefan and Sussmann}]
 			Let $D$ be a smooth distribution on a manifold $M$. The following statements are equivalent:
 			\begin{itemize}
 				\item[(i)] $D$ is integrable;
 				\item[(ii)] $D$ is involutive and has constant rank along its integral curves;
 				\item[(iii)] $D$ is homogeneous;
 				\item[(iv)] $D$ has an adapted chart at any point in $M$.
 			\end{itemize}
 		\end{Theo}
 		\begin{proof}
 			We concatenate the proof in different steps:
 			\begin{itemize}
 				\item[$(i)\implies(ii)$]
 				Suppose $D$ is integrable. Then any point $p\in M$ is contained in an integral manifold. Taking any two vectors tangent to $p$ in the direction of their distribution, they belong to a well defined tangent space and so their commutator will also belong to the distribution. This proves the involutivity. Moreover, since an integral manifold has constant rank, the integral curves of such vectors will also have constant rank.
 				\item[$(ii)\implies (iii)$]
 				Suppose $D$ is involutive and has constant rank along its integral curves. Take any vector $X\in D$ around $p\in M$ and take a frame for the distribution around this point, like $\{Y_i\}_{i=1,...,r}$. Define the curves:
 				$$\gamma_i(t)=(Fl_{-t}^X)_*Y_i(Fl_t^X(p))$$
 				Those are maps from the flux domain $\mathcal{D}^X_p$ of $X$ at $p$:
 				$$\gamma_i:\mathcal{D}^X_p\rightarrow T_{p}M$$
 				Now, taking the derivative:
 				$$\dot{\gamma_i}(t)={d\over dt}(Fl_{-t}^X)_*Y_i(Fl_t^X(p))$$
 				By naturality of the Lie derivative:
 				$$\dot{\gamma_i}(t)=(Fl_{-t}^X)_*[X,Y_i]_{Fl_t^X(p)}$$
 				The distribution is involutive and so the commutator still belongs to $D$. Moreover, the distribution has constant rank along the integral curves so the fields $(Fl_t^X)_*Y_i$ span the distribution along the curves. Moreover, we have, by construction:
 				$$(Fl_t^X)_*\gamma_i=Y_i(Fl_t^X(p))$$ 
 				The above relation implies the following set of equations:
 				$$\dot{\gamma_i}(t)=\lambda^j_i\gamma_j(t)$$
 				Given the initial condition $\gamma(0)\in D_p$, since the flux of the fields spans the distribution, $\gamma_i$ is inside the distribution at any $t$.
 				\item[$(iii)\implies (iv)$]
 				Suppose the distribution is homogeneous. Take a local frame $\{X_i\}_{i=1,...,r}$ for the distribution $D$ around the point $p$. This is always possible since the distribution is smooth. This can locally be completed to a frame $\{X_1,...,X_n\}$. Define the map:
 				$$\phi(t_1,...,t_n)=Fl_{t_1}^{X_1}\circ...\circ Fl_{t_n}^{X_n}$$
 				Clearly, $\phi(0,...,0)$ is a vector space isomorphism, since we have selected a local frame around $p$. This means that we can find a small neighbourhood of $(0,...,0)$ where $\phi$ is aa diffeomorphism. We thus define the chart $(U,\phi^{-1})$ in this little set. It remains to show that this is the adapted chart. Clearly, $\{\partial_i\}_{i=1,...,r}$ belong to $D$ by construction. Fixing a slice $(t_1,...,t_r,\vec{t})$ we can clearly move along the integral curves of $D$. Thus, by homogeneity, the rank of the distribution is constant on it.
 				\item[$(iv)\implies (i)$]
 				If we have an adapted chart ant any $p$, it means that locally we have that $p$ is the point with the lowest rank possible, along each slice. In particular, $\phi^{-1}(]-\varepsilon,\varepsilon[^r\times 0)$ is an integral manifold of $D$.
 			\end{itemize}
 		\end{proof}
 		\begin{Theo}[\textbf{Frobenius}]
 			A distribution is involutive if and only if it is integrable.
 		\end{Theo}
 		\begin{Obs}
 			Frobenius theorem follows as a corollary of the previous theorem, in the assumption of $D$ being constant rank.
 		\end{Obs}
 		\section{Generalized Foliations}
 		In this section we give the notion of foliation, see some examples and look at some results. Once again, we try to give definitions without the requirement of the rank being constant. This is because we would like to attach to the notion of involutivity the notion of foliation: an involutive distribution foliates space.
 		\begin{Def}
 			Let $M$ be a smooth manifold. We call $\mathcal{F}$ a \textit{foliation} of $M$ if:
 			\begin{itemize}
 				\item $\mathcal{F}$ is a set of connected, disjoint, non-empty submanifolds of $M$, called \textit{leaves} $\mathcal{L_\mathcal{F}}$;
 				\item for every point $p\in M$ there is a chart $(U,\phi)$ such that:
 				\begin{itemize}
 					\item[(i)] $\phi(U)$ is  a cube in $\mathbb{R}^n$;
 					\item[(ii)] The leaves are invariant under the flows of the first $r$ vector fields $\{\partial_1,...,\partial_r\}$ with $dim(\mathcal{L}_\mathcal{F})=r$.
 				\end{itemize}
 			\end{itemize}
 		\end{Def}
 		\begin{Obs}
 			If every leaf has the same dimension $k$, then condition $2$ is eequivalent to saying that the intersection $\phi(U\cap \mathcal{L}_\mathcal{F})$ is a union of slices $$]-\varepsilon,\varepsilon[^{r}\times \vec{x}$$
 			This follows from the fact that a foliation defines a distribution and, if it is constant rank then also the distribution will be. Moreover, the requirement $i,ii$ translate to the distribution having an adapted chart at each point. By observation REFERENZA the claim follows.
 		\end{Obs}
 		\begin{Obs}
 			Once again, condition $ii$ implies that the rank of the foliation is locally non decreasing.
 		\end{Obs}
 		\begin{Ex}
 			Here are some examples of foliations.
 			\begin{itemize}
 				\item Clearly in $\mathbb{R}^3$ the set of planes $x=const$ makes a constant rank foliation. The fistribution this defines is $\{\partial_x\}$.
 				\item The family of spheres of increasing radius $S^{n-1}_r$ is a foliation of $\mathbb{R}^n-\{0\}$. This is pretty easy to prove: first of all, the spheres do not intersect, are all connected, non empty and are all immersed. As for the flat chart problem, take any point $\vec{x}\in \mathbb{R}^n$ and a ball around it of radius $\varepsilon$. Clearly, some of the spheres will intersect this ball and, in spherical coordinates, the radius coordinate is kept constant.
 			\end{itemize}
 			We now need some work to prove quite important results.
 		\end{Ex}
 		\begin{Lm}
 			Let $D$ be a distribution on $M$.
 			\begin{itemize}
 				\item If $N_{1,2}\subset M$ are integral manifolds of $D$ and are not disjoint, then $N_1\cap N_2$ is open and $N_1\cap N_2$ has a smooth structure which coincide with the ones induced from $N_{1,2}$. Moreover, there is a unique smooth structure on $N_1\cap N_2$ for which $N_1,N_2$ are open submanifolds and $N_1\cap N_2$ is an integral manifold of $D$;
 				\item Let $N\subset M$ be an integral manifold of $D$. If any slice $U_{\vec{x}}$ if an adapted chart at any point intersects $N$, then it is also an integral manifold.
 			\end{itemize}
 		\end{Lm}
 		\begin{proof}
 			We divide the proof in two parts:
 			\begin{itemize}
 				\item The dimension of $D$ on $N_1,N_2$ coincide by construction. Take a point $p\in N_1\cap N_2$ and a local generating family for $D$ around it: $\{X_1\}_{i=1,...,r}$ The restriction of those fields to $U\cap N_i$ defines a local diffeomorphism:
 				$\phi^i(t-1,...,t_n)=Fl_{t_1}^{X_1}\circ Fl_{t_2}^{X_2}\circ ...\circ Fl_{t_n}^{X_n}$
 				This is clearly implying $\phi^1=\phi^2$ in the intersection: this proves that the smooth structure on $N_1\cap N_2$ induced by both is the same. By compatibility of the smooth strucutres of $N_1,N_1\cap N_2,N_2$, the second part of the claim is also proved.
 				\item Suppose that a slice 
 				$$U_{\vec{x}}=\phi^{-1}(]-\varepsilon,\varepsilon[^r,\vec{x})$$
 				intersects the integral manifold $N$. Then, from REFERENZA, since the rank is locally non decreasing and the slice has constant rank, it is an integral manifold. Note that $N\cap U$ is open by the previous result, in $N$. Since the topology of $N\cap U$ is induced by the one of a smooth manifold, the number of slices $U_{\vec{x}}$ that intersects it must be second countable. The uniqueness is clear by construction.
 			\end{itemize}
 		\end{proof}
 		\begin{Theo}
 			Let $D$ be an integrable distribution over $M$. Then for every $p\in M$ there is a unique maximal integral manifold of $D$.
 		\end{Theo}
 		\begin{proof}
 			Take $p\in M$ and take the union $N_p$ of all possible integral manifolds passing through it. By construction, they will have the same dimension. By lemma REFERENZA, this union has a smooth atlas induced by the integral manifolds, since their number is countable.
 		\end{proof}
	\chapter{Lie theory}
	In this chapter we discuss Lie theory. We will go through the basic definitions and properties of Lie groups, Lie algebras and some representation theory. All of those are at the core of theoretical physics, as they represent the main instruments of particle physics and are at the core of almost all other theories.
	\section{Lie groups}
	In this section we treat Lie groups. This is one of the most important notions in differential geometry as it is the core object in which we will encapsulate symmetries. The idea behind Lie groups is not difficult at all: it is a group which is also a smooth manifold. There are many ways to see and interpret this. One of the most common intuitive thoughts of a Lie group is that of a group in which is possible to move smoothly accross all group elements. Even though this interpretation is to some satisfactory it is mathematically incorrect and incredibly imprecise. My personal suggestion is to see Lie groups without fantasy: it is just a group, which is also a manifold i.e it has nice topological properties and a smooth structure. It is worth mentioning that Lie groups are "a special kind of manifold". We are in fact going to see that the group structure automatically makes it so that the tangent bundle is "parallelizable" i.e. it is trivial. Before we begin, please be aware that the theory behind Lie group is incredibly big and much more complicated that it actually may look like from the following pages. We are just going through a brief introductory chapter which will be more than sufficient to develop our physical analysis.
	\begin{Def}
		A \textit{Lie group} $G$ is a group endowed with a manifold structure, such that:
		\begin{itemize}
			\item the multiplication operation $\mu:G\times G\rightarrow G$ like $\mu(g,h)=g\cdot h$ is smooth;
			\item the inversion operation $i:G\rightarrow G$ like $i(g)=g^{-1}$ is also smooth
		\end{itemize}
	\end{Def}
	\begin{Def}
		A \textit{Lie subgroup} $H$ of a Lie group $G$ is an immersed submanifold of $G$ which is still a group under the induced operations from $G$.
	\end{Def}
	\begin{Ex}
		Let us make some examples of Lie groups.
		\begin{itemize}
			\item The circle $S^1$ is a Lie group. This is clearly a smooth manifold from REFERENZA and it is endowed with the following operation:
			$$\mu(e^{i\theta},e^{i\omega})=e^{i(\theta+\omega)}$$
			This is clearly a smooth operation and it has a clear smooth inverse:
			$$i(e^{i\theta})=e^{-i\theta}$$
			\item The group $GL(n,\mathbb{R})$ was proved in REFERENZA to be a smooth manifold. This has an obvious multiplication operation: the row-columns multiplication:
			$$\mu(A,B)=A\cdot B$$
			This operation is smooth in coordinates. To convince ourselves of this, note that the entries of the resulting matrices are:
			$$(AB)^i_j=A^i_kB^k_j$$
			This is a polynomial, thus it is smooth.\\
			As for the inverse, every matrix in $GL(n,\mathbb{R})$ is invertible, so that this multiplication allows for a well defined operation:
			$$i:A\mapsto A^{-1}$$
			This is smooth as well since the entries of the inverse matrix are a polynomial of the entries of the first one. This can be easily seen by applying Gauss method.
			\\
			This proves that the real general linear group is a Lie group.
			\item Consider the special linear group 
			$$SL(n,\mathbb{R})=\big\{A\in GL(n,\mathbb{R})\hbox{ such that } det(A)=1\big\}$$
			This is clearly a subgroup of $GL(n,\mathbb{R})$. From REFERENZA we have that it is an immersed submanifold. Now it remains to show that the group operations behave well. But this is obvious since $det(AB)=det(A)det(B)$ and $det(A^{-1})=det(A)^{-1}$.
			\item Consider the orthogonal group $$O(n,\mathbb{R})=\big\{O\in M_{n\times n}\hbox{ such that }O^T=O^{-1}\big\}$$
			This is clearly a subgroup of the general linear group. To show that it is a smooth manifold, consider the map:
			$$f(O)=O^TO$$
			Then $O(n,\mathbb{R})=f^{-1}(\mathbb{I})$ is the level set of the identity. We now prove that this level set is indeed regular. Consider a curve $O(t)$ in $GL(n,\mathbb{R})$ and differentiate:
			$${d\over dt}f(O(t))=(O(t)^T)'O(t)+O(t)^T(O(t))'$$
			Now, if the starting point of the curve $O(0)$ is an orthogonal matrix, then:
			$${d\over dt}\bigg|_0f(O(t))=(O(0)^T)'O(0)+O(0)^T(O(0))'$$
			We want to show that this is surjective. This amounts to asking for the above equality to span all possible symmetric matrices. This is easy, just pick $O(0)'={1\over 2}O(0)B$. With this choice 
			$${d\over dt}\bigg|_0f(O(t))=B$$
			which proves the surjectivity. This shows that the orthogonal group is a smooth manifold. The fact that the multiplication and the inversion operations are smooth follows from the same arguments given for the general linear group.
			\item Groups like $U(n),SU(n)$, and the complex counterparts of the examples above are all Lie groups.
		\end{itemize}
	\end{Ex}
	It is odd to see that all the examples of Lie groups we have made are of matrix groups. Not all Lie groups are matrix groups. However, the only groups that matter in physics are basically the matrix ones. We will see why later on.
	\begin{Ex}
		Now we make an example of a non-matrix Lie group: ESEMPIO
	\end{Ex}
	\begin{Def}
		Given a Lie group $G$, we define the \textit{left} and \textit{right mutliplication by} $g\in G$ as:
		$$\ell_g:G\rightarrow G\hbox{ like }\ell_g(h)=g\cdot h$$
		$$r_g:G\rightarrow G\hbox{ like }r_g(h)=h\cdot gh$$
		We also define the \textit{conjugation} as the combination:
		$$c_g=\ell_g\circ r_{g^{-1}}$$
	\end{Def}
	\begin{Obs}
		Clearly: 
		$$Ad_g=\ell_g\circ r_{g^{-1}}=r_{g^{-1}}\circ \ell_{g}$$
	\end{Obs}
	\begin{Exe}
		Prove that $d\ell_g$ is an isomorphism.
		\\\\
		This is easy: it is sufficient to prove that $\ell_g$ is a diffeomorphism.\\
		\\
		By definition:
		$$\ell_g(h)=g\cdot h=\mu(g,h)$$
		This is smooth by definition. Then, we have an inverse, which is smooth as well:
		$$\ell_{g^{-1}}=g^{-1}\cdot h$$
		Those are clear inverses of one another:
		$$\ell_g\circ \ell_{g^{-1}}(h)=g\cdot g^{-1}\cdot h=h$$
		This proves the claim from REFERENZA. The same holds for $r_g$.  
	\end{Exe}
	\section{Lie algebras}
	In this section we dive into Lie algebras. There is an incredibly big amount of information to give about Lie algebras. We will focus on the meaning of a Lie algebra when attached to a Lie group. The idea is that, given the left translation $\ell_g$ of a Lie group, we will be able to deduce all of the information of the tangent bundle of the Lie group just by looking at the identity.
	\begin{Def}
		We call \textit{Lie algebra} $\mathfrak{g}$ a vector space with a \textit{braket} operation i.e. a bilinear map $[,]:\mathfrak{g}\times \mathfrak{g}\rightarrow\mathfrak{g}$  which satisfies:
		\begin{itemize}
			\item[(1)] skew-symmetry: $[x,y]=-[y,x]$;
			\item[(2)] Jacobi identity:
			$$[x,[y,z]]+[y,[z,x]]+[z,[x,y]]=0$$
		\end{itemize}
		for all $x,y,z\in\mathfrak{g}$.
	\end{Def} 
	The following definitions are trivial:
	\begin{Def}
		We call \textit{Lie subalgebra} $\mathfrak{h}\subset \mathfrak{g}$ any vector subspace closed for the restriction of the braket $[,]$. 
	\end{Def}
	\begin{Def}
		We call \textit{Lie algebra homomorphism} any linear map $f:\mathfrak{g}\rightarrow\mathfrak{h}$ between Lie algebras whoch preserves the braket:
		$$f\circ[,]\big|_\mathfrak{g}=[,]\big|_\mathfrak{h}\circ f$$
	\end{Def}
	In general, even though they share a similar name, it seems that Lie algebras are completely disconnected from the notion of Lie group.
	\begin{Ex}
		Now we make some easy examples of Lie algebras:
		\begin{itemize}
			\item For any vector space $V$ we can define a \textit{trivial} Lie algebra throught the trivial braket:
			$$[v,w]=0\hbox{ for all }v,w\in V$$
			\item Let $M_{n\times n}(\mathbb{R})$ be the space of square $n\times n$ matrices with real coefficients. This can be made into a Lie algebra. In particular, we have the braket:
			$$[A,B]=AB-BA$$
			This is clearly bilinear and skew symmetric. The Jacobi identity follows from a striaghtforward calculation done by applying the properties of the row-column product of matrices. The reader can either prove it or believe me. (I am bored). 
		\end{itemize}
	\end{Ex}
	\begin{Def}
		Let $G$ be a Lie group and $X\in\mathfrak{X}(G)$ be a vector field. We say that $X$ is \textit{left invariant} if for all $g\in G$:
		$$d\ell_g(X)=X$$
	\end{Def}
	\begin{Obs}
		The above definition can be restated as:
		$$d\ell_g(X_h)=X_{gh}$$
		This means that a left invariant vector field is uniquely determined by its value at the identity. In fact:
		$$X_g=d\ell_g(X_e)$$
		where $e$ is the neutral element of $G$.
		Suppose to have a vector at the identity $A\in T_eG$. We can clearly define a left invariant vector field called $\tilde{A}$ like:
		$$\tilde{A}_g=d\ell_g(A)$$
	\end{Obs}
	\begin{Prop}
		Any left invariant vector field is smooth.
	\end{Prop}
	\begin{proof}
		Take a smooth curve $\gamma:I\rightarrow G$ with $\gamma(0)=e$ and $\dot{\gamma}(0)=X_e$. Since $X$ is assumed left invariant, we have that $\ell_g(\gamma(t))$ is a curve starting at $g$ with initial vector $X_g$. Then for any smooth function $f\in C^\infty(G)$:
		$$df(X)_g=X_gf={d\over dt}\bigg|_0f(g\gamma(t))$$
		This is clearly smooth since all of the components are smooth.
	\end{proof}
	\begin{Def}
		We call $Lie(G)$ the space of all left invariant vector fields on $G$. 
	\end{Def}
	This definition has a very suggestive name. The reason will be clear in a bit. Consider the following results:
	\begin{Def}
		Clearly $Lie(G)$ is a vector space. We just need to find a braket. We define the following:
		$$$$
	\end{Def}
	\begin{Prop}
		There is an isomorphism:
		$$T_eG\simeq Lie(G)$$
	\end{Prop}
	\begin{proof}
		Let $A\in T_eG$ and consider the map:
		$$A\rightarrow \tilde{A}$$
		Clearly , by definition, $\tilde{A}_g=d\ell_g(A)$. Thus, for $\tilde{A}$ to be the 0 vector, since $d\ell_g$ is an isomorphism for all $g\in G$, we need $A=0$. This proves the map is injective. Moreover, given any vector field. From observation REFERENZA, any left invariant vector field is completely determined by its value at the identity. This automatically implies that the map is surjective.
	\end{proof}
	So far, we have just shown that the tangent space to the identity is canonically isomorphic to the set of all left invariant vector fields on $G$. We now wish to endow those spaces with a braket i.e. we wish to make them Lie algebras. To do this, we will construct a braket on $T_eG$ and then, through the isomorphism, induce it on $Lie(G)$.
	\begin{Def}
		Let $M$ be a smooth manifold and $X,Y\in\mathfrak{X}(M)$, $f\in C^\infty(M)$. We define the \textit{braket} of two vector fields as:
		$$[X,Y]f=X(Y(f))-Y(X(f))$$
	\end{Def}
	\begin{Obs}
		The above braket from REFERENZA is still a vector field. Moreover, it is clearly multilinear and antisymmetric pointwise. As for the Jacobi identity, it follows from a straightforward calculation which I will not carry on.
	\end{Obs}
	\begin{Prop}
		$Lie(G)$ is a Lie algebra, and it will be indexed with $\mathfrak{g}$.
	\end{Prop}
	\begin{proof}
		The idea is to induce this braket throught the isomorphism REFERENZA. Thus, we define it on the tangent space at the identity.
		$$[A,B]=[\tilde{A},\tilde{B}]_e$$
		Basically the braket of two tangent vectors at the identity is defined to be the braket of the corresponding left invariant vector fields evaluated at the identity. All of the properties of a braket are respected due to REFERENZA. The only thing missing is to prove that the braket of two left invariant vector fields is still a left invariant vector field. But this follows from the isomorphism.
	\end{proof}
	\begin{Def}
		We call $Lie(G)\equiv T_eG=\mathfrak{g}$ the Lie algebra of the Lie group $G$.
	\end{Def}
	\begin{Obs}
		Clearly, due to the isomorphism REFERENZA, $dim(\mathfrak{g})=dim(G)$.
	\end{Obs}
	\begin{Obs}
		Recall that $d\ell_g:T_eG\rightarrow T_gG$ is an isomorphism. This means that we can identify any vector at a point with a left invariant vector field evaluated at that point.
	\end{Obs}
	\begin{Ex}
		We now make some useful examples of Lie algebras. Those will come in handy in a bit and will be mainly centered on Lie groups.
		\begin{itemize}
			\item Consider the real general linear group $GL(n,\mathbb{R})$. This is an open set of $M_{n\times n}$ with the obious smooth structure. Thus, there is an obvious identification $T_{\mathbb{I}}GL(n,\mathbb{R})\simeq M_{n\times n}$ like:
			$$M^i_{j}{\partial\over \partial x^i_j}\rightarrow [M^i_j]$$
			The braket on this space is exactly the one in REFERENZA.
			Thus, we have the Lie algebra of the real general linear group as:
			$$\mathfrak{gl}(n,\mathbb{R})=M_{n\times n}$$
			\item Consider the special linear grpup (real) $SL(n,\mathbb{R})$. This is a Lie group as well and so we can look at its Lie algebra. To do this, we take a curve $\gamma(t)=\mathbb{I}+tA$ through the identity. Clearly, since this curve must belong to the special linear group, we must have:
			$$det(\mathbb{I}+tA)=\mathbb{I}+tTr(A)+O(t^2)$$
			This forces $Tr(A)=0$. By differentiating: 
			$${d\over dt}\bigg|_0\gamma(t)=B$$
			Thus, we have the Lie algebra of the real special linear group as:
			$$\mathfrak{sl}(n,\mathbb{R})=\big\{A\in M_{n\times n}\hbox{ such that }Tr(A)=0\big\}$$
			\item Consider any $V$ vector space and consider its general linear group:
			$$GL(V)={f:V\rightarrow V\hbox{ such that }f\hbox{ is linear and invertible}}$$
			If $dim(V)=n$ there is a clear identification $GL(V)\simeq GL(n,\mathbb{R})$ once we fix a base. Since $\mathfrak{gl}(n,\mathbb{R})=M_{n\times n}\simeq End(V)=\{f:V\rightarrow V\hbox{ such that }f\hbox{ is linear}\}$
			we have:
			$$\mathfrak{gl}(V)=End(V)$$
		\end{itemize}
	\end{Ex}
	Lastly, before we speak about the exponential map, we give a definition:
	\begin{Def}
		Let $\{T^a\}$ be a basis for a Lie algebra $\mathfrak{g}$. Then, we define the \textit{structure constants} $f^{ab}_{\hspace{9pt }c}$ as:
		$$[T^a,T^b]=f^{ab}_{\hspace{9pt }c}T^c$$
	\end{Def}
	The structure constants will have a neat physical interpretation: the coupling between particles. We will later see that the structure constants will serve as couplings in front of the terms which appear in the lagrangians. Thus, they will regulat the strength of the interactions between the fields.
	\section{The exponential map}
	In this section we study an incredibly useful map, which will relate in an extremely beautiful way a Lie group with its Lie algebra. The true power of this map will fully uncover in the next chapter i.e. Representation theoy. However, we will see how, through the following construction, one will be able to connect elements of $G$ with elements of its Lie algebra $\mathfrak{g}$.
	\chapter{Representation theory}
	\chapter{Symmetries}
	\section{Flows}
	In this section we define the notion of flow of a vector field. This will turn out to be incredibly useful in comparing tensors at different points.
	\begin{Def}
		We define the \textit{flux domain} of $X\in \mathfrak{X}(M)$ as:
		$$D=\big\{(t,p)\in \mathbb{R}\times U\hbox{ with }t\in I_p^{max}\}$$
		where $I_p^{max}$ is the interval in which it is defined the maximal integral curve.
		We define the \textit{flux of }$X$ as:
		$$Fl^X:D\rightarrow M\hbox{ like }Fl^X(t,p)=\gamma_p(t)$$
		where $\gamma_p(t)$ is the maximal integral curve of $X$ starting at $p$.
	\end{Def}
	By the results found in REFERENZA, the following follows:
	\begin{Theo}
		Let the notation be as above, then:
		\begin{itemize}
			\item $Fl_0^X=\mathbb{I}$;
			\item $Fl_t^X\circ Fl_s^X=Fl_{t+s}^X$;
			\item $Fl^X$ is smooth.
		\end{itemize}
	\end{Theo}
	\begin{proof}
		The first point is obvipus by definition. The second point is obvious by definition as well:
		$$Fl_s^X\circ Fl_t^X(p)=Fl_s^X(\gamma_p(t))=\gamma_{\gamma_p(t)}(s)$$
		Since every two integral curves agree on the overlap of their domains from REFERENZA, we have:
		$$\gamma_{\gamma_p(t)}(s)=\gamma_p(s+t)$$
		the third point follows from REFERENZA immediately.
	\end{proof}
	\begin{Ex}
		Let us see some examples:
		\begin{itemize}
			\item Consider
		\end{itemize}
	\end{Ex}
	\section{The Lie derivative}
	In this section we will define a new type of derivation: the Lie derivative. The aim is to be able to differentiate tensors. In general, on a smooth manifold, one would like to compare vector fields at different points, to evaluate the rate of change of such fields. However, vectors at fifferent points belong to different vector spaces: it would be wrong to compare them.
	\begin{Def}
		Let $X\in\mathfrak{X}(M)$ be a smooth vector field and $f\in C^\infty(M)$ be a smooth map. We define the \textit{Lie derivative} of $f$ along $X$ as:
		$$\mathcal{L}_Xf(p)={d\over dt}\bigg|_0(f\circ Fl_t^X)(p)$$
	\end{Def}
	\begin{Obs}
		It is clear that:
		$$\mathcal{L}_Xf(p)={d\over dt}\bigg|_0(f(\gamma_p(t)))$$
		Which in coordinates is:
		$$\dot{\gamma}^i(t)\partial_i f(p)=Xf(p)$$
		Thus, the Lie derivative of a function coincides with the directional derivative:
		$$\mathcal{L}_Xf=df(X)=Xf$$
		This makes sense since we have no problem in comparing a smooth map in different points along the manifold: it is defined on the whole manifold and not in different spaces.
	\end{Obs}
	\begin{Def}
		Let $X,Y\in\mathfrak{X}(M)$. We define the \textit{Lie derivative} of $Y$ along $X$ as:
		$$\mathcal{L}_XY(p)={d\over dt}\bigg|_0(Fl_{-t}^X)_*Y_{Fl_t^X}(p)$$
	\end{Def}
	The idea is simple: we push-forward (backwards) the vector field $Y$ along the integral curve of $X$. Then we take the limit of the infinitesimal variation.
	\begin{Theo}
		$\mathcal{L}_XY=[X,Y]$
	\end{Theo}
	\begin{proof}
		PROVA
	\end{proof}
	\begin{Cor}
		The following properties follow immediately from the previous result:
		\begin{itemize}
			\item The Lie derivative of a vector field is a vector field;
			\item The Lie derviative respects the Jacobi identity;
			\item The Lie derivative is skwe-symmetric.
		\end{itemize}
	\end{Cor}
	\section{Symmetries}
	In this section we define the general notion of symmetry and see some properties.
	\begin{Def}
		Let $\phi:M\rightarrow M$ be a diffeomorphism, $f\in C^\infty(M)$, $X,Y\in\mathcal{X}(M)$. We say that:
		\begin{itemize}
			\item $\phi$ is a symmetry for $f$ if:
			$$f\circ \phi=f$$
			\item $X$ is a \textit{local symmetry generator} for $f$ if its flow preserves $f$ i.e. is a symmetry for $f$:
			$$f\circ Fl_t^X=f$$
			\item $X$ is a \textit{local symmetry generator} for $Y$ if:
			$$(Fl_t^X)_*Y=Y$$
		\end{itemize}
	\end{Def}
	\begin{Obs}
		Clearly, a $X$ is a symmetry for $Y$ iff $\mathcal{L}_XY=0$. In the same way, $X$ generates a local symmetry for $f$ iff $Xf=\mathcal{L}_Xf=0$. This follows immediately from the definition of Lie derivative.
	\end{Obs}
	\begin{Obs}
		Due to the skew symmetry property of the Lie derivative, if $X$ is a symmetry fro $Y$, the contrary is also true.
	\end{Obs}
	\begin{Ex}
		Let us see some examples:
		\begin{itemize}
			\item Let $X=\partial_x$ and $Y=\partial_y+\partial_z$ in $\mathbb{R}^3$. Clearly, those vectors commute and so they are a symmetry for one another. One can also look at the pushforward of the local flows to infer this:
			$$Fl_t^X(x,y,z)=(x+t,y,z)$$
			This implies:
			$$(Fl_t^X)_*(x,y,z)=\begin{pmatrix}
				1&0&0\\
				0&1&0\\
				0&0&1
			\end{pmatrix}$$
			This clearly sends $Y$ into itself.
			\item Consider the fields:
			$$X=y\partial_x\hbox{ and }Y=\partial_y$$
			defined in $\mathbb{R}^3$. Clearly, those do not commute and the failure of the commutator is the following:
			$$[X,Y]=-\partial_x$$
			This is also reflected in the flow non-invariance:
			$$Fl_t^X(x,y,z)=(yt+x,y,z)$$
			This implies:
			$$(Fl_t^X)_*=\begin{pmatrix}
				1&t&0\\
				0&1&0\\
				0&0&1
			\end{pmatrix}$$
			Thus:
			$$(Fl_t^X)_*Y=\begin{pmatrix}
				1&t&0\\
				0&1&0\\
				0&0&1
			\end{pmatrix}\begin{pmatrix}
			0\\
			1\\
			0
			\end{pmatrix}=t\partial_x+\partial_y$$
			And one again sees that the failure corresponds exactly to a translation in the $X$ direction.
		\end{itemize}
		\item Consider the function $f(x,y)=x^2+y^2$ and a rotation:
		$$R=\begin{pmatrix}
			cos(\theta)&sin(\theta)\\
			-sin(\theta)&cos(\theta)
		\end{pmatrix}$$
		Clearly:
		$$f\circ R(x,y)=f(xcos(\theta)+ysin(\theta),-xsin(\theta)+ycos(\theta))=$$
		$$=x^2+y^2=f(x,y)$$
		Thus the rotation (which is clearly a diffeomorphism) is a symmetry for $f$.
		
	\end{Ex}
	\chapter{Metric manifolds}
	\section{Metrics}
	\begin{Def}
		Let $M$ be a smooth manifold. A \textit{metric} on $M$ is a smooth assignment to any $p\in M$ of a symmetric, bilinear, non degenerate product $g$.\\
		\\
		If $g$ is positive definite then we call it a Riemannian metric. If it is not positive definite we call it Pseudo-Riemannian.
		\\\\
		We call a manifold endowed with a metric a \textit{metric manifold} or \textit{Riemannian manifold, or PSeudo-Riemannian manifold}.
	\end{Def}
	\begin{Obs}
		Equivalently, a metric is a section $\Gamma(Sym(TM\otimes TM))$ which is also has the other properties.
	\end{Obs}
	In general, very similar properties hold for Riemannian and Pseudo-Riemannian metrics.
	\begin{Ex}
		The most famous example of a Pseudo-Riemannian manifold is the Minkowsky space of special relativity.
		$$(\mathbb{R}^4,\eta)$$
		Where $\eta=diag(-1,1,1,1)$ or the opposite signature.
	\end{Ex}
	\begin{Theo}
		A Pseudo-Riemannian metric is always diagonalizable pointwise through an orthonormal frame. From the spectral theore, since in coordinates the metric is pointwise a symmetric matrix, it can be diagonalized. Note that, under a change of coordinates:
		$$g\mapsto \Lambda^T g\Lambda$$
		This comes from the fact that $g$ is a tensor. This formula is completely different from the regular change of basis in linear algebra. However, for a symmetric matrix the change of basis matrices are orthogonal. Thus the inverse is the transpose.
	\end{Theo}
	\begin{Obs}
		The above theorem is valid \textit{pointwise}!!
	\end{Obs}
	\begin{Def}
		Let $g$ be a Pseudo-Riemannian metric on $M$.
	\end{Def}
	\chapter{Connections on vector bundles}
	In this chapter we will go through the famous construction of connections on vector bundles. The reader is advised: this is a rather itnricate construction which I personally, for the most part, dislike. The reason for this is that this construction, even if not quite abstract, is inherintly characterized by locality. We will see that it will be necessary to constantly choose local frames of the vector bundle. This I dislike. However, the point is that this construction can be generalized and recovered in the framework of principal bundles, which is far more abstract and elegant. The apparent locality of the following construction will acquire global characteristics in the subsequent analysis on principal connections.
	\section{What is a connection}
	In this section we will define the general concept of a connection on a vector bundle. The most important and known case, as we will see, is the one of affine connections i.e. connections that are defined on the tangent bundle.
	\begin{Def}
		A \textit{connection} on a vector bundle $E$ over $M$ is a map
		$$\nabla: \mathfrak{X}(M)\times \Gamma(E)\rightarrow \Gamma(E)$$
		such that it satisfies the following requests:
		\begin{itemize}
			\item $\nabla$ is $\mathbb{R}$-linear and $\mathcal{F}$-linear i.e.:
			$$\nabla_{cX}ks=ck\nabla_Xs\hbox{ and }\nabla_{fX}=f\nabla_X$$
			\item $\nabla$ follows Leibniz:
			$$\nabla_Xfs=df(X)s+f\nabla_X s$$
		\end{itemize}
	\end{Def}
	\begin{Obs}
		Clearly, one can define a connection also as a map:
		$$\nabla:\Gamma(E)\rightarrow \Gamma(TM^*\otimes E)$$
	\end{Obs}
	\begin{Ex}
		As an example consider the directional derivative on $\mathbb{R}^n$:
		$$D(X,Y)=D_XY=XY^i \partial_i$$
		This is a connection.
	\end{Ex}
	\begin{Obs}
		Pick a local frame $\{e_i:U\rightarrow E\}$ for the bundle. Then, since the connection spits back at us a section, we can expand:
		$$\nabla_X s=\nabla_X s^ie_i=ds^i(X)e_i+s^i\nabla_X e_i$$
		This means that a connection is completely specified, once we choose a frame i.e. a trivialization (see REFERENZA) by its action on the frame.
	\end{Obs}
	\begin{Def}
		Let the notation be as above. We have:
		$$\nabla_X e_i=\omega^j_i(X)e_j$$
		We call $\omega^j_i$ the \textit{connection form relative to the frame} $e_i$.
	\end{Def}
	\begin{Obs}
		The connection form is indeed a form, in fact:
		$$\omega\in \Omega^1(M,\mathfrak{gl}(n\mathbb{R}))$$
	\end{Obs}
	\section{Existence of a connection}
	\section{Curvature and Torsion}
	In this section we will define the curvature form and the Riemann tensors, together with some related quantities. We will later see that there is a deep connection between those quantities defined on a vector bundle and on a principal bundle.
	\begin{Def}
		We define the \textit{Riemann tensor} as:
		$$R(X,Y)=[\nabla_X,\nabla_Y]-\nabla_{[X,Y]}$$
	\end{Def}
	\begin{Obs}
		By definition the Riemann tensor is a map:
		$$R:\mathfrak{X}(M)\times \mathfrak{X}(M)\times \Gamma(E)\rightarrow \Gamma(E)$$
		This is clearly a tensor since it is the difference of two mappings which have as outputs tensors.
	\end{Obs}
	\begin{Obs}
		Having picked a frame for our bundle $\{e_i:U\rightarrow E\}$ we can expand:
		$$R(X,Y)e_i=\Omega^j_i(X,Y)e_j$$
	\end{Obs}
	\begin{Def}
		Let the notation be as abvoe. We call $\Omega$ the \textit{curvature form}. 
		$$\Omega\in\Omega^2(M,\mathfrak{gl}(n,\mathbb{R}))$$
	\end{Def}
	\begin{Prop}
		The curvature form satisfies the following structural equation:
		$$\Omega=d\omega+\omega\wedge \omega$$
		Where $\omega$ is the connection form relative to any choosen frame.
	\end{Prop}
	\begin{proof}
		This is  aboring straightforward calculation in a frame:
		$$R(X,Y)e_i=[\nabla_X,\nabla_Y]e_i-\nabla_{[X,Y]}e_i$$
		Since $\nabla_Ye_i=Y^j\omega_{ji}^ke_k$ and the covariant derivative respects the Leibniz rule, we have:
		$$\nabla_X\nabla_Ye_i=X^l\nabla_l(\omega_{i}^k(Y)e_k)=X(\omega_{i}^k(Y)e_k)+\omega_{j}^k(Y)\nabla_X e_k$$
		So we get:
		$$R(X,Y)e_i=X(\omega_{i}^k(Y)e_k)+\omega_{i}^k(Y)\nabla_Xe_k-Y(\omega_{i}^k(X)e_k)-\omega_{j}^k(X)\nabla_Y e_k-\omega^k_i([X,Y])e_k=$$
		$$=X(\omega_{i}^k(Y)e_k)-Y(\omega_{i}^k(X)e_k)+\omega_{i}^k(Y)\omega_{k}^l(X)e_k-\omega_{i}^k(X)\omega_{k}^l(Y)e_k-\omega^k_i([X,Y])e_k$$
		Now, since from REFERENZA we got:
		$$d\omega(X,Y)=X\omega(Y)-Y\omega(X)-\omega([X,Y])$$
		And we have defined in REFERENZA $\omega\wedge \omega(X,Y)=\omega(X)\omega(Y)-\omega(Y)\omega(X)$, we get the desired result.
	\end{proof}
	This is called \textit{second structural equation.}
	\begin{Def}
		We define the \textit{torsion tensor} of a connection on the tangent bundle as:
		$$T(X,Y)=\nabla_XY-\nabla_YX-[X,Y]$$
	\end{Def}
	\begin{Obs}
		Note that by construction, the torsion tensor becomes a vector field when fed with 2 vectors $T(X,Y)\in\mathfrak{X}(M)$. Once we choose a frame, the torsion tensor can be expanded:
		$$T(X,Y)=\tau(X,Y)^ie_i$$
		Where $\{e_i\}$ is a frame for the tangent bundle.
	\end{Obs}
	\begin{Prop}
		The torsion tensor respects the following structural equation:
		$$\tau^i=d\theta^i+\omega^i_j\wedge \theta^j$$
		where $\{\theta^i\}$ is the co-frame to the selected frame $\{e_i\}$.
	\end{Prop}
	\begin{proof}
		This is a straightforward calculation. The only caveat is that we can expand any vector field $X$ with the co-frame:
		$$X=\theta^i(X)e_i\hbox{ and }Y=\theta^i(Y)e_i$$
		Consider:
		$$\nabla_XY=X\theta^i(Y)e_i+\theta^j(Y)\omega_j^i(X)e_i$$ 
		The same expansion is valid for $\nabla_YX$. Then:
		$$\tau^i(X,Y)=X\theta^i(Y)-Y\theta^i(X)+\theta^j(Y)\omega_j^i(X)-\theta^j(X)\omega_j^i(Y)-\theta^i([X,Y])$$
		Now recall that:
		$$d\theta^i(X,Y)=X\theta^i(Y)-Y\theta^i(X)-\theta^i([X,Y])$$
		Moreover, from REFERENZA, the remaining term group up like:
		$$d\tau^i=d\theta^i+\theta^j\wedge \omega^i_j$$
	\end{proof}
	This is called \textit{first structural equation.}
	\begin{Obs}[\textit{\textbf{The meaning of Torsion}}]
		Notice that in the case of $0$ torsion, if two vector fields commute then the difference:
		$$\nabla_XY-\nabla_YX=0$$
		Thus, moving $X$ in a parallel way along $Y$, the change is the same as moving $Y$ in a parallel way accross $X$. If the torsion is 0 for two commuting vector fields, moving in a parallel way along integral curves is the same as moving along integral curves.
	\end{Obs}
	\section{Gauge transformations on vector bundles}
	In this section we will go through the procedure to show what happens when we fix a choice of a frame i.e. a gauge for the connection form. We will see that indeed the connection form will mutate into a quite peculiar way.
	\begin{Def}
		We define a \textit{local passive gauge transformation on a vector bundle} as a change of local frame.
	\end{Def}
	\begin{Prop}
		Let $\omega$ be the connection form relative to a frame $\{e_i\}$. Suppose $\{f_j\}$ is another frame and $\omega'$ is the connection form relative to this frame. Then:
		$$\omega'=g^{-1}\omega g+g^{-1}dg$$
		where $g$ is the matrix-valued transition function corresponding to the local change of reference frame.
	\end{Prop}
	\begin{proof}
		By definition: $\omega'^j_i f_j=\nabla f_i$. Taking $f_j=g^i_je_i$ we apply the Leibniz rule:
		$$\nabla f_i=\nabla (g^i_je_i)=dg^i_je_i+g^i_j\omega^k_ie_k$$
		Substituting back: $e_i=(g^{-1})^j_if_j$ we get:
		$$\nabla f_i=\nabla (g^i_je_i)=(g^{-1})_i^kdg^i_jf_k+g^i_j\omega^k_i(g^{-1})^j_kf_j$$
		This completes the proof.
	\end{proof}
	\begin{Prop}
		Let the notation be as above. Under a gauge transformation, the curvature form transforms as:
		$$\omega'=g^{-1}\omega g$$
	\end{Prop}
	\begin{proof}
		Instead of computing the naive substitution we observe: if $e$ is a frame (a matrix in which the columns are the frame's sections) then $R(X,Y)e=e\Omega(X,Y)$
		This comes from the expansion in REFERENZA. This implies:
		$$R(X,Y)(f)=R(X,Y)eg=e\Omega g=f(g^{-1}\Omega g)$$
		This proves the claim.
	\end{proof}
	It should be somewhat clear from the previous analysis that it seems more convenient to work only with frames. The framework of vector bundles forces us to choose a set of sections every time. It would be nicer to find a formalism in which a sectin corresponds to a frame. We will see that this allows for a more general definition of a connection.
	\section{Parallel transport on vector bundles}
	In this section we discuss the notion of parallel transport, which comes freely with a connection. The idea is that the connectin form allows to "parallely transport" objects accross curves. This will come in handy when we will define geodesics. The only meaningful question now is: what does "parallel" mean?
	\begin{Prop}
		Let $\nabla$ be a connection on a vector bundle $E$ over $M$ and let $\gamma:I\rightarrow M$ be a smooth curve in $M$. There is a linear isomorphism from any two close enough points of the curve $\gamma$, called \textit{parallel transport}.
		$$\phi_t:T_{\gamma(0)}M\rightarrow T_{\gamma(t)}M$$ 
	\end{Prop}
	\begin{proof}
		Take any vector $X_0\in \gamma(0)$. Consider the following equations:
		$$\nabla_{\dot{\gamma(t)}}X(\gamma(t))=0$$
		In components and in a frame $e$ we get::
		$$0=[dX^i(\gamma(t))+X^j\omega^i_j(\dot{\gamma}(t))]e_i$$
		This is a set of differential equations, which has a unique solution in a small enought neighbourhood of $0$, once we fix an initial condition i.e. $X_{\gamma(0)}=X_0$. We call such a solution the \textit{parallel transport} of $X$ along $\gamma$. The isomorphism is the map which sends $X_0$ into its unique "parallely transported vector". The map has a clear inverse: it is just a matter to look at $\gamma(-t)$ in the aboive equation. The linearity follows from the linearity of the differential equations we solve.
	\end{proof}
	\begin{Def}
		We define the \textit{covariant derivative} induced by a connection $\nabla$ of a vector field $X$ along a curve $\gamma$ as:
		$$\nabla_{\dot{\gamma}(t)}X$$
	\end{Def}
	\begin{Obs}
		The notion of covariant derivative and of parallel transport is completely independent of the bundle.
	\end{Obs}
	The notion of paarallel transport is useful since in the case of the tanagent bundle, it enables one do give the definition of geodesic.
	\begin{Def}
		Let $\nabla$ be a connection on the tangent bundle. We call \textit{geodesic} a curve which is parallel to itself:
		$$\gamma(t)\hbox{ such that }\nabla_{\dot{\gamma}}\dot{\gamma}(t)=0$$
	\end{Def}
	We will however be more interested in metric-related geodesics.
	\section{Affine connections}
	In this section we look at the particular case of connections defined on the tangent bundle. This is an extremely important restriction, since the whole idea of General Relativity is based on it.
	\begin{Def}
		We call \textit{affine connection} a connection defined on the tangent bundle.
	\end{Def}
	\begin{Obs}
		In this case $\nabla:\mathfrak{X}(M)\times \mathfrak{X}(M)\rightarrow \mathfrak{X}(M)$ has all of the properties of a regular connection. In this case however, we denote the connection form with $\Gamma$. In particular:
		$$\Gamma^i_j=(\nabla e_j)^i$$
		It becomes really important now the distinction between frame and coordinate frame. We have seen previously that a set of commuting vector fields can be used to define a reference frame. This is not true in general: \textbf{Not every frame is a coordinate frame}.\\
		\\
		This is important because the indices of $\Gamma^i_j$ are relative to the frame, not to the coordinates.
	\end{Obs}
	\begin{Def}
		Let $\nabla$ be an affine connection. Let $(U,\phi)$ be a chart and $\{\partial_i\}$ the induced frame. We define the \textit{Christoffel symbols} as:
		$$\Gamma^j_{ik}\partial_j=\nabla_i\partial_k$$
	\end{Def}
	\begin{Obs}
		A Christoffel symbol is defined on coordinate frames, not on regular frames!
	\end{Obs}
	\begin{Obs}
		Clearly, from REFERENZA, we can immediately deduce the transformation rule for the Christoffel symbols:
		$$\Gamma\mapsto \Lambda^{-1}Ad_{\Lambda^{-1}}\Gamma +(\Lambda^{-1})^2d\Lambda$$
	\end{Obs}
	\begin{Def}
		An affine connection $\nabla$ is said to be \textit{compatible} with $g$ a metric if:
		$$\nabla g=0$$
	\end{Def}
	The above definition means that the covariant derivative of $g$ is always 0 along any vector field. There are different ways to define compatibility:
	\begin{Prop}
		The following statements are equivalent:
		\begin{itemize}
			\item[(i)] $\nabla g=0$;
			\item[(ii)] if $X,Y$ are parallel transported along $\gamma$, then: $g_{\gamma(t)}(X_{\gamma(t)},Y_{\gamma(t)})=const$;
			\item[(iii)] if $X,Y$ are defined along a curve $\gamma$, then $${d\over dt}g(X,Y)=g(\nabla_{\gamma(t)}X,Y)+g(X,\nabla_{\gamma(t)}Y)$$
			\item[(iv)] $$Xg(Y,Z)=g(\nabla_XY,Z)+g(Y,\nabla_XZ)$$
		\end{itemize}
	\end{Prop}
	\begin{proof}
		We concatenate the proof:
		\begin{itemize}
			\item[(ii)$\implies$(iii)]
			Takes a point along a curve and define on it an orthonormal frame $\{e_i(p)\}$. Then, extend this orthonormal frame along the curve in a parallel way:
			$$\nabla_{\gamma(t)}e_i=0 \hbox{ with }e_i(\gamma(0))=e_i(p)$$
			This has a local unique solution from the Cauchy theorem. Then, we can expand some vectors $X,Y$ defined along the curve in this frame:
			$$X=X^ie_i\hbox{ and }Y=Y^ie_i$$
			Since this frame is by cosntruction parallel transported:
			$$\nabla_{\gamma(t)}(X)=\partial_tX^i e_i$$
			The same goes for $Y$. Putting everything together:
			$$g(\nabla_{\gamma(t)}X,Y)+g(X,\nabla_{\gamma(t)}Y)=\partial_tX^ig_ijY^j+X^ig_ij\partial_tY^j={d\over dt}g(X,Y)$$ 
			\item[(i)$\iff$(iv)] Obvious from the extended definition of covariant derivative of a general tensor. See REFERENZA.
			\item[(i)$\iff $(ii)]
			if $\nabla g=0$ then:
			$$\nabla_X g(Y,Z)=0=Xg(Y,Z)-g(\nabla_X Y,Z)-g(Y,\nabla_X Z)$$
			However, if $Y,Z$ are parallel transported along the integral curve of $X$ called $\gamma$ then:
			$$0=Xg(Y,Z)\implies g(Y,Z)=Const\hbox{ along the curve }$$
			\item[(iii)$\iff$(i)]
			This follows in exactly the same way:
			$$\nabla_X g(Y,Z)=Xg(Y,Z)-g(\nabla_X Y,Z)-g(Y,\nabla_X Z)$$
			This holds by definition. Thus, if we take $X$ to be the tangent vector of a curve $\gamma$, we get:
			$$Xg(Y,Z)={d\over dt}g_{\gamma(t)}(Y,Z)$$
		\end{itemize}
	\end{proof}
	We now look at how the metric compatibility influences the connection.
	\begin{Prop}
		If $\nabla$ is an affine connection on $(M,g)$ a metric manifold and $\omega$ is the connection form relative to an orthonornal frame $\{e_i\}$, then:
		$$\omega^k_j\eta_{ik}=-\omega^k_i\eta_{jk}$$
		The contrary is also true: given a connection form which respects the above relation in a frame, the corresponding connection will be compatible with the metric.
	\end{Prop}
	\begin{proof}
		From REFERENZA, we can write:
		$$0=Xg(e_i,e_j)=g(\nabla_X e_i,e_j)+g(e_i,\nabla_Xe_j)=g(\omega^k_i(X) e_k,e_j)+g(e_i,\omega^k_j(X)e_k)=$$
		$$=\omega^k_i(X)\eta_{kj}+\omega^k_j(X)\eta_{ik}$$
	\end{proof}
	\begin{Cor}
		In the case of a Riemannian metric, $\eta=\delta$, so that:
		$$\omega_{k}^i=-\omega_{i}^k$$
	\end{Cor}
	\begin{Obs}
		In general, the previous relation can be understood as a sort of \textit{skew-symmetry} for the connection form, in terms of lowering the indices:
		$$0=\omega_{ij}+\omega_{ji}$$
	\end{Obs}
	\begin{Prop}
		Let $\omega$ be a connection fomr in a Riemannian manifold and let it be compatible with the metric. Then if $\omega$ is skew-symmetric, so is its curvature $\Omega$.
	\end{Prop}
	\begin{proof}
		This is a straightforward calculation.
		$$\Omega^i_j=d\omega^i_j+\omega^i_k\wedge \omega^k_j$$
		By skew-symmetry in the Riemannian case:
		$$\Omega^i_j=-d\omega_i^j+\omega_i^k\wedge \omega_k^j=-d\omega_i^j-\omega_k^j\wedge \omega^k_i=-\Omega^j_i$$
	\end{proof}
	\section{The Levi-Civita connection}
	In this section we discuss the construction of the infamous Levi-Civita connection. This is the most famous and used connection in General-Relativity, due to the incredibly nice properties with which is endowed. The idea is the following: we would like to find a canonical connection, pinned down through the metric. This is possile by requiring it to be torsion free. Morally, this means that the compatibility requirement completely fixes a canonical choice for the connection on any metric manifold. the one with 0 torsion.
	\begin{Def}
		Let $\nabla$ be a connection compatible with the metric on a metric manifold $(M,g)$ Let $\{e_i\}$ be an orthonormal frame and $\{\theta^i\}$ its dual. We say that $\nabla$ is \textit{torsion free} if 
		$$d\theta^i+\omega^i_j\wedge \theta^j=0$$
	\end{Def}
	\begin{Theo}[\textbf{Levi-Civita}]
		There is a unique torsion free connection which is also compatible with the metric. We call this the \textit{Levi-Civita} connection.
	\end{Theo}
	\begin{proof}
		The proof is magical. The idea is to define a connection by permuting with a specific aim the set of vector fields on which it acts on. This goes by the \textbf{Koszul formula}. Define $\nabla$ by:
		$$2g(\nabla_XY,Z)=X(g(Y,Z))+Y(g(Z,X))-Z(g(X,Y))-g(X,[Y,Z])+g(Y,[Z,X])-g(Z,[X,Y])$$
		Clearly:
		$$g(\nabla_XY,Z)+g(Y,\nabla_XZ)=X(g(Y,Z))$$
		This is only a matter of looking at it for long enough. It is also not hard to see that, by a straightforward computation:
		$$g(\nabla_XY-\nabla_YX,Z)=g(Z,[X,Y])$$
		since all other terms vanish trivially. This implies that the torsion free condition is respected. As for the uniqueness, suppose $\tilde{\nabla}$ is another connection with those properties. Then we can define:
		$$F(X,Y)=\nabla_XY-\tilde{\nabla}_XY$$
		By torsion free: $F(X,Y)=F(Y,X)$. Thus, we compute:
		$$g(F(X,Y),Z)+g(F(X,Z),Y)=0$$
		This is clear since by metric compatibility:
		$$0=X(g(Y,Z))-g(\nabla_XY,Z)-g(Y,\nabla_XZ)-X(g(Y,Z))+g(\tilde{\nabla}_XY,Z)+g(Y,\tilde{\nabla}_XZ)$$
		Taking $Y=Z$, by symmetry we find:
		$$g(F(X,Y),Y)=0$$
		Since this must hold foe every vector field: $\nabla=\tilde{\nabla}$. This completes the proof.
	\end{proof}
	\section{Levi-Civita Geodesics}
	In this sections we study geodesics generated by the Levi-Civita connection. We will see that the geodesic equation we will recover will coincide with the equation of motion in physics.
	\begin{Prop}
		The Christoffel symbols of the LEvi-Civita connection are symmetric in the lower indices in any coordiante chart.
	\end{Prop}
	\begin{proof}
		To see this recall that in a coordinate chart $[\partial_i,\partial_j]=0$. By torsion freeness:
		$$\nabla_i\partial_j-\nabla_j\partial_i=[\partial_i,\partial_j]=0=$$
		$$=\Gamma_{ij}^k\partial_k-\Gamma_{ji}^k\partial_k$$
		This concludes the proof.
	\end{proof}
	\begin{Prop}
		The Christoffel symbols for the Levi-Civita connection are:
		$$\Gamma^l_{ij}={1\over 2}g^{lk}(\partial_i g_{jk}+\partial_k g_{ji}-\partial_j g_{ik})$$
	\end{Prop}
	\begin{proof}
		We apply the metric compatibility condition:
		$$\nabla_i g_{jk}=\partial_i g_{jk}-\Gamma^l_{ij}g_{lk}-\Gamma^l_{ik}g_{jl}=0$$
		The idea now is to use the fact that the Christoffel symbols for the Levi-Civita connection are symmetric. We take the following sum:
		$$0=\nabla_i g_{jk}+\nabla_k g_{ji}-\nabla_j g_{ki}=$$
		$$=\partial_i g_{jk}-\Gamma^l_{ij}g_{lk}-\Gamma^l_{ik}g_{jl}+\partial_k g_{ji}-\Gamma^l_{kj}g_{li}-\Gamma^l_{ki}g_{jl}-\partial_j g_{ik}+\Gamma^l_{ji}g_{lk}+\Gamma^l_{jk}g_{il}$$
		Grouping up terms and taking the symmetrization:
		$$0=(\partial_i g_{jk}+\partial_k g_{ji}-\partial_j g_{ik})-(\Gamma^l_{ij}-\Gamma^l_{ji})g_{lk}-2\Gamma^l_{ik}g_{jl}-(\Gamma^l_{kj}-\Gamma^l_{jk})g_{il}$$
		We find:
		$$\Gamma^l_{ij}={1\over 2}g^{lk}(\partial_i g_{jk}+\partial_k g_{ji}-\partial_j g_{ik})$$
	\end{proof}
	\begin{Cor}
		Is the metric tensor has vanishing derivatives then the Christoffel symbols are 0.
	\end{Cor}
	\begin{Theo}
		Let $(M,g)$ be a metric manifold and $\nabla$ be an affine connection compatible with the metric. The \textit{geodesic equation} in a chart $(U,\phi)$ is given by:
		$$\ddot{x}^i+\Gamma^i_{jk}\dot{x}^j\dot{x}^k=0$$
	\end{Theo}
	\begin{proof}
		This is a straightforward calculation. Take a curve $\gamma(t)$ and apply the geodesic equation:
		$$\nabla_{\dot{\gamma}(t)}\dot{\gamma}(t)=0=[d\dot{\gamma}^i(t)(\dot{\gamma}(t))+\dot{\gamma}^j(t)\omega^i_j(\dot{\gamma}(t))]\partial_i=$$
		$$=[\ddot{\gamma}^i+\dot{\gamma}^j(t)\dot{\gamma}^k(t)\Gamma^i_{kj}]\partial_i$$
	\end{proof}
	\begin{Cor}
		In the neighbourhood of any point of a Riemannian manifold there is always a unique geodesic.
	\end{Cor}
	\begin{proof}
		This follows from the fact that on a Riemannian manifold we have always the Levi-Civita connection. Moreover, there is always a unique local geodesci, since given an initial condition the geodesic equation found in REFERENZA above is a set of second order ordinary differential equations.
	\end{proof}
	\begin{Exe}
		Calculate geodesics in Minkowski 4D spacetime.\\
		\\
		The solution is as follows: in Minkowski space-time the metric tensor is cosntant:
		$$\eta=diag(-1,1,1,1)$$
		This means that the derivatives of this tensor are 0 in our usual smooth atlas. Thus, the geodesic equation is simply:
		$$\ddot{x^i}=0$$
		which gives straigh-lines
	\end{Exe}
	\begin{Ex}
		Consider $\mathbb{R}^2$ with the flat Minkowski metric $\eta=diag(-1,1)$. We have our regular coordinates $(t,x)$ defined everywhere. We now define the so called Rindler-Coordinates $(\tau,\xi)$:
		$$\begin{cases}
			t={\xi} sinh({\alpha\tau})\\
			x={\xi} cosh({\alpha\tau})
		\end{cases}$$
		Those span only the right part of $\mathbb{R}^2$ contained between $t=x$ and $t=-x$ for $x>0$. For the other parts of spaces it suffices to re-define the coordinates with minus signs and permutations. We will not go throught it right now because it is useless. Let us restrict ourselves to the above space.
		\\\\DISEGNO\\\\
		If now we consider this space endowed with the flat minkowsky metric we get:
		$$\eta=-dt^2+dx^2$$
		in the starting frame. In the new coordinate frame:
		$$\eta=-(\alpha x)^2d\tau^2+dx^2$$
		Thys, the Christoffel symbols in this coordinate frame are:
		$$\Gamma_{xx}^x={1\over 2}g^{xl}(\partial_xg_{xl}+\partial_xg_{lx}-\partial_lg_{xx})$$
		However, $g=\eta$ is diagonal in this frame. Thus, since $g_{xx}$ is constant:
		$$\Gamma_{xx}^x=0$$
		Repeating for the other symbols:
		$$\Gamma_{tx}^x=\Gamma_{xt}^x={1\over 2}g^{xl}(\partial_tg_{xl}+\partial_xg_{lt}-\partial_lg_{tx})=0$$
		$$\Gamma_{tt}^x={1\over 2}g^{xl}(2\partial_tg_{tl}-\partial_lg_{tt})=0$$
		$$\Gamma^t_{xx}={1\over 2}g^{tl}(2\partial_xg_{xl}+\partial_xg_{lt}-\partial_lg_{xx})=0$$
		$$\Gamma_{tx}^t=0$$
		$$\Gamma_{tt}^t={1\over 2}g^{tt}\partial_tg_{tt}=-{1\over (\alpha\tau)^2}$$
		SONO SBAGLIATI I CONTIIIII
	\end{Ex}
	\begin{Cor}
		The fact that Christoffel symbols are 0 in a given frame DOES NOT imply them to be 0 in another coordinate frame.
	\end{Cor}
	\begin{Obs}
		In general, 
	\end{Obs}
		\section{A more meaningful view on connections}
	In this section we expose the true nature behind the definition of connection on a vector bundle. Up unitl now, it has been presented sort of a magical construction, god given. The truth is that the idea is actually similar to the one behind the Lie derivative, with some important caveats.\\
	\\
	The starting problem is always the same: we would like to take derivatives of tensors i.e. to take the difference between quantities that are defined on different vector spaces. To be explicit, take a smooth vector field $X\in\mathfrak{X}(M)$. We would like to compare $X_p$ with $X_q$ at two different points. This cannot be canonically done: it is true that at any point of the manifold the tangent spaces are isomorphic, but this depends on the choice of a local chart. There is no canonical isomorphism. Thus, we need a new way to differentiate. Consider:
	Suppose as always that we have a rank $k$ vector bundle $E$ on $M$ with projection $\pi:E\rightarrow M$
	\begin{Def}
		Let $(E,M,\pi,\mathbb{R}^k)$ be a vector bundle and let $\pi_*$ be the push-forward of the projection. We define the \textit{vertical subspace} at $p\in E$ as:
		$$\mathcal{V}_p=Ker(\pi_*|_p)$$
		We also define the \textit{vertical bundle} or \textit{vertical distribution}:
		$$\mathcal{V}=\bigsqcup_{p\in E}\mathcal{V}_p\subset TE$$
	\end{Def}
	\begin{Prop}
		Let the notation be as above: then $\mathcal{V}$ is a vector bundle of dimension $k$ on $E$.
	\end{Prop}
	\begin{proof}
		Clearly, $TE$ is a bundle on $E$, and it is a vector bundle of dimension $2dim(E)=2(n+k)$ with $dim(M)=n$. PROVAAA
	\end{proof}
	\begin{Obs}
		We have seen that $\mathcal{V}$ is a vector sub-bundle of $TE$. Thus, we can look at its complement $\mathcal{H}$ so that $TE=\mathcal{V}\oplus\mathcal{H}$. This will be called \textit{horizontal sub-bundle} or \textit{horizontal distribution}.\\
		\\
		Clearly, the choice of an horizontal distribution is not at all canonical. Hoever, if we select one horizontal distribution, then there is an automatic homeomorphism:
		$$Hor_p:T_{\pi(p)}M\longrightarrow \mathcal{H}_p$$
		This implies that whatever the choice, the dimension of $\mathcal{H}_p$ will always be $n=dim(M)$.
	\end{Obs}
	\begin{Def}
		Let $\gamma:I\rightarrow M$ be a curve on $M$. We call $\tilde{\gamma}:I\rightarrow E$ a \textit{lift} for $\gamma$ if $\pi(\tilde{\gamma})=\gamma$ at all points.
	\end{Def}
	\begin{Def}
		Suppose to have an horizontal distribution $\mathcal{H}$ on $E$. A lift $\tilde{\gamma}$ is called \textit{horizontal} if 
		$\dot{\tilde{\gamma}}(t)_p=Hor_{\tilde{\gamma}(t)}(\dot{\gamma}(t))$.
	\end{Def}
	
	\chapter{Transversal and Normal connections}
	\section{The Second Fundamental Form}
	\begin{Obs}
		Let $M$ be a Riemannian manifold with a metric $g^M$ and $S\subset M$ a regular submanifold. Then, for any $p\in M$, we can decompose the space:
		$$T_pM=T_pS\oplus T_pS^\perp$$
		This decomposition is canonical since the manifold is by assumption endowed with a metric tensor. Clearly the complement is took as the orthogonal complement with respect to the subspace.  
	\end{Obs}
	Suppose now that $\nabla^M$ is the Levi-Civita connection on $M$. Then, taking an orthonormal frame $\{X_i\}_{i=1,...,n}$, we can expand:
	$$\begin{cases}
		d\theta^\alpha=\theta^\beta\wedge \Gamma^\alpha_\beta\\
		\Gamma^\alpha_\beta=-\Gamma_\alpha^\beta
	\end{cases}$$
	Where $\{\theta^i\}$ are the co-frames of $X_i$. The first condition is clearly the Torsion free condition REFERENZA; while the other is the metric compatibility REFERENZA. Now, if we restrict ourselves to the submanifold $S$, we have:
	$$\theta^\alpha=0\hbox{ for }\alpha>k$$
	This implies automatically:
	$$d\theta^\alpha=0=\theta^\beta\wedge \Gamma^\alpha_\beta\hbox{ with }\beta\leq k, \alpha >k$$
	\begin{Lm}[\textbf{Cartan's}]
		If $\{\theta^i\}$ are linear independent forms on $M$ and ${\omega_i}$ are forms such that $\theta^i\wedge \omega_i=0$, then there exist smooth functions $A_{ij}$ such that:
		$$\omega_i=A_{ij}\theta^j$$
	\end{Lm}
	\begin{proof}
		PROVARE
	\end{proof}
	\begin{Obs}
		By the previous lemma we can rewrite:
		$$\Gamma^\alpha_\beta=f_{\beta\gamma}^\alpha \theta^\gamma$$
		with $\alpha>k$ and $\beta,\gamma\leq k$. This begs to be fully contracted. Define:
		$$N:TS\otimes TS\longrightarrow TS^\perp$$
		$$N(X,Y)=f_{\beta\gamma}^\alpha \theta^\beta\otimes \theta^\gamma \otimes X_\alpha(X,Y)$$
		with respect to the selected frame.
	\end{Obs}
	We can check how this behaves:
	$$N(U,V)=\sum_{\alpha>k,\beta,\gamma\leq k}f_{\beta\gamma}^\alpha\theta^\beta(U)\theta^\gamma(V)X_\alpha=\sum_{\alpha>k,\beta,\gamma\leq k}\mu_{\beta}^\alpha(V)U^\beta X_\alpha$$
	Where we have implicitly used the Cartan's Lemma. This clearly implies:
	$$N(U,V)=(\nabla^M_VU)^\perp=(\nabla^M_UV)^\perp$$
	\begin{Def}
		We define the \textit{second fundamental form} as:
		$$\mathbb{II}(U,V)=(\nabla^M_VU)^\perp$$
		Or equivalently:
		$$\mathbb{II}(U,V)=N(U,V)$$
	\end{Def}
	The second fundamental form is thus a symmetric form:
	$$\mathbb{II}\in Sym^2(TS^*)\otimes TS^\perp$$
	\section{The Gauss equation}
	\section{The Ricci equation}
	\section{The Codazzi equation}
	\chapter{Principal bundles}
	In this chapter we will introduce the notion of principal bundle, together with some examples and useful properties of them. Principal bundles are the main object in physics, as they represent the basi architecture in which we encode symmetries. The idea is pretty simple: we wish to attach to any point of space-time a symmetry group. That is it: a principal bundle is nothing more than a fiber bundle in which the fiber is a Lie group. This is extremely powerful: constructing this in the fiber bundle fashion, we expect to recover a space-time structure in which, locally, we have a trivial symmetry, while globally we might have a more complex non-trivial structure. As an example, one might think of general relativity. We would like to study spacetime in a way that lets us recover locally the Poincar symmetry $SO(n-1,1)$, however, due to the non-trivial curvature, we would also expect this symmetry to not be global. Another meaningful construction, which we will dive into later on, is the one of Gauge theories. The idea is to let particles have a local $SU(n)$ symmetry. Thus, at each point of spacetime, we will glue the symmetry group. Before going on, I would like to remark how important are, at least to my understanding, principal bundles to physics. As of now, to my knowledge, there is little to no branch of physics which does not make us of principal bundles: mechanics, quantum physics, matter physics and much more. They all rely on this very construction. Physics, to me, is the study of symmetries i.e. the study of principal bundles.
	\section{What is a Principal Bundle?}
	In this section we give the general notion of principal bundle and make some examples. We are going to see that, similarly but more naively, a global section for a principal bundle implies triviality. This is notably different from the case of vector bundles: as they require a global frame.
	\begin{Def}
		Let $M,P$ be smooth manifolds and $G$ be a Lie group. Suppose the following is satisfied:
		\begin{itemize}
			\item $G$ acts freely with a smooth right action on $P$:
			$$\mu:p\times G\rightarrow P$$
			$$Stab(P)=\{e\in G\}\hbox{ with }e\hbox{ neutral element of $G$}$$
			\item Around any point there is a diffeomorphic equivariant trivialization: $$\phi:\pi^{-1}(x)\rightarrow U\times G$$ 
			with $\pi=Pr_1\circ \phi$ and
			$$\phi(p)\cdot g=\phi(\mu(p,g))$$
			Where $(x,h)\cdot g=(x,hg)$ clearly.
		\end{itemize}
		Then we call \textit{Principal G-bundle} the set of information:
		$$(P,M,\pi,G)$$
	\end{Def}
	\begin{Prop}
		On a principal bundle the action of the group is inherintly transitive on each fiber.
	\end{Prop}
	\begin{proof}
		It is clear that on $\{p\}\times G$ the group acts transitively. Since any trivialization $\phi$ is equivariant, the group acts also transitively on the fiber.
	\end{proof}
	This is quite remarkable, to be fair.
	\begin{Lm}
		If $G$ is a group, any equivariant $f:G\rightarrow G$ is necessarily a left translation.
	\end{Lm}
	\begin{proof}
		If $f$ is equivariant then:
		$$f(gh)=f(g)h$$
		so that:
		$$f(g)=f(eg)=\ell_{f_(e)}g$$
		Nice isn't it? Tis is only basic group theory, no additional structure involved.
	\end{proof}
	\begin{Obs}
		Note that by construction on a Principal bundle the projection in invariant:
		$$\pi\circ \mu=\pi$$
		This is true since: $\pi=Pr_1\circ \phi$ and 
		$$\pi(\mu(p,g))=\Pr_1\circ \phi(\mu(p,g))=Pr_1\circ \phi(p)\cdot g=x=\mu(p)$$
		This comes from the request that the trivialziations are equivariant.
	\end{Obs}
	\begin{Ex}
		Let us now make some examples of Principal bundles.
		\begin{itemize}
			\item We can always define the \textit{trivial bundle}: $M\times G$. This clearly makes a bundle. There is the canonical projection
			$$\pi:M\times G\rightarrow M\hbox{ like }\pi(x,g)=x$$
			And the trivializations are the identity maps:
			$$\mathbb{I}(x,g)=(x,g)$$
			The trivializations are clearly equivariant.
			\item We now construct the infamous \textbf{\textit{Hopf bundle}} Consider the sphere $S^2$. This is:
			$$S^2=\{(z,x)\in\mathbb{C}\times \mathbb{R}\hbox{ such that }|z|^2+x^2=1\}$$
			We would like to put on it a non-trivial bundle. Consider $U(1)=S^1$ the unitary group of dimension 1. This has an action on $S^3$ the 4-dimensional sphere. In particular:
			$$S^3=\{(z_1,z_2)\in\mathbb{C}^2\hbox{ such that }|z_1|^2+|z_2|^2=1\}$$
			And the action is:
			$$\mu:S^3\times U(1)\rightarrow S^3\hbox{ like }\mu((z_1,z_2),e^{i\theta})=(e^{i\theta}z_1,e^{i\theta}z_2)$$
			Take the projection:
			$$\pi:S^3\rightarrow S^2\hbox{ like }\pi(z_1,z_2)=(2z_1z_2^*,|z_1|^2-|z_2|^2)$$
			Note that by definition the projection is invariant under the action:
			$$\pi\circ \mu=\pi$$
			Notice also that the projection is well defined:
			$$4|z_1z_2|^2+|z_1|^4+|z_2|^4-2|z_1|^2|z_2|^2=(|z_1|^2+|z_2|^2)=1$$
			Both the projection and the action are smooth, and the projection is clearly surjective. The only ingredient missing is the trivializations. We define two open sets:
			$$U_1=S^2\setminus (0+i0,1)\hbox{ and }U_2=S^2\setminus (0+i0,-1)$$
			Clearly:
			$$\pi^{-1}(U_1)=\{(z_1,z_2)\in\mathbb{C}^2\hbox{ with }z_2\neq 0\}\hbox{ and }\pi^{-1}(U_1)=\{(z_1,z_2)\in\mathbb{C}^2\hbox{ with }z_1\neq 0\}$$
			The corresponding trivializations are:
			$$\phi_i:\pi^{-1}(U_i)\longrightarrow S^2\times U(1)$$
			$$\phi_1(z_1,z_2)=\big(\pi(z_1,z_2),{z_2\over |z_2|}\big)\hbox{ and }\phi_1(z_1,z_2)=\big(\pi(z_1,z_2),{z_1\over |z_1|}\big)$$
			The trivializations are clearly well defined and smooth and they are easy to be checked equivariant:
			$$\phi_i(\mu((z_1,z_2),e^{i\theta}))=\big(\pi(\mu((z_1,z_2)),e^{i\theta}),{z_i\over |z_i|}\big)=e^{i\theta}\big((z,x),{z_i\over |z_i|}\big)$$
			This defines the Hopf bundle.
			\item One important example of a principal bundle is the \textbf{\textit{Homogeneous space}}. Let $G$ be a Lie group and let $H$ be a closed normal Lie subgroup. We have proved in REFERENZA that the quotient $G\slash H$ is a smooth manifold. There is a canonical projection:
			$$\pi:G\rightarrow {G\slash H}$$
			That associates to each element its class: $g\xmapsto{\pi}[g]_H$. This defines a principal $H$-bundle. The natural action is the multiplication:
			$$\mu:H\rightarrow G\hbox{ like }\mu(h,g)=h\cdot g$$ PROVAREEEE
		\end{itemize}
	\end{Ex}
	\section{Local and Global Gauges}
	In this section we go through the analysis of the notion of gauges. This will be nothing more than sections of principal bundles. It will however be nice to set up an architecture which will allow us to generalize the results found for vector bundles.
	\begin{Def}
		We call a \textit{local or global gauge} a local or global section of a principal bundle i.e. a map:
		$$s:U\subset M\rightarrow P$$
		such that $\pi\circ s=\mathbb{I}$
	\end{Def}
	Just like for vector bundles, two local overlapping trivializations differ by some smooth map.
	\begin{Prop}
		Consider two overlapping trivializations of a principal bundle:
		$$\phi_{i,j}:\pi^{-1}(U_{i,j})\rightarrow U\times G$$
		Then there is a smooth map:
		$$g_{ij}:U_{i}\cap U_{j}\rightarrow G$$
		such that:
		$$\phi_i\circ \phi_j^{-1}(x,h)=(x,g_{ij}(x)h)$$
	\end{Prop}
	\begin{proof}
		The trivializations are equivariant on the fibers. Moreover, since $\phi_{i,j}$ have same projection, they will differ by an element of $g$:
		$$\phi_i\circ \phi_j^{-1}(x,h)=(x,g_{ij}(x)h)$$
		The map $g$ is clearly smooth, sicne the trivializations are.
	\end{proof}
	\chapter{Ehresmann geometries}
	\chapter{Cohomology}
	\section{De Rham Cohomology}
	In this section we give the definition of the De Rham Cohomology and prove some important results concerning this theory.
	\begin{Def}
		Let $M$ be a smooth manifold. We define the \textit{De Rham Cohomology of degree $p$} in $M$ as the quotient set:
		$$H_{dR}^p(M)={Ker(d:\Omega^p(M)\rightarrow \Omega^{p+1}(M))\over Im(d:\Omega^{p-1}(M)\rightarrow \Omega^{p}(M))}={\hbox{exact forms }\over \hbox{closed forms}}$$ 
	\end{Def}
	Elements of $H_{dR}^p(M)$ are equivalence classes, whoose elements differ by a closed form.
	\begin{Obs}
		$H_{dR}^p(M)$ is clearly a vector space under addition of forms. Moreover, since $\Omega^p(M)=0$ for $p>dim(M)$ we have that:
		$$H^p_{dR}(M)=0\hbox{ for }p<0,p>dim(M)$$
	\end{Obs}
	Now we look at some properties of the De Rham Cohomology.
	\begin{Prop}
		If $F.N\rightarrow M$ is a smooth map between manifolds, there is a linear map $F^*:H^p_{dR}(N)\rightarrow H^p_{dR}(N)$.
	\end{Prop}
	\begin{proof}
		The pullback $F^*$ of a form commutes with the exterior derivative, so that:
		\begin{itemize}
			\item if $\omega$ is closed then $dF^*\omega=F^*d\omega=0$ is closed;
			\item if $\omega$ is exact then $F^*\omega=F^*d\eta=dF^*\eta$ is exact.
		\end{itemize}
		By abuse of notation, define:
		$$F^*:H^p_{dR}(N)\rightarrow H^p_{dR}(N) \hbox{ like }F^*[\omega]=[F^*\omega]$$
		This is clearly well defined.
	\end{proof}
	There is an immediate important consequence to this result:
	\begin{Theo}
		If two manifolds are diffeomorphic then their De Rahm Cohomologies are isomorphic.
	\end{Theo}
	\begin{Prop}
		If $M$ is a connected smooth manifold then the $H^0_{dR}(M)$ is one dimensional and equal to the space of constant functions.
	\end{Prop}
	\begin{proof}
		Clearly, by definition $H^0_{dR}(M)=Ker(d:\Omega^0(M)\rightarrow\Omega^1(M))$ which is the space of constant functions $df=0$.
	\end{proof}
	There is another extremely important result:
	\begin{Theo}
		The De Rahm Cohomology spaces are topological invariants.
	\end{Theo}
	This can be seen as a corollary of the following proposition:
	\begin{Prop}
		The De Rahm Cohomology spaces are homotopy invariants.
	\end{Prop}
	\begin{proof}
		Let $F:M\rightarrow N$ be an homotopy with inverse $F^{-1}$. By the Whitney approximation theorem, there exist $\tilde{F}:M\rightarrow N,\tilde{F}^{-1}N\rightarrow M$ smooth and homotopic to $F,F^{-1}$. By REFERENZA, the theorem is proved.
	\end{proof}
	\section{The De Rham Theorem}	
	\chapter{Characteristic classes}
	\section{Characteristic classes of Vector Bundles}
	In this section we will look at the construction of topological invariants for vector bundles.
	\begin{Def}
		Let $V$ be a $n$-dimensional vector space. We call \textit{polynomial} of degree $k$ on $V$ any element $f\in Sym^k(V^*)$.
	\end{Def}
	\begin{Def}
		If $\mathfrak{g}$ is the Lie algebra of $G$ and $f:\mathfrak{g}\rightarrow \mathbb{R}$ is a polynomial of degree $k$, then $f$ is said to be $\rho$-invariant if
		$$f(\rho(g)X)=f(X)$$
		for all $g\in G$ and $X\in \mathfrak{g}$.
	\end{Def}
	\begin{Theo}[Chern-Weyl]
		Let $(E,M,\pi,\mathbb{R}^r)$ be a vector bundle, $\nabla$ a connection and $\Omega$ its curvature. If $f$ is an $Ad$-invariant homogeneous polynomial on $\mathfrak{gl}(n,\mathbb{R})$ then:
		\begin{itemize}
			\item[i)] $f(\Omega)$ is closed;
			\item[ii)] The cohomology class $[f(\Omega)]$ is independent of the connection $\nabla$.
		\end{itemize}
	\end{Theo}
	\begin{proof}
		It is sufficient to prove this for the trace polynomial, as it can be proven that the trac epolynomial generates every other polynomial in $\mathfrak{gl}(n,\mathbb{R})$.\\
		\begin{itemize}
			\item[i)] Clearly $dtr(\Omega)=tr(d\Omega)=0$ by symmetry.
			\item[ii)] Consider two connections $\nabla,\nabla'$ and define:
			$$\nabla_t=\nabla+t(\nabla'-\nabla )=\nabla+t\xi\hbox{ with } t\in[0,1]$$
			Clearly, the connection matrics follow the same rule:
			$$\omega_t=\omega+t(\omega'-\omega)=\omega+t\omega_\xi$$
			Let $\Omega_t$ be the curvature of $\nabla_t$. Now, consider the following calculations:
			$${d\over dt}Tr(\Omega_t,...,\Omega_t)=kTr({d\over dt}\Omega_t,...,\Omega_t)$$
			Now, $\Omega_t=d\omega_t+\omega_t\wedge\omega_t$. This immediately implies:
			$${d\over dt}\Omega_t=d\dot{\omega}_t+\dot{\omega}_t\wedge \omega_t+\omega_t\wedge\dot{\omega}_t$$
			Now, feeding this into the trace polynomial, we find:
			$$Tr({d\over dt}\Omega_t,...,\Omega_t)=Tr(d\dot{\omega}_t+\dot{\omega}_t\wedge \omega_t+\omega_t\wedge\dot{\omega}_t ,\Omega_t...,\Omega_t)=$$
			$$=Tr(d\dot{\omega}_t\wedge \Omega_t^{k-1}+\dot{\omega}_t\wedge \omega_t\wedge \Omega_t^{k-1}+\omega_t\wedge\dot{\omega}_t\wedge \Omega_t^{k-1})=$$
			$$Tr(d\dot{\omega}_t\wedge \Omega_t^{k-1}+\dot{\omega}_t\wedge \omega_t\wedge \Omega_t^{k-1}-\dot{\omega}_t\wedge \Omega_t^{k-1}\wedge \omega_t)=Tr(d(\dot{\omega}\wedge \Omega^{k-1}))=$$
			$$dTr(\dot{\omega}\wedge \Omega^{k-1})$$
			Finally, by integrating:
			$$\int_0^1dt kdTr(\dot{\omega}\wedge \Omega^{k-1})=\int_0^1dt {d\over dt}Tr(\Omega^k)=Tr(\Omega^{k'})-Tr(\Omega^{k})=d\tau$$
		\end{itemize}
	\end{proof}
	\subsection{The Chern Class}
	In this subsection we will construct the Chern classes for vector bundles.
	\begin{Def}
		Let $E$ be a vector bundle with structure group $GL(r,\mathbb{C})$ and a curvature $\Omega$. Then we defne the \textit{total Chern Class} as:
		$$c(\Omega)=det\bigg(\mathbb{I}-{i\over 2\pi}\Omega\bigg)$$ 
	\end{Def}
	\begin{Obs}
		One can show that all invariant polynomials on $\mathfrak{gl}(r,\mathbb{C})$ are generated by the coefficients $f_k$ in the expansion:
		$$det(\lambda\mathbb{I}-X)=\sum_{k=0}^r f_k(X)\lambda^{r-k}$$
		This implies that all invariant polynomials of $\Omega$ are generated by the elements of the Chern class expansion.
	\end{Obs}
	\begin{Obs}
		Since $\Omega$ is a $2$-form, $c(\Omega)$ is the sum of even degrees term:
		$$c(\Omega)=1+c_1(\Omega)+c_2(\Omega)+...$$
		where $$c_n(\Omega)\in\Omega^{2n}(M)$$
		is called the \textit{$n^th$ Chern Class}.\\
		Moreover, since each element is an invariant polynomial, $c_j(\Omega)$ correspond to an element $[\Gamma_j]\in H^{2j}(M)$. It immediately follows that for $j>dim(M)$ and $2j>n$ the Chern class vanishes 
		$$c_{j>m/2}(\Omega)=0,\hspace{20 pt}c_{j>n}(\Omega)=0$$
		Lastly, the finishing term is $c_{j=m}(\Omega)=det({i\over 2\pi}\Omega)$.
	\end{Obs}
	\begin{Obs}
		It is possible to prove that for the Lie algebra $\mathfrak{su}(n)$, all invariant polynomials are generated by the Chern Polynomial. However, from the requirement $Tr(X)=0$, we have $c_1(F)=0$.
	\end{Obs}
	\begin{Prop}
		If $E\oplus F$ is a sum of complex vector bundles with structure groups $GL(r_{1,2},\mathbb{C})$ and $c(E),c(F)$ are the total Chern classes of them, then:
		$$c(E\oplus F)=c(E)\wedge c(F)$$
	\end{Prop}
	\begin{proof}
		This is a clear consequence of the fact that if $\Omega_E,\Omega_F$ are the curvatures of the bundles, then $$\Omega_{E\oplus F}=\begin{pmatrix}
		\Omega_E && 0\\
		0&& \Omega_F
		\end{pmatrix}$$
		Clearly, the determinant function splits accoardingly.
	\end{proof}
	\subsection{Chern Characters}
	\begin{Def}
		We define the \textit{total Chern character} as:
		$$ch(\Omega)=Tr\bigg({i\over 2\pi}\Omega\bigg)=\sum_j {1\over j!}Tr\bigg({i\over 2\pi}\Omega\bigg)^j$$
		We call $ch_j(\Omega)={1\over j!}Tr\bigg({i\over 2\pi}\Omega\bigg)^j$ the $j^{th}$ \textit{Chern character}.
	\end{Def}
	The Chern characters behave in a nicer way with respect to the splitting principle. Consider the following:
	\begin{Prop}
		Let $E,F$ be vector bundles over $M$ with structure group $GL(n,\mathbb{C})$. Then:
		\begin{itemize}
			\item $ch(E\oplus F)=ch(E)\oplus ch(F)$;
			\item $ch(E\otimes F)=ch(E)\otimes ch(F)$.
		\end{itemize}
	\end{Prop}
	\begin{proof}
		Recall that by definition:
		$$ch(\Omega)=\sum_j {1\over j!}Tr\bigg({i\over 2\pi}\Omega\bigg)^j$$
		This immediately proves the first result:
		$$Tr(A\oplus B)^j=Tr(A^j)+Tr(B^j)$$
		As for the second equality instead, if $A=B\otimes C=B\otimes \mathbb{I}+\mathbb{I}\otimes C$ then:
		$$Tr(B\otimes \mathbb{I}+\mathbb{I}\otimes C)^j=\sum_{m=1}^j {j \choose m}Tr(B^m)Tr(C^{j-m})$$
		So that we find:
		$$ch(B\otimes C)=\sum_j {1\over j!}{i\over 2\pi}\sum_{m=1}^j {j \choose m}Tr(B^m)Tr(C^{j-m})={i\over 2\pi}\sum_j {1\over j!}Tr(B^m)\sum_{m}{1\over m!}Tr(C^{m})$$
	\end{proof}
	\subsection{The Pontrjagin Class}
		\begin{Def}
			Let $E$ be a vecotr bundle over $M$. We define the \textit{Pontrjagin class} of $E$ as:
			$$p(E)=det\bigg(\mathbb{I}+{1\over 2\pi}\Omega\bigg)$$
		\end{Def}
		\begin{Prop}
			If $f$ is an invariant polynomial on $\mathfrak{gl}(n,\mathbb{R})$, then $[f(\Omega)]$ is 0 in $H^{2k}(M)$.
		\end{Prop}
		\begin{proof}
			Put a Riemannian metric on $M$ and consider a curvature compatible with the metric. THis is skew-symmetric. Since $f$ is a linear combination of $Tr$ of odd degree, the final result is 0.
		\end{proof}
		\begin{Obs}
			By the previous result REFERENZA, since $\Omega$ is a $2$-form, we will have only the even-degree terms in the expansion:
			$$det\bigg(\mathbb{I}+{1\over 2\pi}\Omega\bigg)=1+f_2({1\over 2\pi}\Omega)+f_4({1\over 2\pi}\Omega)+...$$
			Clearly, $f_n)({1\over 2\pi}\Omega)\in\Omega^{4n}(M)$.
		\end{Obs}
		\begin{Def}
			We define the $k^{th}$ Pontjagin class as:
			$$p_k(\Omega)=[f_{2k}({1\over 2\pi}\Omega)]\in H^{4k}(M)$$
		\end{Def}
		\begin{Prop}
			If $E$ is a vector bundle on $M$ and $E_\mathbb{C}=E\otimes \mathbb{C}$ is the complexified bundle, then there is a correspondence:
			$$p_k(E)=(-)^kc_{2k}(E_\mathbb{C})$$
		\end{Prop}
		\begin{Prop}
			If $\Omega$ is the curvature of $E$, then clearly this induces a curvature on $E_\mathbb{C}$ like:
			$$\Omega_\mathbb{C}=\Omega\otimes\mathbb{I}_\mathbb{C}$$
			Now, a skewsymmetric matrix can be diagonalized over the complex numbers, and its eigenvalues will come in complex pairs $\pm ix_j$, so that:
			$$det(\mathbb{I}+iA)=det\begin{pmatrix}
				1+x_1 && 0 && ... &&... && ...\\
				0 && 1-x_1 && 0 && ... && ...  \\
				0 && 0 && 1+x_2 && 0 &&...  \\
				0 && 0 && 0 && 1-x_2 &&...  \\
				0 && 0 && 0 && 0 &&... 
			\end{pmatrix}=\prod (1-x_i)^2=$$
			while
			$$det(\mathbb{I}+A)=\prod (1+x_i)^2$$
			This proves the Proposition.
		\end{Prop}
		As a corollary of this statement:
		\begin{Prop}
			$$P(E\oplus F)=p(E)\wedge p(F)$$
		\end{Prop}
		\section{Characteristic classes of Principal Bundles}
		In this section we will look at the construction of topological invariants for principal bundles.
		\begin{Def}
			Let $V$ be a $n$-dimensional vector space. We call \textit{polynomial} of degree $k$ on $V$ any element $f\in Sym^k(V^*)$.
		\end{Def}
		\begin{Def}
			If $\mathfrak{g}$ is the Lie algebra of $G$ and $f:\mathfrak{g}\rightarrow \mathbb{R}$ is a polynomial of degree $k$, then $f$ is said to be $\rho$-invariant if
			$$f(\rho(g)X)=f(X)$$
			for all $g\in G$ and $X\in \mathfrak{g}$.
		\end{Def}
		We are interested in construction $Ad$-invariant polynomials, starting from the curvature form.
		\begin{Theo}[Chern-Weyl]
			Let $(P,M,\pi,G)$ be a principal bundle, $A$ a connection and $F$ its curvature. If $f$ is an $Ad$-invariant polynomial then:
			\begin{itemize}
				\item[i)] $f(F)$ is basic i.e. $f(F)=\pi^*\Gamma$;
				\item[ii)] $d\Gamma=0$ is closed;
				\item[iii)] The cohomology class $[\Gamma]$ is independent of the connection $A$.
			\end{itemize}
		\end{Theo}
		\begin{proof}
			We proceed with order:
			\begin{itemize}
				\item[i)] We need to show right-invariance and horizontality. In general, $$f(F)=a_IF^{i_1}\wedge ...\wedge F^{i_k}$$
				By horizontality of the curvature form, $f(F)$ is also horizontal. Moreover, by taking the right action:
				$$r_g^*f(F)=a_IAd(g^{-1})F^{i_1}\wedge ...\wedge Ad(g^{-1})F^{i_k}=f(Ad(g^{-1})F)=f(F)$$
				This proves that $f(F)$ is basic.
				\item[ii)]
				$$df(F)=d\pi^*\Gamma=\pi^*d\Gamma=0$$
				This is a consequence of $a_I$ being constant and $Df(F)=df(F)$.
				\item [iii)]
				Consider a curve that interpoles any two connections, like:
				$$A_t=A+t(A'-A)=A+t\alpha; \hbox{ with }t\in[0,1] $$
				Then, if $F_t=D_tA_t$ we can evalue:
				$${d\over dt} F_t={d\over dt}(dA_t+{1\over 2}[A_t,A_t]+t[\alpha,\alpha])=d\alpha+{1\over 2}[A_t,\alpha]+antisymm=D_t\alpha+antisymm$$
				Now, feeding this into the symmetric polynomial $f$, the last term dies off and so we find:
				$$D_tf(\alpha,F_t,...,F_t)=f(D_t\alpha,F_t,...,F_t)=f({d\over dt}F_t,F_t,...,F_t)$$
				Moreover, since $D_t\alpha=d\alpha+{1\over 2}[A_t,\alpha]$ and the second term is antisymmetric, the polynomial kills it so that:
				$$f(D_t\alpha,F_t,...,F_t)=f(d\alpha,F_t,...,F_t)=df(\alpha,F_t,...,F_t)$$
				Where the last equality used the fact that the covariant derivative of $f$ is equal to the exterior derivative of $f$, and $F_t$ is covariantly closed.
				By multilinearity of the polynomial, we can write:
				$$df(\alpha,F_t,...,F_t)=k{d\over dt}f(F_t,F_t,...,F_t)$$
				Finally, integrating:
				$$k\int_0^1 dt {d\over dt}f(F_t,F_t,...,F_t)=f(F)-f(F')=d\bigg(\int_0^1 dt f(\alpha,F_t,...,F_t)\bigg)$$
				This completes the proof.
			\end{itemize}
		\end{proof}
		\begin{Obs}
			The last theorem basically tells us that if we have a principal bundle and we choose any connection, and thus any curvature, we can find a unique cohomology class $[\Gamma]$ on the base manifold. In particular, $\Gamma\in\Omega^k(M,\mathbb{R})$. In fact, since $f:\mathfrak{g}^k\rightarrow \mathbb{R}$ is a polynomial with real values, by feeding to it the curvature we obtain a form of degree $2k$ which has values in $\mathbb{R}$. The cohomology class of $\Gamma$ is called \textit{characteristic class} of $P$ associated to $f$.
		\end{Obs}
		\begin{Prop}
			If two principal bundles are isomorphic then they have same characteristic class.
		\end{Prop}
		\begin{proof}
			Let $P,P'$ be two principal bundles over $M$, suche that there is a bundle isomorphism:
			$$\chi:P\rightarrow P'\hbox{ such that }\pi=\pi'\circ \chi$$
			Suppose you have a basic form $\omega'$ on $P'$. Then $\omega'=\pi'^*\Gamma$ and $\phi^*\omega=\phi^*\pi'^*\Gamma=(\pi'\circ \phi)^*\Gamma=\pi^*\Gamma$. So the basic form on $P'$ gets pulledback isomorphically to a basic form on $P$ corresponding to the same cohomology class.
		\end{proof}
		\begin{Obs}
			This analysis provides a tool for understanding if two principal bundles are not isomorphic: we check if the characteristic classes differ. 
		\end{Obs}
		\subsection{The Chern Class}
			In this subsection we will construct the Chern classes for a particular class of principal bundles.\\
			\\
			\begin{Def}
				Let $P$ be a principal $GL(r,\mathbb{C})$ bundle with a curvature $F$. Then we defne the \textit{total Chern Class} as:
				$$c(F)=det\bigg(\mathbb{I}-{i\over 2\pi}F\bigg)$$ 
			\end{Def}
			\begin{Obs}
				One can show that all invariant polynomials on $\mathfrak{gl}(r,\mathbb{C})$ are generated by the coefficients $f_k$ in the expansion:
				$$det(\lambda\mathbb{I}-X)=\sum_{k=0}^r f_k(X)\lambda^{r-k}$$
				This implies that all invariant polynomials of $F$ are generated by the elements of the Chern class expansion.
			\end{Obs}
			\begin{Obs}
				Since $F$ is a $2$-form, $c(F)$ is the sum of even degrees term:
				$$c(F)=1+c_1(F)+c_2(F)+...$$
				where $$c_n(F)\in\Omega^{2n}(P,\mathbb{R})\simeq\Omega^{2n}(M,\mathbb{R})$$
				is a basic form called the \textit{$n^th$ Chern Class}.\\
				Moreover, since each element is an invariant polynomial, $c_j(F)$ correspond to an element $[\Gamma_j]\in H^{2j}(M)$. It immediately follows that for $j>dim(M)$ and $2j>n$ the Chern class vanishes 
				$$c_{j>m/2}(F)=0,\hspace{20 pt}c_{j>n}(F)=0$$
				Lastly, the finishing term is $c_{j=m}(F)=det({i\over 2\pi}F)$.
			\end{Obs}
			\begin{Obs}
				It is possible to prove that for the Lie algebra $\mathfrak{su}(n)$, all invariant polynomials are generated by the Chern Polynomial. However, from the requirement $Tr(X)=0$, we have $c_1(F)=0$.
			\end{Obs}
			\begin{Ex}
				Consider the Hopf bundle $(S^3,S^2,\pi,U(1))$. This is a non trivial bundle. We immediately know that:
				$$c_0(F)=1,c_1(F)=0,c_{j>2}(F)=0$$
			\end{Ex}
			The Chern classes of a principal bundle correspond to the Chern classes of the adjoint bundle, since $F\rightarrow F_M\in\Omega^2(M,Ad(P))$ by the musical isomorphism REFERENZA.\\
			This immediately implies that all of the other properties of the Chern Classes exposed in REFERENZA also hold.
			\subsection{The Pontrjagin Class}
		\chapter{The Cartan Construction}
		In this chapter we will introduce the Cartan construction regarding principal bundles. We will see how to describe General Relativity in an alternative way. The construction made in this chapter will merely be an extension of architectures which we have already seen. 
		\section{Klein Geometries}
		\begin{Def}
			Let $G$ be a Lie group and $H$ be a closed Lie subgroup of $G$. We call the pair $(G,H)$ a \textit{Klein geometry} if $G/H$ is connected.
		\end{Def}
		ESEMPI
		\section{The Cartan connection}
		\begin{Def}
			Let $(G,H)$ be a Klein geometry and $(P,M,\pi,H)$ be a principal bundle. We call $\omega\in\Omega^1(P,\mathfrak{g})$ a \textit{Cartan connection} if:
			\begin{itemize}
				\item for all $p\in P$, $\omega_p:T_pP\rightarrow \mathfrak{g}$ is an isomorphism;
				\item $r_h^*\omega=Ad(h^{-1})\omega$ for all $h\in H$;
				\item $\omega(\overline{X})=X$ for all $X\in \mathfrak{h}$;
				\item $\omega$ is smooth.
			\end{itemize}
			We call the couple $[(P,M,\pi,H),\omega]$ a \textit{Cartan Geometry.}
		\end{Def}
		$$\begin{tikzcd}
			& G \arrow{d}{i}\\
			P \arrow{d}{\pi} & H \arrow{l}{\mu} \arrow{d}\\
			M & G/H
		\end{tikzcd}$$
		\begin{Obs}
			Clearly, $\omega$ is very similar to an Ehresmann connection on $\mathfrak{h}$. However, there are some slight differences. First of all, $\omega$ takes values in all of $\mathfrak{g}=Lie(G)$. Second of all, it is required that at any point $p\in P$, the Cartan form provides an isomorphism between the tangent space of $P$ and $Lie(G)$.
		\end{Obs}
		\begin{Def}
			If $G$ is a Lie group, $H\subset G$ a closed Lie subgroup, we say that $G/H$ is a \textit{reductive homogeneous space} if there is a decomposition $\mathfrak{g}=\mathfrak{h}\oplus\mathfrak{m}$ and:
			$$Ad(H)\mathfrak{m}\subset \mathfrak{m}$$
			The definition automatically extends to Klein geometries. 
		\end{Def}
		\begin{Obs}
			In general, the complement $\mathfrak{m}$ is not unique. However, any complement is isomorphic to $\mathfrak{g/h}$ as a vector space.
		\end{Obs}
		\begin{Obs}
			In general $\mathfrak{m}$ does not need to be a Lie algebra at all! In particular, the additional generators of $\mathfrak{m}$ are not required to be closed under the commutator.
		\end{Obs}
		\begin{Def}
			We define the \textit{Cartan curvature of a Cartan connection} as:
			$$\Omega=d\omega+[\omega\wedge \omega]$$
		\end{Def}
		\begin{Ex}
			We saw that, given a Lie group $G$ and a closed Lie subgroup $H$ of it, there is a principal $H$ bundle like:
			$$(G,G/H,\pi,H); \hbox{ where }\pi(g)=[g]$$
			If we take the right Maurer-Cartan form $\theta\in\Omega^1(G,\mathfrak{g})$ as acting like:
			$$\theta_g(X_g)=dr_{g^{-1}}X_g$$
			we see that this is a Cartan connection. In particular, $\theta$ is clearly smooth, by REFERENZA it transforms with the adjoint, it is clearly an isomorphism (since $dr$ is a diffeomorphism at all points) and lastly:
			$\theta_g(dj_{pg}(X))=dr_{g^{-1}}dj_{pg}(X)=X$. Clearly, by REFERENZA, the curvature of the Maurer-Cartan connection is 0.
		\end{Ex}
	\begin{Obs}
		Consider a reductive Cartan Geometry. Then, since $\mathfrak{g/h}$ is $Ad(H)$ invariant, we can split the Cartan connection into two pieces:
		$$\omega_p(v)=A_p(v)+e_p(v)$$
		where $A\in\Omega^1(P,\mathfrak{h}),e\in\Omega^1(P,\mathfrak{g/h})$. We will call $A$ the \textit{Cartan form} and $e$ the \textit{solder form}. In particular, this splitting is only possible due to the invariance of $\mathfrak{g/h}$. Namely, it follows from $\omega_p(v)\in\mathfrak{g}=\mathfrak{h}\oplus\mathfrak{g/h}$ and $Ad(h^{-1})\omega_p(v)\in \mathfrak{h}\oplus Ad(h^{-1})\mathfrak{g/h}=\mathfrak{h}\oplus \mathfrak{g/h}$.\\ 
		To be more precise:
		\begin{itemize}
			\item $A$ is an Ehresmann connection on $P$.\\
			\\
			This follows immediately from the property $\omega(\overline{X})=X$ and the fact that $A$ takes values in $\mathfrak{h}$;
			\item $e$ is smooth, right-equivariant and horizontal.\\
			\\
			The horizontality follows from the fact that $A$ is an Ehresmann connection. Then, we must have that for any $X\in\mathfrak{h}$, $e(\overline{X})=0$. The right equivariance is obvious by reducibility.
		\end{itemize}
		There is one last important property of $e$: it descends to an isomorphism on $TM$. We are now going to show this.
	\end{Obs}
	\begin{Obs}
		just like for principal connections REFERENZA, the principal bundle structure of any Cartan Geometry uniquely idenitfies a vertical distribution:
		$$\mathcal{V}=Ker(d\pi)$$
		In the  Ehressmann case, the choice of a connection implies the choice of a distribution. However, the Cartan connection amounts to something different: at any point we have an isomorphism:
		$$T_pP\xlongrightarrow{\omega_p}\mathfrak{g}\hbox{ and }\mathfrak{h}\simeq\mathcal{V}_p$$ by REFERENZA, the choice of a connection does not specify an horizontal distribution since, being an isomorphism, $Ker(\omega)$ is trivial. If instead the geometry is reductive, then $Ker(A)$ is the horizontal distribution.
	\end{Obs}
	\begin{Def}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan gometry on a reductive Kelin Geometry $(G,H)$. Then, we define the \textit{soldering bundle} as the associated vector bundle:
		$$P\times_{H}\mathfrak{m}$$
	\end{Def}
	$$\begin{tikzcd}
		&& G \arrow{d}{i}\\
		P\times_H \mathfrak{m}\arrow{dr}{\pi_\mathfrak{m}}&P \arrow{d}{\pi} & H \arrow{l}{\mu} \arrow{d}\\
		& M & G/H
	\end{tikzcd}$$
	This is a well defined associated bundle since we have a representation $$\rho(h)=Ad(h)|_\mathfrak{m}$$
	from REFERENZA, we get the following vector bundle:
	$$(P\times_{H}\mathfrak{m},M,\pi_{\mathfrak{m}},\mathfrak{m})$$
	This is an associated bundle and $e$ is clearly a tensorial form under $\rho$. By the Musical Isomorphism REFERENZA we can send:
	$$e\rightarrow e_M\in\Omega^1(M,P\times_{H}\mathfrak{m})$$
	We call $e_M$ the \textit{Coframe field}.
	\begin{Prop}
		For a reductive Cartan geometry $[(P,M,\pi,H),\omega]$ there is an isomorphsim:
		$$TM\simeq P\times_{H}\mathfrak{m}$$
	\end{Prop}
	\begin{proof}
		Since $\omega$ is an isomorphism at any point and the space is reductive, we can split $\omega$ into two isomorphisms:
		$$A_p:\mathcal{V}_p\rightarrow \mathfrak{h}\hspace{ 20 pt }e_p:\mathcal{H}_p\rightarrow \mathfrak{m}$$
		This implies, by the Musical Isomorphism REFERENZA that there is another isomorphism at any point:
		$$e_{M}:TM\rightarrow P\times_H\mathfrak{m}$$
		Thus $TM\simeq P\times_{H}\mathfrak{m}$.
	\end{proof}
	$$\begin{tikzcd}
		&& G \arrow{d}{i}\\
		P\times_H \mathfrak{m}\arrow{dr}{\pi_\mathfrak{m}}&P \arrow{d}{\pi} & H \arrow{l}{\mu} \arrow{d}\\
		TM \arrow{u}{e_M} \arrow{r}{\pi_{TM}}& M & G/H
	\end{tikzcd}$$
	\section{Torsion and metric compatibility}
	In this section we will analyze the concept of torsion in a reductive Cartan geometry. The idea is to split the curvature tensor toghether with the Cartan connection. This will give rise to different tensorial quantities. Moreover, we will see that the solder form will enable us to pull-down the metric from the structure group to the base manifold. 
	\begin{Obs}
		For a reductive homogeneous space $(\mathfrak{g},\mathfrak{h})$, a Cartan connection splits:
		$$\omega=A+e$$
		This splitting influences the curvature, which splits as well.
		$$\Omega=dA+de+{1\over 2}[A+e,A+e]=dA+{1\over 2}[A,A]+de+[A,e]+{1\over 2}[e,e]$$
		This leads us to define:
		$$F_A=dA+{1\over 2}[A,A]+{1\over 2}[e,e]_{\mathfrak{h}}\hspace{20 pt}F_e=de+[A,e]+{1\over 2}[e,e]_{\mathfrak{m}}$$
		Where we have decomposed $[e,e]$ into two parts, taking values in $\mathfrak{h}$ and $\mathfrak{m}$ respectfully.
	\end{Obs}
	\begin{Def}
		Let the notation be as above. Then we call $R=F_A-{1\over 2}[e,e]_\mathfrak{h}$ the \textit{curvature }and $T=F_e-{1\over 2}[e,e]_\mathfrak{m}$ the \textit{torsion}. 
	\end{Def}
	We will later see that the framework of Cartan gometries can be used to reconstruct General Relativity. For this purpose, it is necessary to include a metric analysis of this setting.
	\begin{Theo}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan Geometry modelled on a reductive Klein geometry $(G,H)$. Then, if $\mathfrak{m}$ has a $G$-invariant metric $g_0$, the solder form $e$ induces a metric on $M$. 
	\end{Theo}
	\begin{proof}
		By definition $g_0:\mathfrak{m}\times \mathfrak{m}\rightarrow \mathbb{R}$ is a $G$-invariant product. Let $s:M\rightarrow P$ be a local gauge and $e:TP\rightarrow \mathfrak{m}$ be the solder form. Then we can pullback it like:
		$$s^*e:TM\rightarrow \mathfrak{m}$$
		This means that we can define the following scalar product on $M$:
		$$g\in\Gamma(TM\otimes TM)\hbox{ like }g(X,Y)=g_0(s^*e(X),s^*e(Y))$$
		This is clearly a scalar product and, since $g_0$ is $Ad$-invariant by hypothesis, it is completely independent from the choice of the section.
	\end{proof}
	\section{The Covariant Derivative}
	In this section we will define the notion of covariant derivative for a Cartan geometry. This definition does not require, in general, the underlying Klein geometry to be reductive. However, in an Ehresmann geometry, the covariant derivative is defined from the Horizontal distribution. The lack of a canonical horizontal distribution in the Cartan case will force us to define the covariant derivative in an alternative way.
	\begin{Def}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan geometry and $\rho:H\rightarrow Gl(V)$ any representation. We define the \textit{full exterior covariant derivative} as the map:
		$$D_\omega^\rho:\Omega^k(P,V)\rightarrow \Omega^{k+1}(P,V)\hspace{20 pt}D_\omega^\rho=d+d\rho(\omega)\wedge$$
	\end{Def}
	This is clearly a linear operator.
	Notice that this definition resembles the one of the usual Ehresmann covariant derivative. However, we cannot use the same definition since in a general Cartan geometry selecting a connection does not correpsond to a choice for the horizontal distribution.
	\begin{Prop}[Bianchi Identity]
		Let the notation be as above, then:
		$$d\Omega=[\Omega,\omega]$$
	\end{Prop}
	\begin{proof}
		The proof is the same as REFERENZA.
	\end{proof}
	\begin{Obs}
		As a corollary of the previous proposition, we have that in the general non reductive case:
		$$D_\omega^{Ad}\Omega=0$$
		Where we have selected the adjoint representation.
	\end{Obs}
	With a generic Ehressmann connection, the choice of a connection automatically implies the choice of an horizontal distribution. This is in general not true for a Cartan connection, since it's kernel is trivial (it is an isomorphism). However, in the reductive case, the Cartan connection splits into a soldering form plus an Ehresmann connection.
	\begin{Obs}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan geometry on a reductive Klein geometry $(G,H)$ and $\rho:H\rightarrow Gl(V)$ any representation. Since $\omega=A+e$ and we have an horizontal distribution $\mathcal{H}=Ker(A)$, we automatically get an \textit{exterior covariant derivative} like in the Ehresmann case:
		$$D_A\eta=(d\eta)^h$$
		This clearly inherits all of the properties in REFERENZA since $A$ is an Ehressmann connection. Thus, in the reductive case, we have 2 different covariant derivatives i.e. the full exterior covariant derivative and the regular covariant derivative. \\
		\\
		It is known from REFERENZA that for tensorial forms:
		$$D_A=d+d\rho(A)\wedge$$
		Thus, by linearity of the representation and of the wedge product:
		$$D_\omega^{\rho}=D_A+d\rho(e)\wedge$$
		In particular, in the case of the adjoint representation:
		$$D_\omega^{Ad}=D_A+[e,\cdot]$$
		This means that the two derivatives differ by a \textit{torsion term} which however does not breaks horizontality.
	\end{Obs}
	\begin{Prop}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan geometry on a reductive Klein geometry $(G,H)$. Then:
		$$D_\omega^\rho:\Omega^k_{\rho}(P,V)\rightarrow \Omega^{k+1}_{\rho}(P,V)$$
	\end{Prop}
	\begin{proof}
		Clearly $D_\omega^\rho$ preserves the right equivariance. The problem is the horizontality. Let $\Omega\in\Omega^k_\rho(P,V)$, $p\in P$ and $v_1,...,v_{k+1}\in T_pP$. Then 
		$$D_\omega^\rho\Omega_p(v_1,...,v_{k+1})=(d\Omega)_p(v_1,...,v_{k+1})+{1\over k!}\sum_\sigma sgn(\sigma)d\rho(\omega_p(v_{\sigma(1)}))\Omega_p(v_{\sigma(2)},...,v_{\sigma(k+1)})$$
		By linearity, we can decompose any vector into the sum of horizontal and vertical vectors. The proof is literally the same as REFERENZA case 2.
	\end{proof}
	\begin{Obs}
		In the general non reductive case we cannot speak or horizontality since we do not have a canonical horizontal distribution. However, if the geometry is reductive, we can check if the curvature forms are horizontal. 
	\end{Obs}
	\begin{Prop}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan geometry on a reductive Klein geometry $(G,H)$. Then $\Omega, F_A,F_e$ are horizontal.
	\end{Prop}
	\begin{proof}
		Sicne $D$ maps tensorial forms into tensorial forms then: $D\omega$ is horizontal. Moreover:
		$$F_A=D_AA+{1\over 2}[e,e]_\mathfrak{h}\hbox{ and }F_e=D_Ae+{1\over 2}[e,e]_\mathfrak{m}$$
		Since the commutator between two horizontal forms is equivariant (clearly), then those are both equivariant.
	\end{proof}
	\begin{Prop}
		It is clear that:
		$$D_AR=0\hspace{20 pt}D_AT=[R,e]$$
	\end{Prop}
	\begin{proof}
		The first equality is trivial from REFERENZA. As for the second, it is a straightforward calculation:
		$$D_\omega \Omega=0=d\Omega+[\omega,\Omega]$$
		Substituting: $\Omega=R+T+{1\over 2}[e,e]$ we get:
		$$D_\omega \Omega=dR+dT+[de,e]+[A,R]+[A,T]+{1\over 2}[A,[e,e]]+[e,R]+[e,T]+{1\over 2}[e,[e,e]]=$$
		$$=D_AR+D_AT+[de,e]+[e,R]+[e,de+[A,e]]+{1\over 2}[A,[e,e]]$$
		Where in the last line we have used: ${1\over 2}[A,[e,e]]=0$. Moreover, from REFERENZA:
		$$[A,[e,e]]=2[[A,e],e]$$
		so that we get:
		$$D_\omega\Omega=0=D_AR+D_AT+[e,R]$$ 
	\end{proof}
	\section{The Universal covariant derivative}
	AAAAAAAAAAAA
	\section{Gauge transformations in Cartan geometries}
	In this section we will use previous result to introduce the notion of gauge transofmration on a Cartan geometry. We will see that the implications are very similar to the gauge transformations discussed for principal bundles.
	\begin{Obs}
		A Cartan geometry is constructed on a principal bundle. Thus, it is natural to define gauge transformations like we did for arbitrary principal bundles REFERENZA: as automorphisms from $P$ to $H$.
	\end{Obs}
	Recall that by REFERENZA we have the following results:
	\begin{itemize}
		\item $$\mathcal{G}(P)\simeq C^\infty(P,H)^H \hbox{ canonically }$$
		\item Given a section $s:U\rightarrow P$ of the principal bundle, we have:
		$$C^\infty(P|_U,H)^H\simeq C^\infty(U,H)$$
	\end{itemize}
	It is also clear that for any section $s:U\rightarrow P$ we can pullback the Cartan connection and curvature like:
	$$s^*\omega:TU\rightarrow \mathfrak{g}\hspace{20 pt} s^*\Omega:TU\otimes TU\rightarrow \mathfrak{g}$$
		\begin{Theo}[\textbf{Passive interpretation of diffeomorphisms}]
		Let $(P,M,\pi,H)$ be a principal $H$-bundle and $\omega$ a Cartan connection on it. Let $s_1,s_2:U\rightarrow P$ be local gauges and $\omega_{i}=s_i^*\omega$ the pulled-back connections on the manifold. Then 
		$$\omega_i=\hbox{Ad}(g_{ji}^{-1})\omega_j+\mu_{ji}$$
		Where $g_{ji}$ is the transition function between the local trivializations $s_i,s_j$ while $\mu_{ji}=g_{ji}^*\theta$ with $\theta$ the Maurer-Cartan form.
	\end{Theo}
	\begin{proof}
		By construction, $\omega_i=s_i^*\omega$ so that for any vector field $X\in \Gamma(U)$, we have:
		$$s^*\omega(X)=\omega(ds(X))$$
		The two sections induce trivializations by proposition REFERENZA. Furthermore, by observation REFERENZA, we know that the relation between the two sections at any point $x\in U$ is:
		$$s_i(x)=s_j(x)\cdot g_{ji}(x)=\mu(s_j(x),g_{ji}(x))$$
		By taking the differential:
		$$ds_{i,x}(X_x)=d\mu_{(s_{j}(x), g_{ji}(x))}(ds_{j,x}(X_x),dg_{ji,x}(X_x))$$
		Now, the mapping $g_{ji}:U\rightarrow H$ has as differential $dg_{ji,x}:T_xM\rightarrow T_{g_{ji}(x)}H$, so that it takes $X_x$ into a tangent vector to $H$ at $g_{ji}(x)$. Thus, since for every $h\in H$ the left action is a diffeomorphism, there exists an element of the Lie algebra, which we will call $T$, such that 
		$$d\ell_{g_{ji}(x)}(T)=dg_{ji,x}(X_x)$$
		This in turn implies:
		$$T=d\ell_{g^{-1}_{ji}(x)}\circ dg_{ji,x}(X_x)$$
		Moreover, applying the result obtained in proposition REFERENZA we find:
		$$d\mu_{(s_{j}(x), g_{ji}(x))}(ds_{j,x}(X_x),dg_{ji,x}(X_x))=d\mu_{(s_{j}(x), g_{ji}(x))}(ds_{j,x}(X_x),d\ell_{g_{ji}(x)}(T))=$$
		$$=dr_{g_{ji}(x)}\circ ds_{j,x}(X_x)+\overline{T}_{s_{j}(x)\cdot g_{ji}(x)}$$
		Finally, feeding this to $A$, we get:
		$$\omega_{s_i(x)}(ds_i(X_x))=\omega_{s_i(x)}(dr_{g_{ji}(x)}\circ ds_{j,x}(X_x)+\overline{T}_{s_{j}(x)\cdot g_{ji}(x)})=$$$$=r^*_{g_{ji}(x)}\omega_{{s_i(x)}}(ds_{j,x}(X_x))+T$$
		Where in the last line we have applied the defining properties of the connection $1$-forms. Substituting back the expression for $T$ we get:
		$$r^*_{g_{ji}(x)}\omega_{{s_i(x)}}(ds_{j,x}(X_x))+d\ell_{g^{-1}_{ji}(x)}\circ dg_{ji,x}(X_x)=r^*_{g_{ji}(x)}\omega_{{s_i(x)}}(ds_{j,x}(X_x))+(g^*_{ji}\theta)_x(X_x)$$
		By once again applying the defining properties of the connection:
		$$\omega_i=\hbox{Ad}(g_{ji}^{-1})\omega_j+\mu_{ji}$$
		This completes the proof.
	\end{proof}
	\begin{Obs}[\textbf{Passive interpretation of diffeomorphisms}]
		Recall that the curvature of a connection is defined as:
		$$\Omega=d\omega+{1\over 2}[\omega,\omega]$$
		Knowing the transformation rule for the pullback connection, we can find the analogue for the curvature: let $s_{i,j}:U\rightarrow P$ be two local gauges, then: $\Omega_{i,j}=s_{i,j}^*\Omega$ and we get, by applying the results found in proposition REFERENZA:
		$$s^*\Omega=ds^*\omega+{1\over 2}[s^*\omega,s^*\omega]$$
		By substituting the transformation rules for the connection one gets:
		$$s_i^*\Omega=\Omega_i=d(\hbox{Ad}(g_{ji}^{-1})\omega_j)+d\mu_{ji}+{1\over 2}[\hbox{Ad}(g_{ji}^{-1})\omega_j+\mu_{ji},\hbox{Ad}(g_{ji}^{-1})\omega_j+\mu_{ji}]=$$
		$$=d(r^*_{g_{ji}}\omega_j)+{1\over 2}[r^*_{g_{ji}}\omega_j,r^*_{g_{ji}}\omega_j]+d\mu_{ji}+{1\over 2}[\mu_{ji},\mu_{ji}]$$
		Using again proposition REFERENZA and expressing $\mu_{ji}=g_{ji}^*\theta$ we find:
		$$s_i^*\Omega=\Omega_i=r^*_{g_{ji}}\Omega_j+g_{ji}^*(d\theta+{1\over 2}[\theta,\theta])$$
		Finally, by example REFERENZA, the last term is 0 since it is the curvature induced by the Maurer-Cartan form. From the $H$-equivariance of the curvature found in theorem REFERENZA, we thus get:
		$$\Omega_i=\hbox{Ad}(g_{ji}^{-1})\Omega_j$$
		Clearly, since in the reductive case the subspaces $\mathfrak{h},\mathfrak{m}$ are $Ad(H)$-invariant, both $F_A,F_e$ transform like the total curvature $\Omega$.
	\end{Obs}
	\begin{Prop}
		Let $(P,M,\pi,H)$ be a principal $H$-bundle and $H$ an abelian Lie group. Then, given a Cartan connection $\omega$ on $P$, the pullback of its curvature $\Omega$ is independent of the choice of the local gauge.
	\end{Prop}
	\begin{proof}
		If $H$ is abelian, $\Omega$ is gauge invariant. This means that for any change of local section, the pullback of $\Omega$ remains invariant and so $\Omega$ is defined globally as a closed 2-form on $M$: $\Omega\in \Omega^2(M,\mathfrak{g})$.
	\end{proof}
	Finally, we would like to understand how the curvature transforms from the point of view of the associated bundle. Recall that proposition \ref{Mus_Iso} gave us the following isomorphism:
	$$\Omega^k_\rho(P,V)\simeq \Omega^k(M,E)$$
	The curvature of a connection is, as proved in proposition REFERENZA, $Ad$-equivariant and thus belongs to $\Omega^2_{Ad}(P,\mathfrak{g})$. This implies that once we have a connection on $P$ principal bundle, we can construct a $2$-form on the associated bundle $\Omega_M$.
	\begin{Prop} [\textbf{Active interpretation of diffeomorphisms}]
		Let $\Omega\in \Omega^2_{Ad}(P,\mathfrak{g})$ be a curvature form on a principal bundle and $\Omega_M\in\Omega^2(M,P\times_{H}\mathfrak{m})$ be the corresponding $2$-form with values on the associated bundle. The transformation $\phi\in\mathcal{G}(P)$ on $\Omega_M$ is induced by the one of $\Omega$ and is:
		$$\Omega_M\rightarrow \phi^{-1}\cdot \Omega_M$$
	\end{Prop}
	\begin{proof}
		Let $s:U\rightarrow P$ be a local gauge. By observation REFERENZA, the transformation $\phi\in\mathcal{G}$ on $\Omega$ is:
		$$s^*\Omega\rightarrow \hbox{Ad}(g^{-1})s^*\Omega$$
		where $g\in C^\infty(U,H)$ is the smooth map corresponding to $\phi$ in the isomorphism of proposition REFERENZA. The form $\Omega_M$ is constructed through theorem REFERENZAa as follows. Let $x\in M,X_x,X_y\in T_xM$, $p\in P_x$ and $\tilde{X}_p,\tilde{Y}_p\in T_pP$ their horizontal lifts. We have:
		$$\Omega_{M,x}(X_x,Y_x)=[p,\Omega_p(\tilde{X}_p,\tilde{Y}_p)]$$
		In REFERENZA we proved that this association is independent of the choice of the horizontal lift and of the point in the fiber. Thus, if $p=s(x)$ and $\tilde{X}_p,=ds(X_x);\tilde{Y}_p=ds(Y_x)$, we have:
		$$\Omega_{M,x}(X_x,Y_x)=[s(x),\Omega_{s(x)}(ds(X_x),ds(Y_x)]$$
		Now, applying the gauge transformation $\phi$ we get:
		$$[p,\hbox{Ad}(g^{-1})\Omega_{s(x)}(ds(X_x),ds(Y_x))]\sim [p\cdot \sigma^{-1}_\phi(p),\Omega_{s(x)}(ds(X_x),ds(Y_x))]=$$
		$$=[\phi^{-1}(p),\Omega_p(\tilde{X}_p,\tilde{Y}_p)]$$
		But this is exactly $\phi^{-1}$ on $Ad(P)$ (see proposition REFERENZA). Thus, we get:
		$$\Omega_M\rightarrow \phi^{-1}\cdot \Omega_M$$
	\end{proof}
	\begin{Prop} [\textbf{Active interpretation of diffeomorphisms}]
		Let $\omega\in (P,\mathfrak{g})$ be a Cartan connection on a principal bundle. The transformation $f\in\mathcal{G}(P)$ on $\omega$ is:
		$$\omega\rightarrow Ad(\sigma_f^{-1}) \omega+\sigma_f^*\theta$$
		where $\theta$.
	\end{Prop}
	\begin{proof}
		Let $f:P\rightarrow P$ be a gauge transformation and $\sigma_f:P\rightarrow G$ be the associated map from REFERENZA. Then for $v_p\in T_pP$ we have:
		$$f^*\omega_p(v_p)=\omega(df(v_p))$$
		Recall that $f(p)=\mu(p,\sigma_f(p))$ where $\mu$ is the action of the group $H$. Thus, by REFERENZA: 
		$$df_p(v)=d\mu(v,d\sigma_f(v))$$
		$$f^*\omega(v)=\omega(df(v))=Ad(\sigma_f^{-1})\omega+\sigma_f^*\theta$$
	\end{proof}
	\begin{Obs}
		For a reductive Cartan geometry, we have a splitting:
		$$\omega=A+e$$
		Since $A$ is an Ehressmann connection, it will transform like $\omega$, following REFERENZA. This implies that the transformation rule for the soldering form $e$ is:
		$$e\longrightarrow Ad(g^{-1})e\hbox{ \textbf{[Active] }}$$
		so it transforms just like the curvature (indeed it is a tensorial form). By setting two local gauges, we get:
		$$s_i^*e= Ad(g_{ji}^{-1})s_j^*e\hbox{ \textbf{[Passive] }}$$
	\end{Obs}
	\section{Parallel transport and Holonomy}
	The notion of parallel transport in a Cartan Geometry is different from the one on general principal bundles when treated with the Ehresmann framework. The main difference is the fact that a priori a Cartan Geometry does not specify an horizontal distribution. This forces us to find a new analogue of the Ehresmann parallel transport.
	\begin{Prop}
		Let $(P,M,\pi,H)$ be a princopal bundle, $G$ a Lie group and $\phi: H\rightarrow G$ a Lie group homomorphism. Then there is a principal $G$ bundle:
		$$P\times_H G$$
	\end{Prop}
	\begin{proof}
		We define: $P\times_H G$ as the set of points under the relation:
		$$(p,g)\sim(p\cdot h,\phi(h^{-1})g)$$
		This set is a smooth manifold (see REFERENZA). Consider the projection:
		$$\pi_G: P\times_H G\rightarrow M\hbox{ as }\pi_G([p,g])=\pi(p)$$
		This is clearly smooth and indepenent of the representatives since $P$ is a principal bundle on $M$. Local trivializations are defined as follows: let $\varphi:\pi^{-1}(U)\rightarrow U\times H$ be a trivialization for $P$. Then we define:
		$$\varphi_G^{-1}(x,g)=[\varphi^{-1}(x,e_H),g]$$
		where $e_H$ is the neutral element of $H$. There is a clear inverse: 
		$$\varphi_G([p,g])=(x,\phi(h)g)$$
		where $\varphi(p)=(x,h)$.\\
		Lastly, the natural action of $G$ on $P\times_H G$ is the following:
		$$[p,g]\cdot g'=[p,gg']$$
		This action is clearly free and equivariant with the trivializations. This proves the claim.
	\end{proof}
	\begin{Obs}
		Given a Cartan Geometry $[(P,M,\pi,H),\omega]$ modelled on a Klein geometry $(G,H)$, we can construct two different principal bundles:
		$$Q=P\times_H G, \hspace{20 pt}P\times_H G/H$$
		Those are defined starting from the inclusion map $i:H\rightarrow G$ and the projection:
		$$\Pr\circ i:H\rightarrow G\rightarrow G/H$$
		Thus, given a principal $H$ bundle and a homogeneous space $G/H$, we have a sequence of principal bundles:
		$$\begin{tikzcd}
			P \arrow{dr}\arrow{r}{i}& P\times_H \arrow{d} G\arrow{r}{\Pr} &P\times_H G/H \arrow{dl} \\
			& M &
		\end{tikzcd}$$
	\end{Obs}
	\begin{Theo}
		Let $G$ be a Lie group, $H$ be a closed Lie subgroup of $G$ and let $G/H$ be connected. Let $P$ be a principal $H$-bundle and $Q$ a prinicpal $G$-bundle, both over $M$. If $dim(G)=dim(P)$ and $\phi:P\rightarrow  Q$ is a bundle map (REFERENZA), then there is a bijection:
		$$\begin{cases}
			\hbox{Ehresmann connections } A \hbox{ on } Q \\ \hbox{ such that } Ker(A)\cap d\phi(TP)=\emptyset
		\end{cases}\xlongrightarrow{\phi^*} \begin{cases}
		\hbox{Cartan connections } \omega \hbox{ on } P
		\end{cases}$$
	\end{Theo}
	\begin{proof}
		The proof is hard.\\
		\\
		Let $A$ be an Ehresmann connection on $Q$. Then, $\phi^*A\in\Omega^1(Q,\mathfrak{g})$. Now we prove that this is a Cartan connection. Clearly, since $Ker(A)\cap d\phi(TP)=\emptyset$, $Ker(\phi^*A)=0$. Since $dim(G)=dim(P)$, $\phi^*A$ is an isomorphism. Moreover, since $\phi$ is a bundle map, we have that, for any $X\in\mathfrak{h}$:
		$$\phi^*A(\overline{X})=A(d\phi(\overline{X}))=X$$
		This is a consequence of: $\pi_Q\circ\phi=\pi_P$, which implies that $Ker(d\pi_P)=Ker(d\pi_Q\circ d\phi)$. Basically, $\phi$ sends vertical vectors to vertical vectors. The $Ad$-equivariance follows from the properties of the bundle map:
		$$r_h^*\phi^*A=(\phi r_h)^*A=( r_h\phi)^*A=\phi^*r_h^*A=\phi^*Ad(h^{-1})A=Ad(h^{-1})phi^*A$$
		This proves that $\phi^*A$ is a Cartan connection. Now we need the prove the opposite correspondence.
		\\
		Let $\omega$ be a Cartan connection on $P$. We can extend this to a form on $P\times G$ like:
		$$\varpi_{p,g}=Ad(g^{-1})\pi^*_P\omega_p+\pi^*_G\theta_{G,g}$$
		Where $\pi_P:P\times G\rightarrow P$ and $\pi_G:P\times G\rightarrow G$ are the canonical projections and $\theta_G$ is the Maurer-Cartan form on $G$. Now we verify that this descends to an Ehresmann connection on $P\times_H G$ under the projection $\pi_H:P\times G\rightarrow P\times_H G$.
		\\\\ 
		First of all, note that, for $X\in\mathfrak{g}$:
		$$\varpi_{(p,g)}((0,X_g))=X$$
		Due to the presence of the Maurer-Cartan form.\\
		Our aim is to show that this form is basic on $P\times G$ under the $H$ action. If this is shown, then from REFERENZA, $\varpi$ descends to a well defined form on $P\times_H G$. Now, consider the following behaviour under the right multiplication:
		$$(\mathbb{I}\times r_m)^*\varpi_{(p,gm)}=Ad(m^{-1}g^{-1})\pi_P^*\omega+Ad(m^{-1})\pi_G^*\theta_{G}=Ad(m^{-1})\varpi$$
		This ensures the right equivariance under the pullback with $\pi_H^*$. Moreover, it can be shown that under the action:
		$$\alpha_h:P\times G\rightarrow P\times_H G$$
		$$(p,g)\rightarrow (p\cdot h, h^{-1}g)$$
		Consider:
		$$\alpha_h^*\varpi_{(p,g)}=\varpi_{(p\cdot h,h^{-1}g)}\circ \alpha^*_h=Ad(g^{-1}h)\pi_P^*({\omega\circ r_{h^{-1}}})+\pi_G^*(\theta_{G,h^{-1}g}\circ d\ell_{h^{-1}})$$
		The first term, by equivariance of the Cartan connection, spits out an adjoint $Ad(h^{-1})$. As for the second term:
		$$\theta_{G,h^{-1}g}=d\ell_g^{-1}\circ d\ell_{h}$$
		This proves that:
		$$\alpha_h^*\varpi=\varpi$$
		This proves that $\varpi$ is an invariant form under the action of $H$. The horizontality is trickier: let $X\in \mathfrak{h}$. Since $H$ acts on $P\times G$ like $\alpha_h$, the fundamental vector field of $X$ in $(p,g)$ is:
		$$\overline{X}_{(p,g)}={d\over dt}\bigg|_0 (p\cdot e^{tX},e^{-tX}g)$$ From REFERENZA, this amounts to taking two times the differential of the group action:
		$$(d\mu_{P,p}(0,X),d\mu_{G,g}(-X,0))=$$
		The firse term is the fundamental vector field on $P$ of $X$, while the second term is $-dr_gX$ so that:
		$$\overline{X}_{(p,g)}=(\omega^{-1}(X),-dr_g(X))$$
		Feeding this to $\varphi$ we find:
		$$\varpi_{(p,g)}(\overline{X}_{(p,g)})=Ad(g^{-1})X-Ad(g^{-1})X=0$$
		\\
		The smoothness is obvious.\\ This proves that $\varpi$ can be pulled back to an Ehresmann connection. In aprticular, there is $A\in\Omega^1(Q,\mathfrak{g})$ Ehresmann connection, such that:
		$$\pi^*_HA=\varpi$$ 
		Clearly, due to $\pi_H\circ \phi$ being constant, those maps are one inverse to the other.
	\end{proof}
	We are now ready to start our construction. Ideally, since we do not have an horizontal distribution, we can still lift our paths on the base manifold $M$ to the Lie group. 
	\begin{Def}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan Gometry modelled on a Klein geometry $(G,H)$. Let $\gamma:[a,b]\rightarrow M$ any connected path. We call \textit{lift} of $\gamma$ any curve $\tilde{\gamma}$ such that:
		$$\pi\circ\tilde{\gamma}=\gamma$$
		We call \textit{$G$-development} of $\gamma$ any curve $\hat{\gamma}:[a,b]\rightarrow G$ such that $\hat{\gamma}^*\theta_G=\tilde{\gamma}^*\omega$, where $\theta_G$ is the Maurer-Cartan form on $G$.
	\end{Def}
	$$
	\begin{tikzcd}
		P\arrow{d}{\pi} \arrow{rr}{\theta^{-1}_G\circ \omega\circ d\tilde{\gamma}}& & G\\
		M & \mathbb{R}\arrow{l}{\gamma} \arrow{ul}[swap]{\tilde{\gamma}}\arrow{ur}{\hat{\gamma}}
	\end{tikzcd}
	$$
	\begin{Obs}
		Clearly, the lift of a curve is not unique since we have vertical vectors. Unlike the Ehresmann case, we do not a priori have an horizontal distribution and so we cannot define an horizontal lift.
	\end{Obs}
	\begin{Prop}
		Let the notation be as above.
		For any $g\in G$, there is a unique $G$-development of $\gamma$.
	\end{Prop}
	\begin{proof}
		This is obvious since $\theta$ is invertible. Clearly, if $\gamma.[a,b]\rightarrow M$ is a smooth curve, $\hat{\gamma}:[a,b]\rightarrow G$. Then:
		$$\hat{\gamma}\theta=\theta\circ d\hat{\gamma}$$
		This implies:
		$$d\hat{\gamma}=\theta^{-1}\circ \omega\circ d\tilde{\gamma}$$
		This is a differential equation and once we choose an initial condition $\hat{\gamma}(a)=g$ the solution in unique.
	\end{proof}
	We are now ready to give the definition of holonomy for a Cartan connection.
	\begin{Def}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan Gometry modelled on a Klein geometry $(G,H)$. Let $\gamma:[a,b]\rightarrow M$ any connected closed path with $\gamma(a)=\gamma(b)=x$. Let $\tilde{\gamma}$ be any lift of $\gamma$ to $P$ with $\tilde{\gamma}(a)=p$ and let $\hat{\gamma}$ be the unique development such that $\hat{\gamma}(a)=e_G$ the neutral element of $G$. Then we call \textit{holonomy} of $\gamma$ in $p\in P$ the element $\hat{\gamma}(b)\cdot h\in G$, where $\tilde{\gamma}(a)=\tilde{\gamma}(b)\cdot h$.
		\\ The set of all holonomies at $p$ is called the \textit{holonomy group} $Hol_p^\omega(G)$.
	\end{Def}
	\begin{Obs}
		Our definition seems a little tricky. The idea is that in general the lift to $P$ might not be closed (clearly the holonomy of $P$ might be non trivial), however, since we have a second lifting operation from $\tilde{\gamma}$ to the $G$-development $\hat{\gamma}$, we wish to keep track of "how much is $\tilde{\gamma}$ not closed". If we were to consider only the lifted loops $\tilde{\gamma}(a)=\tilde{\gamma}(b)$ in $P$, then the holonomy would jusst be $\hat{\gamma}(b)$.
	\end{Obs}
	\begin{Prop}
		The holonomy is independent of the choice of the lift $\tilde{\gamma}$.
	\end{Prop}
	\begin{proof}
		Let $\tilde{\gamma}_2(t)=\tilde{\gamma}_1(t)\cdot h(t)$ be two lifts with $h(t)$ a smooth curve valued in $H$ starting at $h(a)=e_H$. Then:
		$$d\hat{\gamma}_2=\theta^{-1}\circ \omega (d(r_h\circ \tilde{\gamma}_1))=\theta^{-1}\circ Ad(h^{-1})\tilde{\gamma}_1^*\omega=dr_{h}\theta^{-1}\circ \tilde{\gamma}_1^*\omega$$
		Thus, once we fix the initial point:
		$$\hat{\gamma}_2(t)=\hat{\gamma}_1(t)\cdot h(t)$$
		Now, since $\tilde{\gamma}_1(b)=p\cdot g=\tilde{\gamma}_2(b)\cdot h(b)^{-1}$, the holonomy with respect to the second lift is:
		$$\hat{\gamma}_2(b)\cdot h(b)^{-1}g^{-1}=\hat{\gamma}_1(b)\cdot g^{-1}$$
	\end{proof}
	\begin{Theo}
		Let $[(P,M,\pi,H),\omega]$ be a Cartan geometry and $\varpi$ be the associated Ehresmann connection on $Q=P\times_H G$. Then the holonomy on $Q$ generated by $\varpi$ is the same as the one on $P$ generated by $\omega$.
	\end{Theo}
	\begin{proof}
		Consider a smooth loop $\gamma:[a,b]\rightarrow M$. Then there is a unique horizontal lift on $Q$:
		$$\dot{\gamma}:[a,b]\rightarrow Q \hbox{ with }\dot{\gamma}(a)=[p,e];\dot{\gamma}(b)=([p,g])$$
		In general $\dot{\gamma}=[\dot{\gamma}_1,\dot{\gamma}_2]$.
		Then the Ehresmann holonomy is $g^{-1}$. Consider now the following:
		$$\dot{\gamma}^*\varpi=0\implies-Ad(\dot{\gamma}_2^{-1})\dot{\gamma}_1^*\omega=\hat{\gamma}_2^*\theta_G$$
		We have seen in REFERENZA that $\varpi$ is invariant if acted upon with different representatives, so we can choose any 2. We choose them so that $\hat{\gamma}_1(a)=p,\hat{\gamma}_2(a)=e$. Then, by definition, the above equation is solved by a development $\hat{\gamma}_2$, which is unique once we choose the initial condition. This means that the development with initial condition $e_G$ is precisely $\hat{\gamma}_2$ and that the holonomy is still $g^{-1}$.
	\end{proof}
	\begin{Obs}
		Clearly, in the case of a reductive geometry, there is an induced Ehresmann connetcion. Thus, in this simpler case, we have 2 holonomies,  THOSE ARE THE SAME????
	\end{Obs}
	\section{Metric compatibility and tensors}
	In this section we will look at the application of the covariant differentiation induced from the Cartan connections on tensors.\\
	\\
	We first of all define what is a tensor in a Cartan geometry. The definition is analogous to the one given in the case of an Ehresmann geometry.
	\begin{Def}
		Let $[(P,M,\pi,H),\omega]$ be a reductive Cartan geometry modelled on a Klein geometry $(G,H)$. Let $\rho:H\rightarrow GL(V)$ be a representation. A \textit{$\rho$-tensor} $\phi$ is a section of the associated bundle $P\times_H V$ i.e.
		$$\phi:M\rightarrow P\times_H V$$ 
	\end{Def}
	\begin{Obs}
		From REFERENZA, if $\rho_{1,2}:H\rightarrow GL(V),GL(W)$ are two representations, there is an identification:
		$$(P\times_H V)\otimes (P\times_H W)\simeq P\times_H(V\otimes W)$$
		It goes by itself than this justifies the natural generality of the above definition for tensors of all types.
	\end{Obs}
		\begin{Obs}
		Suppose to have a product $\eta:\mathfrak{m}\times \mathfrak{m}\rightarrow \mathbb{R}$ on $\mathfrak{m}$. Since the goemetry is reducible, this gives rise to a gauge-independent metric on $M$:
		$$g(X,Y)=\braket{s^*e(X),s^*e(Y)}\hbox{ with }X,Y\in\Gamma(M)$$
		Moreover, by REFERENZA, the solder form $e$ defines a bundle isomorphism:
		$$TM\simeq P\times_H \mathfrak{m}$$
	\end{Obs}
	\begin{Obs}
		Given the reducibility of the geometry, the Cartan connection splits as exposed in REFERENZA:
		$$\omega=A+e$$
		$A$ is an Ehresmann connection. Thus, $A$ gives rise to an exterior covariant derivative on the principal bundle $P$, which maps tensorial forms into tensorial forms. Moreover, given any representation $\rho:H\rightarrow GL(V)$, it induces a covariant differentiation on $P\times_H V$. In particular, let $s:M\rightarrow P$ be a local gauge and $\Phi:M\rightarrow P\times_H V\hbox{ like }\Phi(x)=[s(x),\phi(x)]$ be a section of any associated bundle: 
		$$\nabla^A_X \Phi(x)=[s(x),d\phi(X)+d\rho(s^*A(X))\phi(x)]$$
		$$\nabla^A:\mathfrak{X}(M)\times\Gamma(P\times_H V)\rightarrow \Gamma(P\times_H V)$$
	\end{Obs}
	\begin{Cor}
		The covariant derivative sends tensors into tensors. 
	\end{Cor}
	\begin{Obs}
		The above corollary has a deeper meaning. Recall that under a gauge transformation a tensor behaves like follows:
		$$\Phi(x)=[s(x),\phi(x)]\longrightarrow[s(x),\rho(g^{-1})\phi(x)]$$
		Taking its covariant derivative, under a gauge transformation we have:
		$$\nabla_X^A\Phi(x)\longrightarrow[s(x),\rho(g^{-1})(d\phi(X)+d\rho(s^*A(X))\phi(x))]$$
	\end{Obs}
	\begin{Cor}
		Clearly, if one has a section of an associated bundle like:
		$$\Phi:M\rightarrow P\times_H(V_1\otimes V_2\otimes...\otimes V_n)$$
		then the covariant derivative splits accoardingly:
		$$\nabla^A_X \Phi=[s,d\phi(X)+d\rho(s^*A(X))\phi]=$$
		$$=[s,d\phi+\sum_i d\rho_1(s^*A(X))\phi^i_1\otimes \phi^i_2\otimes...\otimes \phi^i_n+...\phi^i_1\otimes \phi^i_2\otimes...\otimes d\rho_n(s^*A(X))\phi^i_n]$$
		Where
		$$\rho=\rho_1\otimes \mathbb{I}_2\otimes...\otimes\mathbb{I}_n+...+\mathbb{I}_1\otimes \mathbb{I}_2\otimes...\otimes\rho_n$$
		is the induced total representation on the field:
		$$\phi(x)=\sum_i \phi^i_1(x)\otimes...\otimes \phi^i_n(x)$$
	\end{Cor}
	\begin{Prop}
		The solder form of a reductive Cartan geometry in which $\mathfrak{m}$ is endowed with a product, induces a metric tensor on the bundle $P\times_H\mathfrak{m}$.
	\end{Prop}
	\begin{proof}
		Let $\eta:\mathfrak{m}\times\mathfrak{m}\rightarrow \mathbb{R}$ be the product on $\mathfrak{m}$. From REFERENZA, the solder form can be used to pullback this on the manifold, in particular, there is a metric tensor $g$ on $M$ like:
		$$g=e_M^*\eta$$ 
		This defines an isomorphism $$TM\xrightarrow{\hat{g}} TM^* \hbox{ like }\hat{g}_x(X_x)=g_x(X_x,\cdot)$$ while the product $\eta$ on $\mathfrak{m}$ defines another isomorphism:
		$$P\times_H \mathfrak{m}\xrightarrow{\hat{\eta}} P\times_H\mathfrak{m}^*\hbox{ like }\hat{\eta}([p,v])=[p,\eta(v,\cdot)]$$. From REFERENZA, the dual bundle is $P\times_H \mathfrak{m}^*\simeq (P\times_H\mathfrak{m})^*$, so that this sequence of isomorphisms defines the map $e_M^*$ in the naive way:
		$$
		\begin{tikzcd}
			TM\arrow{d}{\hat{g}}\arrow{r}{e_M} &P\times_H\mathfrak{m}\arrow{d}{\hat{\eta}}\\
			TM^*\arrow{r}{e_M^*}&P\times_H\mathfrak{m}^*
		\end{tikzcd}
		$$
		$$e_M^*:TM^*\rightarrow P\times_H\mathfrak{m}^* \hspace{20 pt} e_M^*=\hat{\eta}\circ e_M\circ \hat{g}^{-1}$$
		Since the metric tensor is an element of:
		$$g\in\Gamma(TM^*\otimes TM^*)\hspace{20 pt}g:M\rightarrow TM^*\otimes TM^*$$
		we can construct:
		$$\tilde{g}=(e_M^*\otimes e_M^*)\circ g:M\rightarrow (P\times_H \mathfrak{m}^*)\otimes (P\times_H \mathfrak{m}^*)$$
		Clearly:
		$$\tilde{g}=(\hat{\eta}\circ e_M\circ \hat{g}^{-1} )\otimes(\hat{\eta}\circ e_M\circ \hat{g}^{-1} )\circ g$$
		Consider the following. From linear algebra, it is known that, since $\eta$ is a pairing from $P\times_H \mathfrak{m}$ to $P\times_H \mathfrak{m}^*$, then:
		$$\tilde{g}(x)(a,b)=(\eta\otimes \eta)((\hat{\eta}^{-1}\otimes \hat{\eta}^{-1})\tilde{g}(x),(a,b))$$
		where $a,b\in P\times_H\mathfrak{m}$.
		Substituting $\tilde{g}$ into the expression we get:
		$$\tilde{g}(x)(a,b)=(\eta\otimes \eta)[\sum_i (e_M\circ \hat{g}^{-1}(g^i_{1,x}))\otimes (e_M\circ \hat{g}^{-1}(g^i_{2,x})),(a,b)]$$
		Where we have expanded $g_x=\sum_{i}g^i_{1,x}\otimes g^i_{2,x}$. This automatically implies:
		$$\tilde{g}(x)(a,b)=\sum_i \eta(e_M\circ \hat{g}^{-1}(g^i_{1,x}),a)\cdot \eta(e_M\circ \hat{g}^{-1}(g^i_{2,x}),b)$$
		Recall from REFERENZA that $g=e_M^*\eta$ so that:
		$$\tilde{g}(x)(a,b)=\sum_i g(\hat{g}^{-1}(g^i_{1,x}),e_M^{-1}(a))\cdot g(\hat{g}^{-1}(g^i_{2,x}),e_M^{-1}(b))$$
		But this is exactly the tensor decomposition in components of:
		$$(e_M^{-1})^*g(a,b)$$
		Thus, we finally get:
		$$\tilde{g}=(e_M^{-1})^*g$$
		The symmetry is inherited from $g$, as well as the non degeneracy ($e_M$ is an isomorphism).
		$$
		\begin{tikzcd}
			M \arrow{rr}{g} \arrow[bend left=25]{rrrr}{\tilde{g}} && TM^*\otimes TM^* \arrow{rr}{e_M^*\otimes e_M^*} \arrow{dd}{\hat{g}^{-1}\otimes \hat{g}^{-1}} && (P\times_H \mathfrak{m}^*)\otimes (P\times_H \mathfrak{m}^*)\\\\
			&& TM\otimes TM \arrow{rr}{e_M\otimes e_M} && (P\times_H \mathfrak{m})\otimes (P\times_H \mathfrak{m}) \arrow{uu}{\hat{\eta}\otimes \hat{\eta}}
		\end{tikzcd}
		$$
	\end{proof}
	It is also worth noticing that the solder form allows us to construct orthonormal frames.
	\begin{Prop}
		Let $[(P,M,\pi,H),\omega]$ be a reductive Cartan geometry modelled on a Klein geometry $(G,H)$. And let $\eta$ be an invariant product for $\mathfrak{m}$. Then for any local gauge $s:M\rightarrow P$ and for any base $\{i_a\}$ of $\mathfrak{m}$, there is an orthonormal frame $f:M\rightarrow TM$ such that:
		$$e^af_b=\delta^a_b\hbox{ with } s^*e=e^a\otimes i_a$$
	\end{Prop}
	\begin{proof}
		Let $\{i_a\}$ be a base for $\mathfrak{m}$. This allows to define a unique frame:
		$$\{f_a:M\rightarrow TM\} \hbox{ such that }s^*e(f_a)=i_a$$
		This means that $e^a(f_b)=\delta^a_b$. Consequentially:
		$$g(f_a,f_b)=\eta_{ab}$$
	\end{proof}
	\section{Reduction of the Structure group}
	\begin{Obs}
		We have seen in REFERENZA that once we have an Ehresmann connection on a principal bundle $P$, we can induce a covariant differentiation on associated bundles i.e. a way to covariantly differentiate fields. In a reductive Cartan geometry, the Cartan connection splits $\omega=A+e$ and the new Ehresmann connection can be used as a tool to construct such differentiations.
	\end{Obs}
	\begin{Obs}
		Recall that from REFERENZA, if $A$ is an Ehresmann connection, $s:U\rightarrow P$ is a local gauge and $\Phi:M\rightarrow E$ is a section of an associated bundle to $P$ gener<ted from a representation $\rho$ like $\Phi(x)=[s(x), \phi(x)]$, then there is a covariant derivative:
		$$\nabla^A_X\Phi(x)=[s(x),d\phi(X)+d\rho(s^*A(X))\phi(x)]$$
		where $X\in\mathfrak{X}(M)$ is a vector field.
	\end{Obs}
	\begin{Def}
		Let $(P,M,\pi,G)$ be a principal $G$ bundle and $H$ a Lie group $G$. Let $\phi:h\rightarrow G$ be a Lie group homomorphism. We define a \textit{reduction of the structure group of $P$ via $\phi$} as a couple made of another principal bundle $(P',M,\pi',H)$ and a smooth fiber preserving map $\varphi: P'\rightarrow P$ such that:
		$$\varphi(p\cdot h)=\varphi(p)\cdot \phi(h)$$
		For all $h\in H$
	\end{Def}
		Let $M$ be a smooth manifold of dimension $n$. Suppose to endow it with a Lorentzian metric tensor $g\in\Gamma(TM\otimes TM)$. Given the smooth manifold structure we can automatically look at 2 bundles:
		\begin{itemize}
			\item[1] The tangent bundle:
			$$(TM,M,\pi_{TM},\mathbb{R}^n)$$
			\item[2] The frame bundle:
			$$(Fr(M),M,\pi_{Fr},GL(n,\mathbb{R}))$$
		\end{itemize}
		Since we have a Lorentzian metric $g$, we can perform a \textit{reduction of the structure group}. We define a new set:
		$$Fr_O(M)=\{e\in Fr(M)|e^*g=\eta\}$$
		where $\eta$ is the minkowski metric with signature $(p,q)$. We now show that this defines a new principal bundle.
		\begin{Prop}
			$Fr_O(M)$ is a smooth manifold and defines a new principal $O(p,q)$ bundle.
		\end{Prop}
		\begin{proof}
			We divide the proof in steps:
			\begin{itemize}
				\item [1] We first prove that the new set is a principal bundle. We use the \textit{preimage theorem} REFERENZA. In particular, consider:
				$$f:FR(M)\rightarrow \mathcal{L}$$
				Where $\mathcal{L}$ is the vector space of symmetric matrices with signature $(p,q)$. Being a vector space, this is a manifold. The map behaves like:
				$$f(u)=u^*g$$
				and is clearly smooth. N
				ow, consider $f^{-1}(\eta)=Fr_O(M)$ by definition. If we prove that the differential:
				$df_e:T_eFr_O(M)\rightarrow T_{f(e)}\mathcal{L}$ is surjective for all $e\in f^{-1}(\eta)$ we are done.
				To do this, we define the following smooth curve in $Fr(M)$:
				$$\gamma(t)=(ue^{tA})^*g=e^{tA^T}u^*ge^{tA}$$
				This is clearly a curve in $Fr(M)$ with starting point $u^*g$. Selecting $u=e\in Fr_O(M)$ we find:
				$$df_e(A)={d\over dt}\bigg|_0 \gamma(t)=A^T\eta+1\eta A$$
				This is clearly surjective since if $S\in\mathcal{L}$ is a symmetric bilinear form, then, choosing $A={1\over 2}\eta S$ we get:
				$${1\over 2}[S\eta^2+\eta^2S]=S$$
				Where we have used the fact that $\eta^2=1$. This proves that $Fr_O(M)$ is a submanifold of $Fr(M)$.
				\item [2] Now we prove that this new manifold induces a principal bundle on $M$. Consider the following projection:
				$$\pi_{Fr_O}:Fr_O(M)\rightarrow M\hspace{20 pt}\pi_{Fr_O}(e)=\pi_{Fr}(e)$$
				This is clearly a smooth projection. As for the right action of the group $O(p,q)$ on the manifold, it is given clearly by:
				$$\mu(O,e)=eO\hbox{ since }(eO)^*g=O^T\eta O=\eta$$
				This action is obviously free since frames are ordered bases. Moreover, the action of the group changes the basis, but not the point at which the base is at, so $\pi_{Fr_O}\circ \mu=\pi_{Fr_O}$\\
				As for the local trivializations, consider any $U\subset M$ open. Then, there is a natural map:
				$$\phi_O:\pi_{Fr_O(M)}^{-1}(U)\rightarrow U\times O(p,q) \hbox{ like }\phi_O(e)=(\pi(e),O)$$
				where $O$ is the matrix that sends the canonical base of $\mathbb{R}^n$ into $e$. This map is evidently smooth and has an inverse, which is also smooth:
				$$\phi_O^{-1}(x,O)=i(x)\cdot O\hbox{ where } i \hbox{ is the caonical base of }\mathbb{R^n}$$
				$$\phi_O\circ \phi_O^{-1}(x,O)=\phi(i(x)\cdot O)=(\pi(i),O)$$
				To conclude the bundle structure, we prove the equivariance of the trivializations:
				$$\phi_O(e\cdot A)=(\pi(e),AO)=(\pi(e),A)\cdot O$$
				This concludes the proof.
			\end{itemize}
			\begin{Obs}
				The last result REFERENZA implies that given a manifold with a metric of signature $(p,q)$ we can always reudce its structure group to $O(p,q)$ from $GL(n,\mathbb{R})$. Geometrically, this corresponds to working only with the orthonormal frames.\\
				Note that if in addition the manifold is orientable we can further reduce the structure group to $SO(p,q)$. The proof of this result is literally the same as the one of last result.
			\end{Obs}
		\end{proof}
		Now we can proceed with the analysis. Since our manifold is endowed with a Lorentzian metric and is supposed to be orientable, we can consider the special orthonormal bundle:
		$$(Fr_{SO}(M),M,\pi_{Fr_{SO}},SO(p,q))$$
		Our aim is to find a Cartan connection on this principal bundle. Consider the following:
		\begin{Theo}
			Let $(M,g)$ be a metric Lorentzian manifold. Then, there is a canonical solder form on the frame bundle. This descends to a canonical solder form on the orhtonormal and special orthonormal frame bundles.
		\end{Theo}
		\begin{proof}
			Recall that the solder form is an element $\theta\in\Omega^1(Fr(M),\mathfrak{m})$ which at any point provides an isomorphism. Our model homogeneous space for the most general case is:
			$$G=GL(n,\mathbb{R})\ltimes\mathbb{R}^n;\hspace{20 pt}H=GL(n,\mathbb{R})$$
			This is a Klein Geometry since $G/H$ is connected. Since the group is a semidirect product, by REFERENZA, the adjoint action of $GL(n,\mathbb{R})$ on $\mathbb{R}^n$ is:
			$$Ad(h)v=hv$$
			From this it clearly follows that this homogeneous space is reductive. Thus, we wish for a map:
			$$\theta:TFr(M)\rightarrow \mathbb{R}^n$$
			which when pulled back gives an isomorphism. The idea is to mimic the Maurer-Cartan form:
			$$\theta_e(X_e)=e^{-1}\circ d\pi_{Fr}(X_e)$$
			Basically, a point of the frame bundle $e\in Fr(M)$ is by definition a linear isomorphism $e(x):\mathbb{R}^n\rightarrow T_xM$, so it is invertible and the inverse maps a vector in the tangent space into a decomposition in $\mathbb{R}^n$. \\
			By definition of the projection, if we pull it back with any section of the frame bundle $e:U\subset M\rightarrow Fr(M)$, we get a linear isomorphism:
			$$e^*\theta\in\Omega^1(M,\mathbb{R}^n)$$
			$$(e^*\theta)_x(X_x)=\theta_{e(x)}(de(X_x))=e^{-1}(x)(d\pi\circ de(X_x))=e^{-1}(x)(X)$$
			This is clearly an isomorphism. If now we reduce the structure group to $O(p,q)$ we have another model space:
			$$G=O(p,q)\ltimes \mathbb{R}^n$$
			This is still a Klein Gometry and is reductive. The solder form is still the same, but it has values in $Fr_O(M)$. The same exact thing holds for $SO(p,q)$.
		\end{proof}
		The only thing which is missing is an Ehresmann connection $A$. Once we have it we automatically have a Cartan connection:
		$$A=\omega+\theta$$
		Then we can calculate the total curvature and all of the other meaningful quantities. In particular, the curvature and the torsion will be:
		$$R=d\omega+{1\over 2}[\omega,\omega]\hspace{ 20 pt} T=d\theta+{1\over 2}[\theta,\omega]$$
		Another important condition is the metric compatibility. Recall that from REFERENZA there is only one connection $\omega$ which is compatible with the metric and gives $0$ torsion: the Levi-Civita one. We are now going to show the Levi-Civita case and then look at the torsion case.\\
		\\
		The Levi-Civita connection conditions are the following:
		$$d\theta+{1\over 2}[\theta,\omega]=0 \hbox{ (Torsion condition)}$$
		$$\nabla g=0$$
		The second condition can be rephrased as:
		$$\omega\in\Omega^1(Fr_{SO}(M),\mathfrak{so}(n))$$
		this latter condition is already satisfied in the special orthonormal frame bundle.\\
		To see the uniqueness of the Levi-Civita connection we recall that if $\omega_{1,2}$ are two Ehresmann connnections, then they differ by a tensorial form of type $Ad$ of degree 1. By plugging $\omega_1=\omega_2+\xi$ into the Torsion condition we see:
		$$d\theta+{1\over 2}[\theta,\omega_2]+{1\over 2}[\theta,\xi]=0=+{1\over 2}[\theta,\xi]$$
		From this analysis it follows:
		\begin{Cor}
			All of the torsionless connections $\omega$ differ by some $\chi\in\Omega^1_{Ad}(P,\mathfrak{h})$ such that
			$$[\chi,\theta]=0$$
		\end{Cor}
		Thus, there is no unique torsionless Ehresmann connections in general. However, a funny thing happens when we look at this in the associated bundle. See REFERENZA.
		Let now $e:U\subset M\rightarrow Fr_{SO}(M)$ be a local gauge. Then, in coordinates:
		$$e^*\theta=(e^j)^{-1}\otimes i_j\hbox{ and }e^*\omega=\omega^i_j\otimes T^j_i$$
		where $i^j$ are the generator of $\mathbb{R}^n$ and $T^j_i$ are the generators of $\mathfrak{so}(n)$.
		In fact, $\omega$ has values in the matrix Lie algebra $\mathfrak{so}(n)$, so it is a matrix. Note that this description is not coordinate dependent!!! Thus, one gets $n$ differential equations (from REFERENZA the pullback commutes with the exterior derivative):
		$$d(e^j)^{-1}\otimes i_j+(e^j)^{-1}\wedge \omega^i_k \otimes [i_j,T^i_k]=0$$
		\textbf{Important:}
		\\
		Note that we wrote the commutator. However, the action of the total Lie algebra on the subspace $\mathbb{R}^n=\mathfrak{m}$ is linear, due to the direct product definition! (see REFERENZA) This means that in reality we are doing:
		$$[(0,i_j),(T^k_i,0)]=-(0,T_i^k\cdot i_j)$$
		Thus, we find:
		$$d(e^j)^{-1}\otimes i_j+ \omega^i_k\wedge (e^j)^{-1} \otimes T_i^k\cdot i_j=0$$
		Now, there is a natural choice for a basis in $\mathfrak{gl}(n)$, namely:
		$$T^i_j\hbox{ such that }T^i_j\cdot i_k=\delta_k^i i_j$$
		This basis can be used to expand an element of $\mathfrak{so}(n)$ like:
		$$e^*\omega=\omega^i_j\otimes T^j_i$$
		However, by construction $\omega\in\mathfrak{so}(p,q)$ so that:
		$$e^*\omega^T\eta+\eta e^*\omega=0$$
		$$\omega^j_k\eta_{ji}=-\eta_{ik}\omega^k_j$$ 
		This means:
		$$\omega_{ik}=-\omega_{ki}$$
		$$d(e^j)^{-1}\otimes i_j+ \omega^i_k\wedge (e^j)^{-1} \otimes T_i^k\cdot i_j=0=$$
		$$d(e^j)^{-1}\otimes i_j+ \omega^i_j\wedge (e^j)^{-1} \otimes i_i=0$$
		Or also:
		$$[d(e^j)^{-1}+ \omega_i^j\wedge (e^i)^{-1} ]\otimes i_j=0$$
		Note that $\omega$ is skew-symmetric when contracted with the metric $\eta$.\\
		\\
		Now we get to Christoffel symbols. Since $\omega^i_j$ is a 1 form with values in $\mathbb{R}$ (do not get confused with the 2 index notation, it is just because we have expanded the generators with 2 indices), we can expand it in a local frame:
		$$\omega^i_j=\Gamma^i_{jk}(e^k)^{-1}$$
		We call $\Gamma^i_{jk}$ the \textit{Christoffel symbols}. Equation REFERENZA becomes:
		$$[de_j^{-1}+ \Gamma^i_{jk}(e^k)^{-1}\wedge e_i^{-1}]\otimes i^j=0$$
		\begin{Prop} [\textbf{Passive interpretation of gauge transformations}]
			Under a gauge transformation the Christoffel symbols transform like:
			$$\Gamma^\rho_{\mu\nu}=(g^\rho_i)^{-1}\Gamma^i_{jk}g^j_\mu (g^k_\nu)^{-1}+(g_m^\rho)^{-1}\partial_\nu g^m_{\mu}$$
		\end{Prop}
		\begin{proof}
			Recall that $\omega$ is an Ehresmann connection. Thus, under a gauge transformation, it changes as:
			$$e^*\omega\rightarrow Ad(g^{-1})e^*\omega+\mu=$$
			$$=Ad(g^{-1})\Gamma^i_{jk}(e^k)^{-1}\otimes T^j_i+\mu$$
			Recall that in our case the Lie group is a matrix Lie group. This implies that the transtion function $g$ will be a matrix. In components:
			$$\Gamma^\rho_{\mu k}(f^k)^{-1}=(g^\rho_i)^{-1}\Gamma^i_{jk}g^j_\mu (e^k)^{-1}+(g_m^\rho)^{-1}dg^m_{\mu}$$
			The gauge transformation correspond to the change in local section. This means that, calling $f$ the new section, $f^\nu=g^\nu_ke^k$ in matrix terms. Substituting everything we find:
			$$\Gamma^\rho_{\mu\nu}=(g^\rho_i)^{-1}\Gamma^i_{jk}g^j_\mu (g^k_\nu)^{-1}+(g_m^\rho)^{-1}\partial_\nu g^m_{\mu}$$
			Where we have intended $g$ as a smooth map from $U\subset M$ to $G$.
		\end{proof}
		\begin{Prop}
			The Christoffel symbols in any coordinate frame are symmetric in the lower indices if and only if the Torsion tensor in the same coordinates are also 0.
		\end{Prop}
		\begin{proof}
			The torsion tensor is:
			$$T=d\theta+{1\over 2}[\theta,\omega]$$
			We have seen that under a pullback with a local gauge we find:
			$$T^j\otimes i_j=[d(e^j)^{-1}+ \Gamma^j_{ik}(e^k)^{-1}\wedge (e^i)^{-1}]\otimes i_j$$
			Let $(U,x^i)$ be the coordinate frame in which $e$ is the canonical base. Then by REFERENZA:
			$$d(e^j)^{-1}(\partial_{x^i},\partial_{x^j})=\partial_{x^i}(e^j)^{-1}(\partial_{x^j})-\partial_{x^j}(e^j)^{-1}(\partial_{x^i})-(e^j)^{-1}[\partial_{x^i},\partial_{x^j}]$$
			Clearly, this is 0. As for the second term, fromm REFERENZA:
			$$(e^k)^{-1}\wedge (e^i)^{-1}(X,Y)=(e^k)^{-1}(X) (e^i)^{-1}(Y)-(e^k)^{-1}(Y) (e^i)^{-1}(X)$$
			This measn that, since $e$ is the frame associated with the coordinates:
			$$(e^k)^{-1}\wedge (e^m)^{-1}(\partial_{x^i},\partial_{x^j})=\delta^k_i\delta^m_j-\delta^k_j\delta^m_i$$
			By substituting everything into the torsion formula we get:
			$$e^*T(\partial_m,\partial_l)=[\Gamma^j_{lm}-\Gamma^j_{ml}]\otimes i_j$$
		\end{proof}
		\begin{Obs}
			Note that in general the torsion is not 0 as a form. In fact, from REFERENZA, if we consider a general local gauge which does not induce a coordinate frame, then:
			$$e^*T(e_i,e_k)=[\Gamma^j_{ik}-\Gamma^j_{ki}-(e^j)^{-1}[e_i,e_k]]\otimes i_j$$
		\end{Obs}
		\begin{Obs}
			Recall that from REFERENZA, the solder form provides an isomprhism:
			$$TM\simeq FR_{SO}(M)\times_{SO(p,q)} \mathbb{R}^n$$
			This quotient is took with respect to the adjoint action. 
			In our case, the total group is $ISO(p,q)=SO(p,q)\ltimes \mathbb{R}^n$, so the restriction of the adjoint action on $\mathbb{R}^n$ is from REFERENZA the standard action of $SO(p,q)$ on vectors of $\mathbb{R}^n$.\\
			Now, by REFERENZA, there is a covariant derivative on sections of this associated bundle: vector fields. Namely, if $X\in\mathfrak{X}(M)$ is  avector field, then it can be seen also as a section of $FR_{SO}(M)\times_{SO(p,q)} \mathbb{R}^n$.
			$$X(x)=[e(x),v(x)]$$
			From REFERENZA, once we fix an Ehresmann connection $\omega$, we have a covariant derivative on this associated bundle:
			$$\nabla_Y^\omega X(x)=[e(x),dv(Y)+e^*\omega(Y)v(x)]$$
			Where, from REFERENZA, the differential of the standard representation is just the inclusion:
			$$d\rho_{std}(a)=a$$
			This is the \textit{covariant derivative induced on the tangent bundle}.
		\end{Obs}
		\begin{Prop}
			There is a natural extension of the covariant derivative on general tensors.
		\end{Prop}
		\begin{proof}
			So far, we have defined a covariant derivative on the bundle $TM$. Since there is an a priori Minkowsky metric on $\mathbb{R}^{p,q}$, we can identify canonically $\mathbb{R}^n\simeq \mathbb{R}^*$. Through the solder form and REFERENZA we get a bundle isomorphism:
			$$TM^*\simeq FR_{SO}(M)\times_{SO(p,q)} \mathbb{R}^{p,q}$$
			Since the adjoint action is just $\rho^*(g)=\rho(g^{-1})$ from REFERENZA, by differentiating we get a $(-)$ sign:
			$$\nabla_Y^\omega X^*(x)=[e(x),dv^*(Y)-v(x)^*(e^*\omega(Y))]$$
			Since from REFERENZA any representation of Lie algebras naturally extends to the tensor product space as fwollows (by abuse of notation):
			$$d\rho_1\otimes d\rho_2=d\rho_1\otimes \mathbb{I}+\mathbb{I}\otimes d\rho_2$$
			we have a recipe to extend the exterior derivative to a general tensor. In particular, if:
			$$X\in\Gamma(\bigotimes^n TM\bigotimes^m TM^*)$$
			then we have a natural covariant derivative like:
			$$\nabla_Y^\omega X=[e(x),dv_x(Y)+d\rho_{nm}(e^*\omega(Y))v(x)]=$$$$=[e(x)+dv_x(x)+d\rho_1(e^*\omega(Y))(v_1(x))\otimes\mathbb{I}(v_2)...\otimes\mathbb{I}(v_{n+m})+...]$$
			Where we have called $v=v_1\otimes...\otimes v_n\otimes v_{n+1}...\otimes v_{n+m}$ and $d\rho_{nm}$ the full tensor representation.
		\end{proof}
		\begin{Prop}
			The Levi-Civita Christoffel symbols are:
			$$\Gamma^\rho_{\mu\nu}={1\over 2}g^{m\rho}(\partial_\mu g_{\nu\rho}+\partial_\nu g_{\mu\rho}-\partial_m g_{\mu\nu})$$
		\end{Prop}
		\begin{proof}
			The proof relies on the extension of the covariant derivativ eto 2 tensors. In partiuclar, the condition $\nabla g=0$ can be re-written as the derivaitve of a section of $TM^*\otimes TM^*$, like:
			$$\nabla_X^\omega g(Y,Z)=0=[e,dg(X)(Y,Z)-g(e^*\omega(X)Y,Z)-g(Y,e^*\omega(X)Z)]$$
			this true only for:
			$$dg(X)(Y,Z)=g(e^*\omega(X)Y,Z)+g(Y,e^*\omega(X)Z)$$ 
			This must hold for all vector fields. Since we have selected a frame $e$, we can choose $\{e_i\}$ as our vector fields. Then:
			$$dg_{\mu\nu}(X)=\omega_\mu^jg_{j\nu}+\omega_\nu^jg_{j\nu}$$
			Clearly, by substituting the expression for $\Gamma^i_{jk}$ we get:
			$$dg_{\mu\nu}=\Gamma^j_{\mu\rho}(e^\rho)^{-1}g_{j\nu}+\Gamma^j_{\nu\rho}(e^\rho)^{-1}g_{j\mu}$$
			Suppose that $e$ induces a coordinate frame on the manifold. Then:
			$$dg_{\mu\nu}=\partial_\rho g_{\mu\nu}(e^\rho)^{-1}$$
			$$\partial_\rho g_{\mu\nu}(e^\rho)^{-1}=\Gamma^j_{\mu\rho}(e^\rho)^{-1}g_{j\nu}+\Gamma^j_{\nu\rho}(e^\rho)^{-1}g_{j\mu}$$
			Now, if the connection is torsionless i.e. Levi-Civita, then the Christoffel symbols are symmetric in the exchange of the lowe indices.
			$$\partial_\rho g_{\mu\nu}-\partial_\mu g_{\rho\nu}-\partial_\nu g_{\mu\rho}=$$
			$$=\Gamma^j_{\mu\rho}g_{j\nu}+\Gamma^j_{\nu\rho}g_{j\mu}-
			\Gamma^j_{\rho\mu}g_{j\nu}-\Gamma^j_{\nu\mu}g_{j\rho}-
			\Gamma^j_{\mu\nu}g_{j\rho}-\Gamma^j_{\rho\nu}g_{j\mu}$$
			Now, if we group those up by symmetry, we find:
			$$2g_{j\rho}\Gamma^j_{\mu\nu}=\partial_\rho g_{\mu\nu}-\partial_\mu g_{\rho\nu}-\partial_\nu g_{\mu\rho}$$
			This completes the proof. 
		\end{proof}
		\begin{Obs}
			Basically, we have seen that if we have a manifold endowed with a Lorentzian metric, we have a canonical choice for the Cartan connection.
		\end{Obs}
	\section{Gravitation in Cartan Geometry}
	In this section we will look at General relativity as a gauge theory, through the scope of the Cartan construction.
	\\\\
	We define $M$ to be an $n$ dimensional spacetime. Our general symmetry group is:
	$$G=\begin{cases}
		SO(1,n) \hspace{10 pt}(\Lambda>0 \hbox{ De Sitter})\\
		ISO(1,n-1)\hspace{10 pt} (\Lambda=0 \hbox{ Minkowski})\\
		SO(2,n-1)\hspace{10 pt} (\Lambda<0 \hbox{ Anti-De Sitter})
	\end{cases}$$
	Our stabilizer is always $H=SO(1,n-1)$.
	\begin{Prop}
		Let the notation be as above, then $G/H$ is always a reductive homogeneous space.
	\end{Prop}
	\begin{proof}
		We divide the proof into 3 cases, each one for the respective symmetry group.
		In general:
		$$\mathfrak{so}(p,q)=\{X\in M_{(p+q)\times(p+q)}|X^T\eta+\eta X=0\}$$
		\begin{itemize}
			\item Case 1: $G=SO(1,n)$
			\\
			In this first case the Lie algebra $\mathfrak{g}=\mathfrak{so}(1,n)$ is:
			$$\mathfrak{so}(1,n)=\{X\in M_{(n+1)\times(n+1)}|X^T\eta+\eta X=0\}$$
			To see what this implies, consider
			$$X=\begin{pmatrix}
				M && \vec{v} \\
				\vec{w}^T && A
			\end{pmatrix}\hbox{ with }A\in\mathbb{R},M\in M_{n\times n}(\mathbb{R})$$
			Then the above condition is:
			$$\begin{pmatrix}
				M^T && \vec{w} \\
				\vec{v}^T && A
			\end{pmatrix}\begin{pmatrix}
			\eta_{1,n-1} && 0 \\
			0 && 1
			\end{pmatrix}=-\begin{pmatrix}
			\eta_{1,n-1} && 0 \\
			0 && 1
			\end{pmatrix}\begin{pmatrix}
			M && \vec{v} \\
			\vec{w}^T && A
			\end{pmatrix}$$
			Which becomes:
			$$\begin{pmatrix}
				M^T\eta_{1,n-1} && \vec{w} \\
				\vec{v}^T\eta_{1,n-1} && A
			\end{pmatrix}=\begin{pmatrix}
			-\eta_{1,n-1}M && -\eta_{1,n-1}\vec{v} \\
			-\vec{w}^T && -A
			\end{pmatrix}$$
			This clearly implies $M^T\eta_{1,n-1}=-\eta_{1,n-1}M$ i.e. $M\in \mathfrak{so}(1,n-1)$, $-\eta_{1,n-1}\vec{v}=\vec{w}$, $A=0$. Thus, we see there is a splitting:
			$$\mathfrak{so}(1,n)=\mathfrak{so}(1,n)\oplus \mathfrak{m}$$
			Where 
			$$\mathfrak{m}=\{X\in M_{(n+1)\times (n+1)}|X=\begin{pmatrix}
				0 && -\eta_{1,n-1}\vec{v} \\
				\vec{v}^T && 0
			\end{pmatrix}\}$$
			Now it remains to show that this space is reductive:
			$$[\mathfrak{so}(1,n-1),\mathfrak{m}]=\begin{pmatrix}
				M && 0 \\
				0 && 0
			\end{pmatrix}\begin{pmatrix}
				0 && -\eta_{1,n-1}\vec{v} \\
				\vec{v}^T && 0
			\end{pmatrix}-\begin{pmatrix}
			0 && -\eta_{1,n-1}\vec{v} \\
			\vec{v}^T && 0
			\end{pmatrix}\begin{pmatrix}
			M && 0 \\
			0 && 0
			\end{pmatrix}=$$
			$$=\begin{pmatrix}
				0 && -M\eta_{1,n-1}\vec{v} \\
				-\vec{v}^TM && 0
			\end{pmatrix}=\begin{pmatrix}
			0 && -\eta_{1,n-1}^TM^T\vec{v} \\
			\vec{v}^TM && 0
			\end{pmatrix}\in\mathfrak{m}$$
			\item Case 2: $G=SO(2,n-1)$\\
			The proof is very similar, the only change is in:
			$$\eta=\begin{pmatrix}
				-1 && 0\\
				0 && \eta_{1,n-1}
			\end{pmatrix}$$
			\item Case 3: $G=ISO(1,n-1)$
			\\
			The Poincar group is given by:
			$$ISO(p,q)=\{\}$$
		\end{itemize}
	\end{proof}
	Let $G$ be one of the above simmetry groups. Consider a generic principal bundle $P$ on spacetime:
	$$(P,M,\pi,H)\hbox{ where }H=SO(1,n-1)$$
	\begin{Prop}Let the notation be as above.
		$\mathfrak{m}$ has always a Lorentzian inner product.
	\end{Prop}
	\begin{proof}
		\begin{itemize}
			\item Case 1: $G=SO(1,n)$\\
			$$\mathfrak{m}=\mathbb{R}^n$$
			Consider the Killing form on $\mathfrak{so}(p,q)$, this is an $Ad$-invariant product, even if in this case it is not negative definite. Clearly, on $\mathfrak{m}$ this is $Ad(\mathfrak{so}(1,n-1))$ invariant. We can check the restriction of this product on $\mathfrak{m}$ to reduce to the Minkowsky metric. In particular it is known from REFERENZA that for $\mathfrak{so}(p,q)$:
			$$B(X,Y)=(p+q-2)Tr(XY)$$
			This automatically imples that:
			$$B_\mathfrak{m}(X,Y)=(q-1)Tr\bigg(\begin{pmatrix}
				0 && -\eta_{1,n-1}\vec{v} \\
				\vec{v}^T && 0
			\end{pmatrix}\begin{pmatrix}
			0 && -\eta_{1,n-1}\vec{w} \\
			\vec{w}^T && 0
			\end{pmatrix}\bigg)=$$
			$$=(q-1)Tr\bigg(\begin{pmatrix}
				-\eta_{1,n-1}\vec{v}\vec{w}^T && 0 \\
				0 && -\vec{v}^T\eta_{1,n-1}\vec{w}
			\end{pmatrix}\bigg)=-2(q-1)\eta_{1,n-1}(\vec{v},\vec{w}^T)$$
			\item Case 2: $G=ISO(1,n-1)$
			By definition 
			$$ISO(p,q)=SO(p,q)\ltimes \mathbb{R}^{p,q}$$
			This is a group with the following operations:
			$$(X,v)\cdot (Y,w)=(XY,Xw+v)$$
			The commutator is:			$$[(X,v),(Y,w)]=([X,Y],Xw-Yv)$$
			This clearly implies that all of the generators of $\mathbb{R}^{p,q}$ commute. Thus, the Killing form is going to be degenerate on the subset $\mathfrak{m}=\mathbb{R}^{p,q}$
			Consider now the adjoint action of $\mathfrak{so}(p,q)$ on $\mathfrak{m}=\mathbb{R}^{p,q}$:
			$$Ad(X)v=-Xv$$
			This makes an irreducible representation. Consider then a generic symmetric bilinear form $B$ on $\mathfrak{m}=\mathbb{R}^{p,q}$. Suppose that $B$ is $Ad(SO(p,q))$ invariant. Then, since we have the Minkowski product on $\mathbb{R}^{p,q}$, there is a 1-1 correspondence between bilinear forms and endomorphisms:
			$$T=\eta^{-1}\circ B$$ 
			By Schur's Lemma (see REFERENZA), invariant map between $V$ and itself is a multiple of $\mathbb{I}$. This implies that any $B$ is a multiple of the Minkowsky form.
			\item Case 3: $G=S=(2,n-1)$
			For $\mathfrak{so}(2,n-1)$ it is the same as point 1 up to a proper rescaling.
		\end{itemize}
	\end{proof}
	Thus, in each case we have $\eta=\eta_{1,n-1}$ as a Lorentzian inner product. Consider any Cartan connection $\omega$ on this principal bundle. By REFERENZA, we have a reductive Cartan Geometry:
		$$[(P,M,\pi,H),\omega]$$
	Furthermore, by REFERENZA, the Cartan connection splits as:
	$$\omega=A+e$$
	Where 
	\begin{itemize}
		\item $A\in\Omega^1(P,\mathfrak{h})$ is an Ehresmann connection;
		\item $e\in\Omega^1(P,\mathfrak{m})$ is the solder form.
	\end{itemize}
	From REFERENZA, since this geometry is reducible, there is an horizontal distribution $\mathcal{H}=Ker(A)$.\\
	\begin{Obs}
		From REFERENZA, since the goemetry is reducible, the metric on $\mathfrak{m}$ gives rise to a gauge-independent metric on $M$:
		$$g(X,Y)=\braket{s^*e(X),s^*e(Y)}\hbox{ with }X,Y\in\Gamma(M)$$
		Moreover, by REFERENZA, the solder form $e$ defines a bundle isomorphism:
		$$TM\simeq P\times_H \mathfrak{m}$$
		This is done through REFERENZA and we call the associated form $e_M$ \textit{coframe field}.
		Let $s:U\subset M\rightarrow P$ be a local gauge. Then we can expand the solder form:
		$$e:TP\rightarrow \mathbb{R}^{p,q}$$
		$$s^*e:TM\rightarrow \mathbb{R}^{p,q}\hspace{20 pt}s^*e=e^a\otimes i_a$$
		Where $i^a$ generate $\mathbb{R}^{p,q}$. Plugging this into the relation above, we get:
		$$g=\Lambda e^ae^b\eta_{ab}$$
		where $\Lambda$ is the coupling re-scaling constant of the product $\eta$. Clearly, from REFERENZA, there is an induced bundle metric on $TM\simeq P\times_H \mathfrak{m}$, which gives rise to the following local relation (see REFERENZA):
		$$\braket{e_M,e_M}=\braket{s^*e,s^*e}$$
		The core idea is the following: once the solder form is known (or quivalently the coframe field), the metric tensor also is.
	\end{Obs}
	\begin{Obs}
		The spin connection $A$ is the Ehresmann-like part of the Cartan connection in our setting. It defines an exterior covariant derivative $D_A$ on the principal bundle and a covariant derivative on $TM$ and $TM^*$ through the above coframe field. 
	\end{Obs}
	\begin{Prop}
		The request that the spin connection $A$ is compatible with the metric tensor is realized by the sole fact of $A$ taking values in $\mathfrak{so}(1,n-1)$.
	\end{Prop}
	\begin{proof}
		The metric compatibility condition is 
		$$\nabla g=0$$
		From REFERENZA, the spin connection $A$ induces a covariant derivative on the tangent bundle $TM\simeq P\times_H \mathfrak{m}$. In particular, let $s:M\rightarrow P$ be a local gauge and $\Phi:M\rightarrow P\times_H \mathfrak{m}\hbox{ like }\Phi(x)=[s(x),\phi(x)]$ be a section of the associated bundle. The covariant derivative on $P\times_H G$ is:
		$$\nabla^A_X \Phi(x)=[s(x),d\phi(X)+d\rho(s^*A(X))\phi(x)]$$
		where $\rho$ is the adjoint action of $H$. Since the section $\Phi\in\Gamma(P\times_H G)$ corresponds to a section of $TM$, namely $\Phi_M=e_M^{-1}\circ\Phi:M\rightarrow TM$, we can define:
		$$\nabla_X^A\Phi_M=e_M^{-1}\circ \nabla^A_X \Phi(x)$$
		This is globally defined as an operator and it is gauge invarant due to the gauge covariance of $\nabla^A_X$. Of course, there is also a covariant derivative on $TM^*$, induced from:
		$$e_M^*:TM^*\rightarrow P\times_H \mathfrak{m}^*$$
		From REFERENZA:
		$$\tilde{g}=(e_M^{-1})^*g$$
		To compute the covariant derivative of the metric tensor, consider the following: if $\varphi$ is a section of $P\times_H \mathfrak{m}^*$ and $\varphi_M$ is the corresponding section of $TM^*$, then:
		$$\nabla_X^A\varphi_M=(e_M^*)^{-1}\circ \nabla_X^A\varphi$$
		From this we have the obvious generalization:
		$$\nabla_X^A g=((e_M^*)^{-1}\otimes(e_M^*)^{-1})\nabla_X^A \tilde{g}$$
		This means:
		$$\nabla_X^A \tilde{g_x}=\nabla_X^A[s(x),\sum_iv^i\otimes w^i]\hbox{ with }v^i,w^i\in \mathfrak{m}^*$$
		Since the action of the adjoint on $\mathfrak{m}^*$ is the conjugate of the fundamental representation, we get:
		$$\nabla_X^A \tilde{g_x}=[s(x),d\tilde{g}_x(X)-\sum_is^*A(X)v^i\otimes w^i+v^i\otimes s^*A(X)w^i]$$
		Where we have applied the decompostion of the representation used in REFERENZA. Now, clearly by construction of the dual bundle, the following is forced: $v^i=g^i_1(e_M^{-1})$ and $w^i=g^i_2(e_M^{-1})$ so that:
		$$\nabla_X^A g=d((e_M^{-1})^*g)(X)-\sum_i s^*A(X)g^i_1(e_M^{-1})\otimes g^i_2(e_M^{-1})+g^i_1(e_M^{-1})\otimes s^*A(X)g^i_2(e_M^{-1})$$ 
		Now, the compatibility condition amounts to $\nabla g=0$. This means that, taking out the pullback:
		$$dg(X,Y,Z)-s^*A\cdot g(Y,Z)=0$$
		Where we have substituted the covariant derivatives on the metric components with the full metric expansion. Since $g=e^*\eta$ by construction we have:
		$$dg(X,Y,Z)=g(s^*A(Y),Z)+g(Y,s^*A(Z))$$
		Choose from REFERENZA an orthonormal frame $\{f_a\}$. Then the compatibility condition at a point $p$ becomes:
		$$X_pg_p(f_a(p),f_b(p))=0=[(s^*A)_a^cf_c \eta_{cb}+(s^*A)_b^cf_c \eta_{ca}]_p$$
		This clearly implies the skew symmetry. Note that we get: $s^*A\in\mathfrak{so}(p,q)$
		However, the pullback of the connection does not change the fact that the connection takes values in the Lie algebra $\mathfrak{so}(p,q)$. This property comes out as a requirement in an orthonormal frame, yet it is more general.
	\end{proof}
	Now it is only a matter to find the correct action for this theory. The aim is to recollect the Einstein equations. However, we first need to endow our space $H$ with a product.
	\begin{Prop}
		There is a natural choice for an $Ad(H)$-invariant product on $\mathfrak{g}=\mathfrak{h}\oplus\mathfrak{m}$. That is:
		$$\braket{,}_\mathfrak{g}=B_\mathfrak{h}\circ\Pi_\mathfrak{h}+\eta\circ\Pi_\mathfrak{m}$$
		Where $\Pi$ are the projectors on the subspaces.
	\end{Prop}
	\begin{proof}
		We have seen that in all the cases of REFERENZA, $\mathfrak{m}$ is always equipped with a Lorentzian inner product. As for the somplement, it is $\mathfrak{so}(1,n-1)$, which is simple for $n>1$, but non-compact. The Cartan-Killing form is thus a non degenerate indefinite product. This completes the proof.
	\end{proof}
	\begin{Prop}
		The Einstein Lagrangian for an empty spacetime is:
		$$\mathcal{L}dV=$$
		Where $dV$ is the volume form.
	\end{Prop}
	\begin{proof}
		From REFERENZA, we can extend the product defined in REFERENZA to define a bundle metric on the adjoint bundle $P\times_H \mathfrak{g}$. This is possible since the product is $Ad(H)$-invariant. This implies the extension of the Hodge operator $\star$ on the bundle $P\times_H \mathfrak{g}$ like in REFERENZA. In particular, if $dV$ is the volume form of $M$ and $F_M\in\Omega^k(M,P\times_H \mathfrak{g})$, we have:
		$$F_M\wedge \star F_M=\braket{F_M,F_M}dV$$ 
		Consider now the curvature tensor $F$ of a given Cartan connection $\omega\in\Omega^1(P,\mathfrak{g})$. In our reductive case, $\omega=A+e$ splits in the well known way. Consequentially, $F$ also splits:
		$$F=R+T+{1\over 2}[e,e]$$
		Moreover, $F$ can be isomorphically mapped into $F_M\in\Omega^2(M,P\times_H\mathfrak{g})$ through the Musical Isomorphism REFERENZA. Thus, we can evaluate:
		$$\braket{F_M,F_M}=\braket{R_M,R_M}+\braket{T_M,T_M}+\braket{e_M\wedge e_M,e_M\wedge e_M}+$$$$+2\braket{R_M,T_M}+2\braket{R_M,e_M\wedge e_M}+2\braket{T_M,e_M\wedge e_M}$$
		However, due to the construction of the product, the mixed terms vanish:
		$$\braket{F_M,F_M}=\braket{R_M,R_M}+\braket{T_M,T_M}+\braket{e_M\wedge e_M,e_M\wedge e_M}+$$$$+2\braket{R_M,e_M\wedge e_M}+2\braket{T_M,e_M\wedge e_M}$$
		Take now a local section $s:M\rightarrow P$. From REFERENZA, we know that the above product can also be expressed as the product of the pulled back forms, so that:
		$$\braket{F_M,F_M}=\braket{s^*F,s^*F}$$
		By taking the pullback of those, we find:
		$$s^*F=R_a\otimes J^a+T^a\otimes i_a+e^a\wedge e^b\otimes [i_a,i_b]$$
		Now, choosing an orthonormal base for $\mathfrak{h}$ and an orthonormal base for $\mathfrak{m}$, we have:
		$$\braket{J^a,J^b}=\eta^{ab}\hbox{ and }\braket{i_a,i_b}=\eta_{ab}$$
		Moreover, in our 3 cases we have 
		$$[J^a,J^b]=i\varepsilon^{ab}_{\hspace{9pt}c}J^c$$
		$$[i_a,i_b]=\Lambda(-i\varepsilon_{abc})J^c$$
		Where $\Lambda=0,1,-1$ like in REFERENZA. Thus, we find:
		This automatically gives us:
		$$\braket{F_M,F_M}=\braket{R_a,R^a}+\braket{T^a,T_a}-\braket{(e^a\wedge e^b),(e^c\wedge e^d)}\Lambda^2\varepsilon_{abe}\varepsilon_{cdf}\eta^{ef}+$$
		$$-2i\Lambda \braket{R_a,e^b\wedge e^c}\varepsilon_{bce}\eta^{ae}-2\Lambda T^a e^b\wedge e^c\varepsilon_{bce}\times 0$$
		The last term vanishes for the same reasons as above. Contracting the indices:
		$$\braket{F_M,F_M}=\braket{R_a,R^a}+\braket{T^a,T_a}-\braket{(e^a\wedge e^b),(e^c\wedge e^d)}\Lambda^2\varepsilon_{abe}\varepsilon_{cdf}\eta^{ef}+$$
		$$-2i\Lambda \braket{R^e,e^b\wedge e^c}\varepsilon_{bce}$$
		Now, choosing as a coordinate base ${x^i}$ for $M$, one can show that:
		$$\star \alpha_Idx^I={\sqrt{|g|}\over (n-k)!k!}\alpha_{i_1...i_k}g^{i_1j_1}...g^{i_kj_k}\varepsilon_{j_1...j_k,i_{k+1}...i_n}dx^{i_{k+1}}\wedge...\wedge dx^{i_n}$$
		Automatically:
		$$\star R^a=\star{1\over 2} R^a_{\mu\nu}dx^\mu\wedge dx^\nu={\sqrt{|g|}\over 4}R^{a,\mu\nu}\varepsilon_{\mu\nu\alpha\beta}dx^\alpha\wedge dx^\beta$$
		The same holds for the torsion $T$ and for the remaining solder-depending terms. We find:
		$$\star T^a=\star{1\over 2} T^a_{\mu\nu}dx^\mu\wedge dx^\nu={\sqrt{|g|}\over 4}T^{a,\mu\nu}\varepsilon_{\mu\nu\alpha\beta}dx^\alpha\wedge dx^\beta$$
		$$\star e^a\wedge e^b=\star{1\over 2} e^a_{\mu} e^b_{\nu}dx^\mu\wedge dx^\nu={\sqrt{|g|}\over 4}e^{a,\mu} e^{b,\nu}\varepsilon_{\mu\nu\alpha\beta}dx^\alpha\wedge dx^\beta$$
		Putting everything together and recalling that for the volume form, from REFERENZA, we have $\varepsilon^{\rho\sigma\alpha\beta}{\omega\over \sqrt{|g|}}=dx^\rho\wedge dx^\sigma \wedge dx^\alpha\wedge dx^\beta$ we obtain:
		$$\braket{R^a,R_a}\omega={\sqrt{|g|}\over8}R_{a,\rho\sigma}R^{a,\mu\nu}\varepsilon_{\mu\nu\alpha\beta}dx^\rho\wedge dx^\sigma \wedge dx^\alpha\wedge dx^\beta={1\over8}R_{a,\rho\sigma}R^{a,\mu\nu}\varepsilon_{\mu\nu\alpha\beta}\varepsilon^{\rho\sigma\alpha\beta}\omega$$
		Moreover: $\varepsilon_{\mu\nu\alpha\beta}\varepsilon^{\rho\sigma\alpha\beta}=4(\delta^\rho_\mu \delta^\sigma_\nu-\delta^\rho_\nu \delta^\sigma_\mu)$ and so:
		$$\braket{R^a,R_a}\omega=R^a_{\mu\nu}R_a^{\mu\nu}\omega$$
		The same exact thing applies to the torsion term:
		$$\braket{T^a,T_a}\omega=T^a_{\mu\nu}T_a^{\mu\nu}\omega$$
		As for the coframe field-dependent terms:
		$$\braket{(e^a\wedge e^b),(e^c\wedge e^d)}\omega={\sqrt{|g|}\over 4}e^a_\rho e^b_\sigma e^{c,\mu} e^{d,\nu}\varepsilon_{\mu\nu\alpha\beta}dx^\rho\wedge dx^\sigma \wedge  dx^\alpha\wedge dx^\beta=$$
		$${1\over 4}e^a_\rho e^b_\sigma e^{c,\mu} e^{d,\nu}\varepsilon_{\mu\nu\alpha\beta}\varepsilon^{\rho\sigma\alpha\beta}\omega=(e^a_\mu e^b_\nu-e^a_\nu e^b_\mu) e^{c,\mu} e^{d,\nu}$$
		
		$$\braket{(e^a\wedge e^b),(e^c\wedge e^d)}\Lambda^2\varepsilon_{abe}\varepsilon_{cdf}\eta^{ef}=\Lambda^2(e^a_\mu e^b_\nu-e^a_\nu e^b_\mu) e^{c,\mu} e^{d,\nu}\varepsilon_{abe}\varepsilon_{cdf}\eta^{ef}$$
		To evalue this we need to go through a little bit of algebra. From REFERENZA, we have:
		$$\varepsilon_{abe}\varepsilon_{cdf}=\delta_{ac}(\delta_{bd}\delta_{ef}-\delta_{bf}\delta_{ed})-\delta_{ad}(\delta_{bc}\delta_{ef}-\delta_{bf}\delta_{ec})+\delta_{af}(\delta_{bc}\delta_{ed}-\delta_{bd}\delta_{ec})$$
		Now, contracting this with everything else we find:
		$$(e^a_\mu e^b_\nu-e^a_\nu e^b_\mu) e^{c,\mu} e^{d,\nu}\varepsilon_{abe}\varepsilon_{cdf}\eta^{ef}=2e^a_\mu e^b_\nu e^{c,\mu} e^{d,\nu}\varepsilon_{abe}\varepsilon_{cdf}\eta^{ef}=$$
		$$2\bigg\{
			e^a_\mu e_a^{\mu}(\eta^{ee}e^b_\nu e_b^{\nu}-\eta_{db}e^b_\nu e^{d,\nu})-e^a_\mu e_a^{\nu}(\eta^{ee}e^b_\nu e_b^{\mu}-\eta_{cb}e^b_\nu e^{c,\mu})+(e^a_\mu e_a^\nu e^b_\nu e^{b,\mu}-e^a_\mu e_a^\mu e^b_\nu e_b^\nu) \bigg\}=$$
		Since $\eta^{ee}$ is summed over, we get that it is 3, and so:
		$$=2e^a_\mu e^\mu_ae_\nu^b e^\nu_b-2e^a_\mu e^\nu_ae_\mu^b e^\nu_b$$
	\end{proof}
	\chapter{Spinors}
	In this chapter we study spinors. Our
	\section{Clifford Algebra}
	In this section we introduce the general notion of Clifford algebra generated by a vector space. We will look at the definitions and at some basic properties.
	\begin{Def}
		Let $V$ be an $n$-dimensional real vector space and $Q$ a quadratic form. We define the \textit{Clifford algebra} as the following quotient:
		$$Cl(V,Q)={T(V)\over I_{Q}}$$
		Where $I_{Q}$ is the ideal generated by all of the elements like:
		$$v\otimes v-Q(v)1$$
	\end{Def}
	\begin{Obs}
		Recall that, from linear algebra, to any quadratic form $Q$ we have associated a bilinear symmetric form like:
		$$\braket{v,w}={1\over 2}(Q(v+w)-Q(v)-Q(w))$$
	\end{Obs}
	\begin{Obs}
		Clearly, if the form is trivial i.e. $Q(v)=0$ always, $Cl(V,Q)=\bigwedge V$.
	\end{Obs}
	\begin{Obs}
		Suppose that $\{e_i\}$ is an orthogonal basis for the associated symmetric form. This automatically implies that:
		$$(e_i+e_j)\otimes(e_i+e_j)=Q(e_i+e_j)=2\braket{e_i,e_j}+Q(e_i)+Q(e_j)=$$
		$$=e_i\otimes e_i+e_j\otimes e_j+e_i\otimes e_j+ e_j\otimes e_i$$
		Now, from the definition, repeated elements like $e_i\otimes e_i$ cancel out with $Q(e_i)$, so that:
		$$e_i\otimes e_j+ e_j\otimes e_i=2\braket{e_i,e_j}=0$$
		This means that for an orthonormal base:
		$$e_i\otimes e_j=-e_j\otimes e_i$$ 
	\end{Obs}
	\begin{Obs}
		Clearly, by construction, the Clifford algebra is indeed an algebra and so:
		$$Cl(V,Q)=Cl^0(V,Q)\oplus Cl^1(V,Q)\oplus Cl^2(V,Q)\oplus...$$
		In particular, $Cl^0(V,Q)=\mathbb{R}$, $Cl^1(V,Q)=V$.
	\end{Obs}
	\begin{Def}
		We define $\mathfrak{spin}(V)=Cl^2(V,Q)$.
	\end{Def}
	\begin{Obs}
		Clearly $\mathfrak{spin}(V)$ has a natural commutator:
		$$[e_i\otimes e_j,]$$
	\end{Obs}
	\begin{Def}
		We dewfine the \textit{Pin group} $Pin(V)$ of a vector space as:
		$$Pin=\big\{ v_1\otimes...\otimes v_k\hbox{ with }Q(v_i)=1\big\}$$
		We define the \textit{Spin group} of the vector space $V$ as 
		$$Spin(V)=Pin(V)\cap Cl^{even}(V,Q)$$
		$$Spin(V)=\big\{v_i\otimes...\otimes v_{2k}\hbox{ like }Q(v_i)=1\big\}$$
	\end{Def}
	Those are obviously groups with the tensor product operation. The neutral element is $1$ the neutral element for the algebra of $V$. The inverse is given in the following way:
	$$v_1\otimes...\otimes v_k\mapsto v_k\otimes...\otimes v_1$$
	To see they are ainverses, choose an orthonormal basis for the form (it always exists if the form is non degenerate). Then:
	$$v_1\otimes...\otimes v_k=v_1^{i_1}...v_k^{i_k}e_{i_1}\otimes...\otimes e_{i_k}$$
	Now, taking the product, by associativity:
	$$(v_1\otimes...\otimes v_k)\otimes (v_k\otimes...\otimes v_1)=(v_1^{i_1})^2...(v_k^{i_k})^2e_{i_1}\otimes...\otimes e_{i_k}\otimes e_{i_k}\otimes...\otimes e_{i_1}$$
	Taking out the couples, i get always $Q(e_j)=1$ by choice of an orthonormal basis. So the result is:
	$$(v_1\otimes...\otimes v_k)\otimes (v_k\otimes...\otimes v_1)=(v_1^{i_1})^2...(v_k^{i_k})^2=1$$
	The $Spin$ and the $Pin$ group are clearly closed under this inversion.
	\begin{Obs}
		One can complecify those groups by taking the tensor product with $\mathbb{C}$. In particular we call the complexification: $Spin^c(V)$.
	\end{Obs}
	\begin{Theo}
		The Spin group is a Lie group.
	\end{Theo}
	\chapter{Jets}
	\section{First Jet bundle}
	\begin{Obs}
		Suppose to have a fiber bundle $(E,M,\pi,F)$ and a coordinate system for $U\subset M$ indexed like $x^i$. Locally, the fiber bundle can be expressed as $M\times F$. This means that, letting $v^a$ be some coordinates for $F$, we can define $x_E^i=x^i \circ \pi$ to be coordinates on $E$ constant on each fiber. We call the set $(x^i,v^a)$ an \textit{adapted coordinate system}.
	\end{Obs}
	\begin{Lm}
		Let $(E,M,\pi,F)$ be any fiber bundle and $\phi,\psi\in\Gamma(E)$ be two sections of the bundle $E$, defined in an open set around $p\in M$. If
		\begin{itemize}
			\item $\phi(p)=\psi(p)$ 
			\item For any coordinate systems $(x^i,u^a),(y^j,v^b)$ it holds:
			$${\partial(u^a\circ\phi) \over \partial{x^i}}\bigg|_p={\partial(u^a\circ\psi) \over \partial{x^i}}\bigg|_p$$
		\end{itemize} 
		Then it also holds:
		$${\partial(v^b\circ\phi) \over \partial{y^j}}\bigg|_p={\partial(v^b\circ\psi) \over \partial{y^j}}\bigg|_p$$
	\end{Lm}
	\begin{proof}
		From the chain rule REFERENZA we find:
		$${\partial(v^b\circ\phi) \over \partial{y^j}}\bigg|_p={\partial(v^b\circ\phi) \over \partial{x^i}}\bigg|_p{\partial x^i \over \partial{y^j}}\bigg|_p$$
		The first term can also be written as:
		$$d(v\circ \phi)_p(\partial_{x^i})=dv_{\phi(p)}\circ d\phi_p(\partial_{x^i})$$
		Clearly:
		$$d\phi_p={\partial \phi\over \partial{x^i}}\bigg|_p dx^i_p$$
		$$dv_{\phi(p)}={\partial v\over  \partial{x^i_E}}\bigg|_{\phi(p)} (dx^i_E)_{\phi(p)}+{\partial v\over \partial u^a}\bigg|_{\phi(p)} du^a_{\phi(p)}$$
		Putting everything together we get:
		$$d\phi_p(\partial_{x^j})=\partial_{x^j}\phi(p)$$
		AS for the second term, the first part can be simplified, since $\pi\circ \phi=\mathbb{I}$:
		$$dx^i_E=dx^i\circ d\pi\hbox{ so that }dx^i_E(d\phi)=dx^i$$
		$$dv_{\phi(p)}\partial_{x^j}\phi(p)=\partial_{x^j_E}v(\phi(p))+\partial_{u^a}v(\phi(p)) du^a_{\phi(p)}(\partial_{x^j})$$
		The second term is just the derivative of $u^a\circ \phi$, so that:
		$$dv_{\phi(p)}\partial_{x^j}\phi(p)=\partial_{x^j_E}v(\phi(p))+\partial_{u^a}v(\phi(p)) \partial_{x^j}(u^a\circ \phi)_p$$
		The result follows immediately in $p$.
	\end{proof}
	The previous lemma allows us to construct an equivalence relation between sectionsa of a fiber bundle. The general idea is: two sections are equivalent if they have the same derivatives. This should immediately ring a couples of bells: first of all, first order Taylor polynomials appear to be pointwise defined in this equivalence class. Moreover, seing sections as fields, LAGRANGIAN.
	\begin{Def}
		Let $(E,M,\pi,F)$ be any fiber bundle and $\phi,\psi\in\Gamma(E)$ be two sections of the bundle $E$, defined in an open set around $p\in M$. If
		\begin{itemize}
			\item $\phi(p)=\psi(p)$ 
			\item For any coordinate systems $(x^i,u^a),(y^j,v^b)$ it holds:
			$${\partial(u^a\circ\phi) \over \partial{x^i}}\bigg|_p={\partial(u^a\circ\psi) \over \partial{x^i}}\bigg|_p$$
		\end{itemize} 
		We say that the two sections are \textit{1-equivalent in $p$}. We call the equivalence class of $\phi\in\Gamma(E)$ at $p\in M$ as $j_p^1\phi$.
	\end{Def}
	Clearly, the above relation is an equivalence relation.
	\begin{Def}
		Let $(E,M,\pi,F)$ be any fiber bundle. We define the \textit{first order jet bundle of $E$ on $M$} as the set:
		$$J^1(E,M)=\{j^1_p\phi \hbox{ with }p\in M, \phi\in\Gamma(E)\}$$
	\end{Def}
	It is now bestowed upon us the infamous task to prove that this set is indeed a smooth manifold.
	\begin{Theo}
		The first order jet bundle is a smooth manifold.
	\end{Theo}
	To prove this theorem we need a little bit of work. The idea is the following:
	\begin{itemize}
		\item Prove that $J^1(E,M)$ has a smooth atlas;
		\item Prove that $J^1(E,M)$ is the total space of a bundle;
		\item Deduce from the previous properties the topologicla qualities of $J^1(E,M)$. 
	\end{itemize}
	As usual, the hardest part is the topology.
	\begin{Def}
		Let $J^1(E,M)$ be the first order Jet bundle. Then we define:
		\begin{itemize}
			\item The \textit{source projection}:
			$$
				\pi_{1}:J^1(E,M)\longrightarrow M $$
				$$
				\pi_1(j^1_p\phi)=p$$	
			\item The \textit{target projection}:
			$$
			\pi_{1,0}:J^1(E,M)\longrightarrow E $$
			$$
			\pi_{1,0}(j^1_p\phi)=\phi(p)$$		
		\end{itemize}
	\end{Def}
	\begin{Obs}
		Let $(E,M,\pi,F)$ be a fiber bundle and let $(U_E,x^i,u^a)$ be an adapted coordinate system on $U_E\subset E$. Then we have an induced coordinate system of $J^1(E,M)$ like:
		$$(U^1,x^i,u^a,u^a_i)$$
		where
		$$U^1=\{j^1_p\phi\in J^1(E,M)\hbox{ such that }\phi(p)\in U_E\} \hbox{ this is clearly open}$$
		$$x^i(j^1_p\phi)=x^i(p)\hspace{20 pt}u^a(j^1_p\phi)=u^a(\phi(p))\hspace{20 pt}u^a_i(j^1_p\phi)={\partial (u^a\circ \phi)\over \partial x^i}\bigg|_p$$
	\end{Obs}
	\begin{Prop}
		Given a first order jet bundle, the adapted coordinates make a $C^\infty$ atlas.
	\end{Prop}
	\begin{proof}
		Obvious.
	\end{proof}
	\begin{Prop}
		Let $E$ be a set, $M,F$ be manifolds. Let $\pi:E\rightarrow M$ be a map such that for any $p\in M$, $\pi^{-1}(p)$ is an $n$-dimensional manifold. Let then $\pi_1:M\times F\rightarrow M$ and $\pi_2:M\times F\rightarrow F$ be the standard projections. If for any $p\in M$ there is an open set $U\subset M$ and a bijection $\varphi:\pi^{-1}(U)\rightarrow U\times F$ such that:
		\begin{itemize}
			\item $\pi_1\circ \varphi=\pi\big|_{\pi^{-1}(U)}$;
			\item for any $q\in U$, $\pi_2\circ \varphi\big|_{\pi^{-1}(q)}:\pi^{-1}(q)\rightarrow F$ is a diffeomorphism.
		\end{itemize}
		Then $E$ can be given the structure of an $n$ dimensional manifold such that $(E,M,\pi,F)$ is a fiber bundle with $\varphi$ trivializations.
	\end{Prop}
	\begin{proof}
		As usual, the hardest part is the topological part. We will first prove that $E$ has a smooth structure. By hypothesis, let $\varphi_p\circ \varphi_q^{-1}:(U_p\cap U_q)\times F\rightarrow (U_p\cap U_q)\times F$ be the composition of two local trivializations. It is clear that, if $r\in (U_p\cap U_q)$:
		$$\varphi_p\circ \varphi_q^{-1}\bigg|_{r\times F}:F\longrightarrow F$$
		is a diffeomorphism from $F$ to itself. This means that composing this map with the projections we get:
		$$\pi_1\circ \varphi_p\circ \varphi_q^{-1}:(U_p\cap U_q)\times F\rightarrow (U_p\cap U_q)$$
		$$\pi_2\circ \varphi_p\circ \varphi_q^{-1}:(U_p\cap U_q)\times F\rightarrow F$$
		Which are both smooth. Thus, $\varphi_p\circ \varphi_q^{-1}$ is a diffeomorphism. This automatically implies that if we choose coordinates on $M,F$, we have a $C^\infty$ atlas on $E$. Now the topological properties:
		\begin{itemize}
			\item T2:\\
			\\
			Let $a,b\in E$. Suppose $\pi(a)=\pi(b)=p$. Then we can find a local trivializations:
			$$\varphi_p:\pi^{-1}(U)\rightarrow U\times F$$
			Since this is a diffeomorphism and $\pi_1\circ \varphi_p(a)=\pi_1\circ\varphi_p(b)$, it means tha, in order for the map to be invertible:
			$$\pi_2\circ \varphi_p(a)\neq \pi_2\circ \varphi_p(b)$$
			This means that there are two open sets $V_a,V_b\subset E$ separate in $E$.\\
			In instead $\pi(a)=p\neq \pi(b)=q$ then we can find two local trivializations:
			$$\varphi_p:\pi^{-1}(U_p)\rightarrow U_p\times F$$
			$$\varphi_q:\pi^{-1}(U_q)\rightarrow U_p\times F$$
			Those sets can then be choosen such that they do not intersecate.
			\item Second Countability:\\
			\\
			This follows immediately from the presence of local trivializations. In particular, since we can cover $M$ with a countable array of open sets $U_i$, we can find a countable array of open local trivializations such that they cover $E$.
		\end{itemize}
	\end{proof}
	\begin{proof}[proof of theorem REFERENZA\\\\]
		From the previous results, we just need to show that the projections $\pi_1,\pi_{1,0}$ are such that $\pi_1^{-1}(p),\pi^{-1}_{1,0}(e)$ are $n$-dimensional manifolds, and that we can find local trivializations for $E$ and $M$. By the regular level set theorem REFERENZA, it suffices to show that the projections are smooth surjective submersions.\\\\
		Let us look at $\pi_1$ clearly $\pi_1:J^1(E,M)\rightarrow M$ like $\pi_1(j^i_p\phi)=p$ is surjective. Moreover, by construction, choosing some adapted coordinates $x^i$ on $M$ and $(x^i,u^a,u^a_i)$ on $J^1(E,M)$, we find:
		$$x^i\circ \pi_1 \circ (x^i,u^a,u^a_i)^{-1}:\mathbb{R}^{m+n+mn}\rightarrow \mathbb{R}^n$$
		Where $dim(M)=n$ and $dim(E)=m+n$. The smoothness of this map follows from the fact that this is simply the projection of $\mathbb{R}^{m+n+mn}$ to $\mathbb{R}^n$. The same holds for $\pi_2$.\\
		\\
		Lastly, we need to find local trivializations. Consider any local trivialization $\varphi:E\rightarrow M\times F$, this is a diffeomorphism in some local patch. Let $Pr_F:M\times F\rightarrow F$ be the standard projection. We can define:
		$$\varphi_1:\pi_1^{-1}(U)\rightarrow U\times \mathbb{R}^{m+mn}$$
		$$\varphi_1(j^1_p\phi)=(p,[Pr_F\circ \varphi\circ\phi(p)],[d(Pr_F\circ \varphi\circ\phi)_p])$$
		Where $[Pr_F\circ \varphi\circ\phi(p)]$ is the equivalence class of sections having fiber value equal at $p$ and $[d(Pr_F\circ \varphi\circ\phi)_p]$ the equivalence class of differentials of sections being fiberwise equal at $p$. This is clearly a diffeomorphism. As for $\pi_2$, we have:
		$$\varphi_2:\pi_2^{-1}(U_E)\rightarrow U\times \mathbb{R}^{mn}$$
		$$\varphi_2(j_p^1\phi)=(\phi(p)=e,[d(Pr_F\circ \varphi\circ\phi)_p])$$
	\end{proof}
	\begin{Cor}
		Given any fiber bundle $(E,M,\pi,F)$, we have 2 vector bundles:
		$$(J^1(E,M),M,\pi_1,\mathbb{R}^{m+mn})\hbox{ and }(J^1(E,M),E,\pi_{1,0},\mathbb{R}^{mn})$$
		We have the following diagram:
		\begin{center}
			\begin{tikzcd}
				&&J^1(E,M)\arrow{dddll}{\pi_1} \arrow{dddrr}{\pi_{1,0}}&&\\\\\\
				M&& &&E\arrow{llll}{\pi}
			\end{tikzcd}
		\end{center}
	\end{Cor}
	\begin{Ex}
		Let $(\mathbb{R}\times F,\mathbb{R},\pi,F)$ be the trivial bundle on $\mathbb{R}$. A section of this bundle is any map $s:\mathbb{R}\rightarrow \mathbb{R}\times F$ such that $\pi\circ s=\mathbb{I}$.
		Then the first order jet bundle $J^1(\mathbb{R}\times F,\mathbb{R})$ is defined as:
		$$J^1(E,\mathbb{R})=\{j^1_xs\big|x\in\mathbb{R},s\in\Gamma(\mathbb{R}\times F)\}$$
		Now, since this bundle is trivial, we can find a global trivialization:
		$$\varphi\equiv \mathbb{I}_d:\mathbb{R}\times F\rightarrow \mathbb{R}\times F$$
		And so, if $s(x)=(x,f)$, the local trivializations for the source and target bundles are:
		$$\varphi_1(j^1_xs)=(x,[f],[df_x])$$
		$$\varphi_2(j^1_xs)=((x,f),[df_x])$$
	\end{Ex}
	\begin{Exe}
		Prove that the first order source and target jet bundles over a trivial bundle are always trivial.
	\end{Exe}
	\begin{proof}
		It suffices to find a global trivialization. Let $(E,M,\pi,F)$ be the trivial bundle. This means that $E=M\times F$. Pick a global section for this bundle:
		$$s:M\rightarrow M\times F\hbox{ like }s(p)=(p,f)$$
		Define the two global trivialziations as:
		$$\varphi_1(j^1_ps)=(x,[f(x)],[df_x])$$
		$$\varphi_2(j^1_ps)=((x,f(x)),[df_x])$$
		Those are clearly globally defined since the section is.
	\end{proof}
	\section{Jet prolongations and contact forms}
	\begin{Def}
		Let $(E,M,\pi,F)$ be any fiber bundle, $U\subset M$ an open set and $\phi\in\Gamma(\pi^{-1}(U))$ be a section. We call the \textit{first jet prolongation} of $\phi$ the section $j^1\phi\in\Gamma(J^1(E,M))$ such that:
		$$j^1\phi:U\rightarrow J^1(E,M)$$
		$$j^1\phi(p)=j^1_p\phi$$
	\end{Def}
	\begin{Obs}
		Clearly the first jet prolongation of any section is a section of $J^1(E,M)$ since:
		$$\pi_1\circ j^1\phi=\mathbb{I}$$
		Moreover, $\pi_{1,0}\circ j^1\phi(p)=\phi(p)$, or $\pi_{1,0}\circ j^1\phi=\phi$. This implies by definition:
		$$j^1(\pi_{1,0}\circ j^1\phi)=j^1\phi$$
	\end{Obs}
	\begin{Cor}
		If $\psi:U\subset M\rightarrow J^1(E,M)$ is a section, then there is $\phi:M\rightarrow E$ such that $\psi=j^1\phi$ if and only if $j^1(\pi_{1,0}\circ \phi)=\psi$.
	\end{Cor}
	\begin{Obs}
		We are now interested in finding aa coordinate representation for the first jet prolongation. Let $(x^i,u^a)$ be an adapted coordinate system. Then:
		$$u^a(j^1\phi(p))=u^a\circ \phi (p)$$
		$$u_i^a(j^1\phi(p))={\partial (u^a\circ \phi)\over \partial x^i}\bigg|_p$$
		Clearly, if $\psi:U\rightarrow J^1(E,M)$ is a section of the Jet bundle, then its fiber coordinates are:
		$$(u^a\circ \psi,\psi^a_i)$$
		In general, the second coordinates have nothing to do with the first ones. Instead for a Jet prolongation, there is a relation between the two:
		$$(u^a\circ \psi,{\partial (u^a\circ \psi)\over \partial x^i})$$
	\end{Obs}
	\begin{Obs}
		Let $(E,M,\pi,F)$ be a fiber bundle and let $J^1(E,M)$ be the first Jet bundle. We have a canonical target projection:
		$$\pi_{1,0}:J^1(E,M)\rightarrow E\hbox{ like } \pi_{1,0}(j^1_p\phi)=\phi(p)$$
		Of course there is the tangent bundle of the vector bundle $E$ like: $(TE,E,\pi_{TE},\mathbb{R}^k)$.
		The target projection is by definition continuous and thus can be used to define a pullback bundle (see REFERENZA):
		$$(\pi_{1,0}^*(TE),J^1(E,M),\pi_{JT},\mathbb{R}^{k})$$
		Recall that the set $\pi_{1,0}^*(TE)$ is defined as:
		$$\pi_{1,0}(TE)=\bigg\{(x_{TE},x_J)\in TE\times J^1(E,M)\bigg|\pi_{1,0}(x_j)=\pi_{TE}(x_E)\bigg\}$$
		In terms of diagrams:
		\begin{center}
			\begin{tikzcd}
				\pi_{1,0}^*(TE)\arrow{rr}{\pi_{JT}}&&J^1(E,M)\arrow{dd}{\pi_{1,0}}&&
				\\\\
				&&E&&TE\arrow{ll}{\pi_{TE}}
			\end{tikzcd}
		\end{center}
	\end{Obs}
	\begin{Def}
		Let $(E,M,\pi,F)$ be a fiber bundle and $X_p\in T_pM$, $p\in M$, let $\phi\in\Gamma(E)$ be a section around $p$. We define the \textit{holonomic lift of $X$ through $\phi$} as:
		$$(d\phi_p(X_p),j^1_p\phi)\in \pi_{1,0}^*(TE)$$
	\end{Def}
	\begin{Obs}
		In general, the holonomic lift of a vector is not dependent on the section, but of equivalence classes. In particular, the first term in the above couple only depends on the values of $\phi$ and its first derivatives at $p\in M$. Those informations are contained in $j^1_p\phi$.
	\end{Obs}
	\begin{Theo}
		There is a canonical decomposition of $\pi_{1,0}^*(TE)_{j^1_p\phi}$ like:
		$$\pi_{1,0}^*(TE)_{j^1_p\phi}=\pi_{1,0}^*(\mathcal{V}_E)_{j^1_p\phi}\oplus Holl(\phi)_p$$
		Where $Holl(\phi)_p$ is the collection of all holonomic lifts of all tangent vectors at $p$ through $\phi$. 
	\end{Theo}
	\begin{proof}
		Take a generic element of $\pi_{1,0}^*(TE)_{j^1_p\phi}$ like: 
		$$(\xi,j^1_p\phi)$$
		Clearly, by definitioin:
		$$(d\phi\circ d\pi(\xi),j^1_p\phi)\in Holl(\phi)_p$$
		Now, since $0=d\pi(\xi-d\phi\circ d\pi(\xi))$, we have that this vector is vertical in $TE$:
		$$(\xi-d\phi\circ d\pi(\xi),j^1_p\phi)\in \pi_{1,0}^*(\mathcal{V}_E)$$
		Now, consider the intersection:
		$$(\xi,j^1_p\phi)\in \pi_{1,0}^*(\mathcal{V}_E)_{j^1_p\phi}\cap Holl(\phi)_p$$
		Clearly, $d\pi(\xi)=0$ and $\xi=d\phi_p(X_p)$ for $X\in T_pM$. Autocamically, $X_p=d\pi\circ d\phi(X_p)=0$. This completes the proof.
	\end{proof}
	\begin{Obs}
		The last result implies that once we choose an equicalence class of sections $[j^1_p\phi]$ at a point $p$, there is an induced decomposition of the bundle $\pi_{1,0}(TE)_{j^1_p\phi}$. This is a canonical decomposition.
	\end{Obs}
	\begin{Exe}
		Let $X$ be a vector field in $M$ in a coordinate chart like:
		$$X_p=X^i_p\partial_{x_p^i}$$
		Find the coordinate representation of the holonomic lift in the adapted coordinates $(x^i,u^a)$.\\
		\\
		Take a section $\phi:U\rightarrow E$ with $p\in U\subset M$. The holonomic lift is by definition:
		$$(d\phi_p(X_p),j^1_p\phi)$$
		Computing the differential:
		$$d\phi_p(X_p)=X_p^id\phi_p(\partial_{x_p^i})$$
		Our induced coordinate system implies the following decomposition:
		$$d\phi={\partial (x^j\circ\phi)\over \partial x^i}dx^i\otimes {\partial \over \partial x^j}+{\partial (u^a\circ\phi) \over \partial u^a}du^a\otimes {\partial\over \partial u^a}$$
	    Applying this to the tangent vector basis and recalling that $x^i\circ \phi=x^i$, we find:
		$$d\phi\bigg({\partial\over \partial x^i}\bigg)={\partial \over \partial x^i}+{\partial (u^a\circ\phi) \over \partial x^i}{\partial\over \partial u^a}={\partial \over \partial x^i}+u^a_i(j^1\phi){\partial\over \partial u^a}$$
	\end{Exe}
	\begin{Def}
		An element $(\eta_p,j^1_p\phi)\in \pi_{1,0}(T^*E)$ is called \textit{contact cotangent form} if $\phi^*(\eta_p)=0$.
	\end{Def}
	THE DUAL IS THE SUM OF THE ANNIHILATORS\\\\
	\begin{Def}
		Any section $\mathcal{X}^h\in\Gamma(Holl(\phi)_p)$ is called \textit{total derivative}.
		This is a map:
		$$\mathcal{X}^h:J^1(E,M)\rightarrow Holl(\phi)_p$$
	\end{Def}
	Basically, we call total derivative a vector field a map that takes a vector in $J^1(E,M)$ and associates the holonomic lift.
	\begin{Ex}
		Prove that any vector field on $M$ corresponds to a total derivative.\\
		\\
		To see this, define:
		$$X^0_{j^1_p\phi}=d\phi_p(X_p)$$
		Then we have a clear total derivative:
		$$\mathcal{X}^h(j^1_p\phi)=(d\phi_p(X_p),j^1_p\phi)$$
	\end{Ex}
	\begin{Obs}
		Recall that if $\mathcal{X}^h$ is a total derivative, then in coordinates, since it is an holonomic lift, it is given by:
		$$\mathcal{X}^h(j^1\phi)={\partial\over \partial x^i}+u_i^a(j^1\phi){\partial\over \partial u^a}$$
		This means that a base for the vertical part is given by:
		$$\bigg\{{\partial\over\partial u^a_i}\bigg\}$$
	\end{Obs}
	\begin{Obs}
		A contact cotangent form is an element like: $(\eta_p,j^1_p\phi)\in \pi_{1,0}(T^*E)$ such that $\phi^*(\eta_p)=0$. Given the natural action of $\pi_{1,0}(T^*E)$ onto $\pi_{1,0}(TE)$ having fixed a base, we have:
		$$(\eta_p,j^1_p\phi)\cdot (\xi,j^1_p\phi)=\eta(\xi)$$
		This means that, since for an holonomic lift $\xi=d\phi(X)$, we have:
		$$\eta(\xi)=\eta(d\phi(\xi))=\phi^*\eta(\xi)=0$$
		The contact cotangent forms are the ones that annihilate the holonomic lifts i.e. the vertical directions. Knowing this, we can see that they have the following form:
		$$\eta_p=du^a-u^a_idx^i$$
	\end{Obs}
	\begin{Ex}
		Consider $J^1(E,M)$ as a bundle on $E$.
		Let $\nabla:\mathfrak{X}(E)\times \Gamma(J^1(E,M))\rightarrow \Gamma(J^1(E,M))$ be a connection on the first order jet bundle. Choosing a vector field $X\in\mathfrak{X}(E)$, we have a spin connection defined:
		$$\nabla(X):\Gamma(J^1(E,M))\rightarrow \Gamma(J^1(E,M))$$
		In particular, for any frame $\{n_i:U_E\subset E\rightarrow J^1(E,M)\}$ of sections of the first order jet bundle, we can write:
		$$\nabla(X)n_i=\omega^j_i(X)n_j$$
		Moreover, choosing a base for $E$ like $(x^i,u^a)$, we have that $X=X^i\partial_i+X^a\partial_a$,
	\end{Ex}
	\section{Second order Jets}
	The construction of second order jets is a straight up generalization of first order jets.
	\begin{Lm}
		Let $(E,M,\pi,F)$ be any fiber bundle and $\phi,\psi\in\Gamma(E)$ be two sections of the bundle $E$, defined in an open set around $p\in M$. If
		\begin{itemize}
			\item $\phi(p)=\psi(p)$ 
			\item For any coordinate systems $(x^i,u^a),(y^j,v^b)$ it holds:
			$${\partial(u^a\circ\phi) \over \partial{x^i}}\bigg|_p={\partial(u^a\circ\psi) \over \partial{x^i}}\bigg|_p$$
			$${\partial^2(u^a\circ\phi) \over \partial{x^i}\partial{x^j}}\bigg|_p={\partial^2(u^a\circ\psi) \over \partial{x^i}\partial{x^j}}\bigg|_p$$
		\end{itemize} 
		Then it also holds:
		$${\partial(v^b\circ\phi) \over \partial{y^j}}\bigg|_p={\partial(v^b\circ\psi) \over \partial{y^j}}\bigg|_p$$
		$${\partial^2(v^b\circ\phi) \over \partial{y^k}\partial{y^l}}\bigg|_p={\partial^2(v^b\circ\psi) \over \partial{y^k}\partial{y^l}}\bigg|_p$$
	\end{Lm}
	\begin{proof}
		The first assertion follows from REFERENZA. As for the second one, it is just a matter of calculations:
		$${\partial^2(v^b\circ\phi) \over \partial{y^k}\partial{y^l}}\bigg|_p={\partial\over \partial y^k}\bigg\{\bigg[{\partial v^b\over \partial{x^j}}\circ \phi+\bigg({\partial v^b\over \partial{u^a}}\circ \phi\bigg) {\partial(u^a\circ \phi)\over \partial{x^j}}\bigg]{\partial x^j\over  \partial y^l}\bigg\}=$$
		$$={\partial\over \partial x^i}\bigg\{\bigg[{\partial v^b\over \partial{x^j}}\circ \phi+\bigg({\partial v^b\over \partial{u^a}}\circ \phi\bigg) {\partial(u^a\circ \phi)\over \partial{x^j}}\bigg]{\partial x^j\over  \partial y^l}\bigg\}{\partial x^i\over \partial y^k}$$
		Since $\phi(p)=(x,u^a(x))$ we get:
		$${\partial\over \partial x^i}\bigg({\partial v^b\over \partial{x^j}}\circ \phi\bigg)=
		{\partial^2 v^b\over \partial{x^j}\partial x^i}+{\partial^2 v^b\over \partial{x^j}\partial u^a}{\partial u^a\over \partial x^i}$$
		$${\partial\over \partial x^i}\bigg({\partial v^b\over \partial{u^a}}\circ \phi\bigg)=
		{\partial^2 v^b\over \partial{u^a}\partial x^i}+{\partial^2 v^b\over \partial{u^a}\partial u^c}{\partial u^c\over \partial x^i}$$
		Since partial derivatives commute, we have:
		$${\partial^2 x^j\over \partial x^i\partial y^l}=0$$
		It immediately follows that:
		$${\partial^2(v^b\circ\phi) \over \partial{y^k}\partial{y^l}}={\partial\over \partial x^i}\bigg\{\bigg[{\partial^2 v^b\over \partial{x^j}\partial x^i}+{\partial^2 v^b\over \partial{x^j}\partial u^a}{\partial u^a\over \partial x^i}+\bigg({\partial^2 v^b\over \partial{u^a}\partial x^i}+{\partial^2 v^b\over \partial{u^a}\partial u^c}{\partial u^c\over \partial x^i}\bigg){\partial(u^a\circ \phi)\over \partial{x^j}}+$$$$+\bigg({\partial v^b\over \partial{u^a}}\circ \phi\bigg) {\partial^2(u^a\circ \phi)\over \partial{x^i}\partial{x^j}}\bigg]{\partial x^j\over  \partial y^l}\bigg\}{\partial x^i\over \partial y^k}$$
		Clearly, by substituting every $\phi$ with $\psi$ at $p$, the result follows.
	\end{proof}
	We proceed again with the usual construction:
	\begin{Def}
		Let $(E,M,\pi,F)$ be any fiber bundle and $\phi,\psi\in\Gamma(E)$ be two sections of the bundle $E$, defined in an open set around $p\in M$. If
		\begin{itemize}
			\item $\phi(p)=\psi(p)$ 
			\item For any coordinate systems $(x^i,u^a),(y^j,v^b)$ it holds:
			$${\partial(u^a\circ\phi) \over \partial{x^i}}\bigg|_p={\partial(u^a\circ\psi) \over \partial{x^i}}\bigg|_p$$
			$${\partial^2(u^a\circ\phi) \over \partial{x^i}\partial{x^j}}\bigg|_p={\partial^2(u^a\circ\psi) \over \partial{x^i}\partial{x^j}}\bigg|_p$$
		\end{itemize} 
		We say that the two sections are \textit{2-equivalent in $p$}. We call the equivalence class of $\phi\in\Gamma(E)$ at $p\in M$ as $j_p^2\phi$.
	\end{Def}
	Clearly, the above relation is an equivalence relation.
	\begin{Def}
		Let $(E,M,\pi,F)$ be any fiber bundle. We define the \textit{second order jet bundle of $E$ on $M$} as the set:
		$$J^2(E,M)=\{j^2_p\phi \hbox{ with }p\in M, \phi\in\Gamma(E)\}$$
	\end{Def}
	\begin{Theo}
		The second order jet bundle is a smooth manifold.
	\end{Theo}
	Just like we did for the first order jet bundle, we first of all need to show that we can find some smooth coordinates. Consider the adapted coordinates $(x^i,u^a)$ for $E$ in $U_E\subset E$. We define the following charts:
	$$\bigg(U^2,(x^i,u^a,u^a_i,u^a_{ij})\bigg)$$
	where: 
	$$U^2=\{j^2_p\phi\in J^2(E,M)\big|\phi(p)\in U_E\}$$
	Those are defined as follows:
	$$x^i(j^2_p\phi)=x^i(p)\hspace{10pt} u^a(j^2_p\phi)=u^a(\phi(p))\hspace{10pt}
	u^a_i(j^2_p\phi)=u^a_i(j^1_p\phi)$$
	AS for the last coordinate, it behaves as:
	$$u^a_{ij}(j^2_p\phi)={\partial^2 (u^a\circ \phi)\over \partial x^i \partial x^j}\bigg|_p$$
	\begin{Obs}
		Clearly, since partial derivatives commute, we have:
		$$u^a_{ij}=u^a_{ji}$$
	\end{Obs}
	\begin{Lm}
		The above coordinate system is smooth.
	\end{Lm}
	\begin{proof}
		This is obvious since the above lemmas REFERENZA prove that changing coordinates gives smooth transition functions.
	\end{proof}
	\begin{Obs}
		Just like in the first order case, we have some canonical projections:
		$$\pi_2:J^2(E,M)\longrightarrow M$$
		$$\pi_2(j^2_p\phi)=p$$
		This is called \textit{source projection.}
		$$\pi_{2,0}:J^2(E,M)\longrightarrow E$$
		$$\pi_{2,0}(j^2_p\phi)=\phi(p)$$
		This is called \textit{target projection.}
		$$\pi_{2,1}:J^2(E,M)\longrightarrow J^1(E,M)$$
		$$\pi_{2,1}(j^2_p\phi)=j^1_p\phi$$
		This is called \textit{1-jet projection.}
	\end{Obs}
	\begin{center}
		\begin{tikzcd}
			J^2(E,M)\arrow{dddd}{\pi_{2,1}}\arrow{ddrr}{\pi_{2,0}}\arrow{ddrrrr}{\pi_2}&&&&\\\\
			&&E\arrow{rr}{\pi}&&M\\\\
			J^1(E,M)\arrow{uurr}{\pi_{1,0}}\arrow{uurrrr}{\pi_1}&&&&
		\end{tikzcd}
	\end{center}
	To show that $J^2(E,M)$ can be given the structure of a smooth manifold, we need to use proposition REFERENZA as above. Thus:
	\begin{Lm}
		Let the notation be as above. The projections $\pi_2,\pi_{2,0},\pi_{2,1}$ are smooth and surjective.
	\end{Lm}
	\begin{proof}
		The smoothness is obvious for the source and the target. For the 1-jet projection instead, consider the coordinate system $(x^i,u^a)$ on $E$. This automatically induces a coordinate system both on $J^1(E,M)$ like $(x^i,u^a,u^a_i)$; and on $J^2(E,M)$ like $(x^i,u^a,u^a_i,u^a_{ij})$. This implies that:
		$$(x^i,u^a,u^a_i)\circ \pi_{2,1}\circ (x^i,u^a,u^a_i,u^a_{ij}):\mathbb{R}^{n+m+nm+{1\over 2}mn(m+1)}\rightarrow\mathbb{R}^{m+n+mn}$$
		is the standard projection which is smooth. The surjectivity is obvious.
	\end{proof}
	To complete the proof that $J^2(E,M)$ is a manifold we need local trivializations. We first of all construct them in coordinates. For the 1-jet projection we have:
	$$\varphi_{2,1}:\pi_{2,1}^{-1}(U^1)\longrightarrow U^1\times \mathbb{R}^{{1\over 2}mn(m+1)}$$
	$$\varphi_{2,1}(j^2_p\phi)=(j^1_p\phi,u^a_{ij}(j^2_p\phi))$$
	This is clearly smooth and invertible:
	$$(j^1_p\phi,z^a_{ij})\mapsto(j^2_p\phi)$$
	Basically we map the class $j^1_p\phi$ into the class $j^2_p\phi$ such that the second derivatives of $u^a\circ \phi$ are $z^a_{ij}$ at $p$. In particular, we define:
	$$u^a\circ\phi=u^a(\phi(p))+u^a_i(j^1_p\phi)(x^i-x^i(p))+{1\over 2}z_{ij}^a(x^i-x^i(p))(x^j-x^j(p))$$
	Clearly $z_{ij}^a=z^a_{ji}$ is symmetric. It is easy to see that this mapping respects all of the properties of proposition REFERENZA, as it is (in coordinates) merely a separation of the coordinates.\\
	\\
	This makes $J^2(E,M)$ a smooth manifold and a bundle on $J^1(E,M)$. 
	\begin{Theo}
		There exist the following vector bundles:
		$$(J^2(E,M),J^1(E,M),\pi_{2,1},\mathbb{R}^{{1\over 2}nm(m+1)})\hspace{10 pt}(J^2(E,M),E,\pi_{2,0},\mathbb{R}^{nm+{1\over 2}nm(m+1)})$$
		$$\hspace{10 pt}(J^2(E,M),M,\pi_{2},\mathbb{R}^{n+m+nm+{1\over 2}nm(m+1)})\hspace{10 pt}$$
	\end{Theo}
	\begin{proof}
		The firsst bundle was defined above. As for the other bundles, the local trivializations are the following: 
		\begin{itemize}
			\item $$\varphi_2:\pi_2^{-1}(U_E)\longrightarrow U_E\times \mathbb{R}^{mn+{1\over 2}(m+1)mn}$$
			$$\varphi_2(j^2_p\phi)=(\phi(p),u_i^a(\phi(p)),u_{ij}^a(\phi(p)))$$
			\item 
			$$\varphi_{2,0}:\pi_{2,0}^{-1}(U_E)\longrightarrow U\times \mathbb{R}^{n+m+mn+{1\over 2}(m+1)mn}$$
			$$\varphi_{2,0}(j^2_p\phi)=(x^i(p),u^a\circ \phi(p),u_i^a(\phi(p)),u_{ij}^a(\phi(p)))$$		
		\end{itemize}
		Checking that those are smooth and ivertible is literally done as above; you define the inverse through the Taylor expansion.
	\end{proof}
	\section{Lagrangian and Cartan form}
	\section{Higher order jets}
	In this section we will generalize the construction of the jet bundle. The idea is to recover all of the Taylor coefficients of the expansion of a section. To achieve the following analysis, we need to construct a new notation, which will allow us to compute derivatives in a clearer way.
	\subsection{Multi-Index notation}
	\begin{Def}
		We call \textit{multi-index} a $n$-tuple of natural numbers $I=(I(1),...,I(n))$. Each element of $I$ is indexed with $I(j)$ with $j\in [1,n]$. We define the \textit{length} of $I$ as $|I|=\sum_i I(i)$. Lastly, we define the \textit{factorial} of a multi-index as:
		$$I!=\sum_{i}I(i)!$$
	\end{Def}
	\begin{Obs}
		Clearly, a basis for the above multi-indices is:
		$$1_i(j)=\begin{cases}
			1 \hbox{ if } i=j\\
			0 \hbox{ otherwise}
		\end{cases}$$
	\end{Obs}
	\begin{Def}
		We define the following notation:
		$${\partial^{|I|}\over \partial x^I}=\prod_{i=1}^n\bigg({\partial \over \partial x^i}\bigg)^{I(i)}$$
	\end{Def}
	\begin{Exe}
		Prove that:
		$${\partial^{|I|}(fg)\over \partial x^I}=\sum_{J+K=I} {I!\over J!K!}{\partial^{|J|}f\over \partial x^J}{\partial^{|K|}g\over \partial x^K}$$
		Use induction.\\
		\\
		The result is trivial for $|I|=0$. Suppose now that this holds for $|I|=n$. Then, from the Leibniz rule, we have:
		$${\partial^{|I|+1}(fg)\over \partial x^{I+1_i}}=\sum_{J+K=I} {I!\over J!K!}\bigg[{\partial^{|J|+1}f\over \partial x^{J+1_i}}{\partial^{|K|}g\over \partial x^{K}}+{\partial^{|J|}f\over \partial x^{J}}{\partial^{|K|+1}g\over \partial x^{K+1_i}}\bigg]$$
		Now we rescale the above indices alternatively: 
		$$J\mapsto J-1_i\hbox{ and }K\mapsto K-1_i$$
		$${\partial^{|I|+1}(fg)\over \partial x^{I+1_i}}=\sum_{J+K=I+1_i} {I!\over (J-1_i)!K!}{\partial^{|J|}f\over \partial x^{J}}{\partial^{|K|}g\over \partial x^{K}}+\sum_{J+K=I+1_i}{I!\over J!(K-1_i)!}{\partial^{|J|}f\over \partial x^{J}}{\partial^{|K|}g\over \partial x^{K}}$$
		Clearly we also have the following:
		$${I!\over (J-1_i)!K!}+{I!\over J!(K-1_i)!}={I!\over (J-1_i)!(K-1_i)!}\bigg({1\over J(i)}+{1\over K(i)}\bigg)$$
		$$={I!\over (J-1_i)!(K-1_i)!}\bigg({J(i)+K(i)\over J(i)K(i)}\bigg)={I!(I(i)+1)\over (J-1_i)!(K-1_i)!(J(i)K(i))}=$$
		$$={(I+1_i)!\over J!K!}$$
		This concludes the exercise.
	\end{Exe}
	The following construction is a straight up generalization of the 1-jet bundle one.
	\begin{Lm}
		Let $(E,M,\pi,F)$ be a bundle and $\phi,\psi:U\rightarrow E$ be sections around $p\in U\subset M$. Then if we have two coordinate systems $(x^i,u^a),(y^j,v^b)$ and:
		\begin{itemize}
			\item $\phi(p)=\psi(p)$;
			\item for every multi-index $I$ with $1\leq |I|\leq k$
			$${\partial^{|I|} (u^a\circ \phi)\over \partial x^I}\bigg|_p={\partial^{|I|} (u^a\circ \psi)\over \partial x^I}\bigg|_p$$
		\end{itemize}
		Then it is also true that for every multi-index $J$ with $1\leq |J|\leq k$
		$${\partial^{|J|} (v^b\circ \phi)\over \partial y^J}\bigg|_p={\partial^{|J|} (v^a\circ \psi)\over \partial x^J}\bigg|_p$$
	\end{Lm}
	\begin{proof}
		We go by induction. If $|I|=0$ the proof is trivial. Now, suppose that for $|I|=n$ it holds:
		$${\partial^{|J|}(v^b\circ \phi)\over \partial y^J }=F^b_J\circ(x^k,{\partial^{|K|} (u^a\circ \phi)\over \partial x^K})$$
		with $0\leq |K|\leq |J|$ and $F^b_J$ does not depend on the choice of the section $\phi$. Then:
		$${\partial^{|J|+1}(v^b\circ \phi)\over \partial y^{J+1_j} }={\partial x^i\over \partial y^j}\bigg({\partial F^b_J\over \partial x^i}\circ\bigg(x^k,{\partial^{|K|} (u^a\circ \phi)\over \partial x^K}\bigg)+\sum_{|L|=0}^{|J|}{\partial^{|L|+1}(u^c\circ \phi)\over \partial x^{L+1_i}} F^{bL}_{Jc}\circ\bigg(x^k,{\partial^{|K|} (u^a\circ \phi)\over \partial x^K}\bigg)\bigg)$$
		Where $F^{bL}_{Jc}$ is the derivative of $F^b_J$ with respect to the coordinate ${\partial^{|L|}(u^c\circ \phi)\over \partial x^{L}}$. Clearly we can write:
		$${\partial^{|J|+1}(v^b\circ \phi)\over \partial y^{J+1_j} }=F^b_{J+1_i}\circ \bigg(x^k,{\partial^{|K|} (u^a\circ \phi)\over \partial x^K}\bigg)$$
		This completes the proof.
	\end{proof}
	\begin{Def}
		We define two local sections $\phi,\psi$ to be $k$-equivalent in $p$ if in any coordinate frame $(x^i,u^a)$:
		\begin{itemize}
			\item $\phi(p)=\psi(p)$;
			\item $${\partial^{|I|} (u^a\circ \phi)\over \partial x^I}\bigg|_p={\partial^{|I|} (u^a\circ \psi)\over \partial x^I}\bigg|_p$$
			for any multi-index $0\leq |I|\leq k$.
		\end{itemize}
		We call the equivalence class of such sections $j^k_p\phi.$
	\end{Def}
	\begin{Def}
		We define the \textit{$k^{th}$ order Jet bundle} as the set:
		$$J^k(E,M)=\bigg\{j^k_p\phi \hbox{ with } \phi:U\rightarrow E\bigg\}$$
	\end{Def}
	It is now once again bestowed on us the problem of showing that the $k^{th}$ order jet bundle is a smooth manifold. Just like we did before, we do this through the bundle construction.
	\begin{Obs}
		There are $k+1$ natural projections:
		\begin{itemize}
			\item[a] The \textit{source projection}:
			$$\pi_{k}:J^K(E,M)\longrightarrow M$$
			$$\pi_k(j^k_p\phi)=p$$
			\item[b] The \textit{target projection}:
			$$\pi_{k,0}:J^K(E,M)\longrightarrow E$$
			$$\pi_k(j^k_p\phi)=\phi(p)$$
			\item[c] The \textit{$l$-jet projection}:
			$$\pi_{k,l}:J^K(E,M)\longrightarrow J^l(E,M)$$
			$$\pi_k(j^k_p\phi)=j^l_p\phi$$
			With $l\leq k$.
		\end{itemize}
		The following commutative diagram is quite useful:
		\begin{center}
			\begin{tikzcd}
				&&&&&&J^k(E,M)\arrow{dd}{\pi_{k,k-1}}\arrow{ddddrrrrrr}{\pi_{k,0}}\arrow{ddddllllll}{\pi_k}&&&&&&\\\\
				&&&&&&J^{k-1}(E,M)\arrow{dd}{\pi_{k-1,k-2}}\arrow{ddrrrrrr}{\pi_{k-1,0}}\arrow{ddllllll}{\pi_{k-1}}&&&&&&\\\\
				M&&&&&&...&&&&&&E\\\\
				&&&&&&J^2(E,M)\arrow{dd}{\pi_{2,1}}\arrow{uurrrrrr}{\pi_{2,0}}\arrow{uullllll}{\pi_{2}}&&&&&&\\\\
				&&&&&&J^1(E,M)\arrow{uuuurrrrrr}{\pi_{1,0}}\arrow{uuuullllll}{\pi_{1}}&&&&&&\\\\
			\end{tikzcd}
		\end{center}
	\end{Obs}
	\begin{Obs}
		Once a coordinate system is selected on the initial bundle $E$, like $(U_E,(x^i,u^a))$, there is an induced coordinate system on $J^k(E,M)$ oike follows:
		$$U^k=\big\{j^k_p\phi\big|\phi(p)\in U_E\big\}$$
		$$(x^i,u^a,u^a_I)(j^k_p\phi)=\bigg(x^i(p),u^a(\phi(p)),{\partial^{|I|}(u^a\circ \phi)\over \partial x^I}\bigg|_p\bigg)$$
		Clearly, it is intended that such functions $u^a_I$ are a family of functions. In particular, if $m$ is the dimension of $F$ the fiber of the bundle $E\rightarrow M$ (it is the number of indices of $u^a$), there are:
		$$m\bigg({n+k\choose k}-1\bigg)$$
		such functions.
	\end{Obs}
	\begin{Prop}
		Let the notation be as above. Then the induced coordinate system is smooth.
	\end{Prop}
	\begin{proof}
		The proof is obvious from lemma REFERENZA.
	\end{proof}
	To show that the $k^{th}$ order jet bundle satisfies the topological properties of a manifold we go on to work with the projections.
	\begin{Prop}
		The map $\pi_{k,k-1}:J^k(E,M)\longrightarrow J^{k-1}(E,M)$ is a smooth surjective projection.
	\end{Prop}
	\begin{proof}
		The proof is easy. The idea is to show that if we compose this with the coordinate charts we get back the regular projection on $\mathbb{R}^h$.
		Let $(x^i,u^a)$ be a coordinate frame on $E$. This induces a coordinate frame both on $J^k$, called $u^k$ and on $J^{k-1}$, called $u^{k-1}$. Thus:
		$$u^{k-1}\circ \pi\circ (u^k)^{-1}(x^i,u^a,u^a_I)=(x^i,u^a,u^a_J)$$
		where $J$ is the multi-index we got from $I$ by removing all of the $k$-order derivatives.
	\end{proof}
	\begin{Cor}
		The $l$-jets projections are all smooth and surjective.
	\end{Cor}
	\begin{proof}
		This follows from the previous demonstration due to the fact that $\pi_{k,m}=\pi_{l,k}\circ \pi_{k,l}$ by construction.
	\end{proof}
	The last ingredients are the local trivializations. Those are obvious in terms of Taylor Polynomials.\\
	\\
	Considering $J^k(E,M)$ as a bundle on $J^{l}(E,M)$ we have the following trivialization:
	$$\varphi_{k,l}:\pi^{-1}_{k,l}(U^{l})\longrightarrow U^{l}\times\mathbb{R}^{N}$$
	where $N=n\sum_{r=l+1}^{k}{n+r-1\choose r}$. Define:
	$$\varphi_{k,l}(j^k_p\phi)=(j^l_p\phi,u^a_I(j^k_p\phi))$$
	This map is clearly smooth in coordinates as it is just the composition of the identity with the coordinate chart. As for the inverse, consider:
	$$(j^l_p\phi,z^a_I)\in U^{l}\times\mathbb{R}^{N}$$
	The last coordinates can be used to completely define the taylor expansion of the section $\phi$. In particular, define:
	$$\psi=u^a\circ \phi(p)+{\partial (u^a\circ \phi)\over \partial x^i}(x^i-x^i(p))+...$$
	Up to the last multi-index of order $k$. Now, clearly, the inverse map will take the derivatives term from $l+1$ to $k$ and name them $u^a_I(j^k_p\phi)$. This completely defines the inverse trivialization in a smooth way. This completes the proof.\\
	\\
	The other trivializations for the descending bundles are defined in the same way.
	\section{The general contact structure}
		\begin{Def}
			Let $(E,M,\pi,F)$ be a fiber bundle and $\phi\in\Gamma(E)$ a section around $p\in M$. We define the \textit{$k^th$-jet prolongation} of $\phi$ as:
			$$j^k\phi:U\rightarrow J^k(E,M)\hbox{ like }j^k\phi(p)=j^k_p\phi$$ 
		\end{Def}
		Clearly, the jet prolongation is a section since $\pi_k\circ j^k\phi=\mathbb{I}$ is the identity. This means that in local coordinates, the jet prolongation is given by:
		$$j^k\phi=(u^a\circ \phi,u^a_I\circ \phi)$$
		\begin{Obs}
			Consider the trivial bundle $M\times \mathbb{R}$ over $\mathbb{R}$. It is clear that sections of this bundle are in 1-1 with smooth maps:
			$$s_f(x)=(x,f(x))$$
			Thus, the $k^{th}$-jet prolongation of this section is:
			$$j^ks_f:U\rightarrow J^k(M\times \mathbb{R},M)\hbox{ like }j^ks_f(x)=j^k_xs$$
			This is the equivalence class of all functions (sections) that have same derivatives up to order $k$.
		\end{Obs}
		\begin{Def}
			Let $(E,M,\pi,F)$ be a fiber bundle and $\phi\in\Gamma(E)$ a section around $p\in M$ and $X_p\in T_pM$. We define the \textit{$k^{th}$-order holonomic lift of $X_p$ through $\phi$} as:
			$$(j^k\phi_*(X_p),j^{k+1}_p(\phi))\in\pi_{k+1,k}(TJ^k(E,M))$$ 
		\end{Def}
		This definition is a lot to take in. Let us dissect it. First of all, the $k^{th}$ holonomic lift is an element of the pullback bundle through $\pi$. In particular, from REFERENZA, we have the following ingredients for the construction:
		\begin{itemize}
			\item $(TJ^k(E,M),J^k(E,M),\pi_{J^k},\mathbb{R}^N)$ the tangent bundle of the $k^{th}$-order jet bundle, which is a vector bundle of dimension $N$;
			\item a map $\pi_{k+1,k}:J^{k+1}(E,M)\rightarrow J^k(E,M)$ which is the $k$-jet projection. 
		\end{itemize}
		This means there is a bundle:
		$$(\pi_{k+1,k}^*(TJ^k(E,M)),J^{k+1}(E,M),\pi_{\pi_{k+1,k}^*},\mathbb{R}^N)$$
		The fiber of this bundle is the same of the bundle on $J^k(E,M)$.\\
		\\
		By definition, an element of this new bundle is a couple:
		$$(X_{j^k_p\phi},j^{k+1}_p\phi)$$
		An element of $J^{k+1}(E,M)$ and an element of the bundle on $J^k(E,M)$; such that $\pi_{k+1,k}(j^{k+1}_p\phi)=\pi_{TJ^k}(X_{j^k_p\phi})$. This is the case since:
		$$\pi_{k+1,k}(j^{k+1}_p\phi)=j^k_p\phi$$
		Moreover, $X_{j^k_p\phi}$ is a vector at $j^k_p\phi$, so that:
		$$\pi_{TJ^k}(X_{j^k_p\phi})=j^k_p\phi$$
		This settles the definition.
		\begin{Obs}
			It is obvious (almost) that the holonomic lift does not depend on the representative selected $\phi$. If in fact we take another element of the class $j^{k+1}_p\phi$ like $\psi$ we would have the same informations about the derivatives of $\phi$, since they equal the ones of $\psi$.
		\end{Obs}
		This construction seems unnecessarily complicated. It would be, if it wasn't for the following theorem:
		\begin{Theo}
			There is a canonical decomposition of the above defined space $\pi_{k+1,k}^*(TJ^k(E,M))_{j^{k+1}_p\phi}$ at any point, like:
			$$\pi_{k+1,k}^*(TJ^k(E,M))_{j^{k+1}_p\phi}=\pi_{k+1,k}^*(\mathcal{V}_{TJ^k})_{j^{k+1}_p\phi}\oplus Holl_p^k(\phi)$$
			Where $Hol_p^k(\phi)$ is the collection of the $k^{th}$-holonomic lifts at $p$ through $\phi$ of $T_pM$.
		\end{Theo}
		\begin{proof}
			Take any element of $\pi_{k+1,k}^*(TJ^k(E,M))_{j^{k+1}_p\phi}$ like $(\chi_{j^{k}_p\phi},j^{k+1}_p\phi)$. Clearly, by definition, we have:
			$$d\pi_k:TJ^k(E,M)\rightarrow TM$$
			This means that, since $\chi_{j^{k+1}_p\phi}$ is in $T_{j^k_p\phi}J^k(E,M)$, we have that:
			$$d\pi_k(\chi_{j^{k}_p\phi}) \hbox{ is an element of }T_pM$$
			Clearly:
			$$j^k\phi_*\circ d\pi_k(\chi_{j^{k}_p\phi})\hbox{ is an holonomic lift}$$
			Thus, we write:
			$$(j^k\phi_*\circ d\pi_k(\chi_{j^{k}_p\phi}),j^{k+1}_p\phi)\in Holl_p^k(\phi)$$
			Furthermore, since $j^k\phi$ is a section of the bundle $J^k(E,M)$ onto $M$, we must have that it annihilates the projection:
			$$d\pi_k(j^k\phi_*\circ d\pi_k)(\chi_{j^{k}_p\phi})=d\pi_k(\chi_{j^{k}_p\phi})$$
			This automatically implies:
			$$d\pi_k(\chi_{j^{k}_p\phi}-j^k\phi_*\circ d\pi_k)(\chi_{j^{k}_p\phi})=0$$
			It follows that elements such as:
			$$(\chi_{j^{k}_p\phi}-j^k\phi_*\circ d\pi_k(\chi_{j^{k}_p\phi}),j^{k+1}_p\phi)$$
			belong to the space $\pi_{k+1,k}^*(\mathcal{V}_{TJ^k})_{j^{k+1}_p\phi}$. This is clear. Now we check the intersections: suppose to take an element which lives both in $\pi_{k+1,k}^*(\mathcal{V}_{TJ^k})_{j^{k+1}_p\phi}$ and in $Holl_p^k(\phi)$. Then we must have, from the belongings of the vertical space, that:
			$$d\pi_k(\chi_{j^{k}_p\phi})=0$$
			From the other space we inherit instead the fact that $\chi_{j^{k}_p\phi}=j^k\phi(X_p)$ is an holonomic lift. Due to the annihilation properites of sections we find:
			$$d\pi_k( \chi_{j^{k}_p\phi})=d\pi_k\circ j^k\phi(X_p)=X_p=0$$
			This completes the proof.
		\end{proof}
		\begin{Cor}
			There is a canonical splitting of the above bundle:
			$$\pi_{k+1,k}^*(TJ^k(E,M))=\pi_{k+1,k}^*(\mathcal{V}_{TJ^k})\oplus Holl^k$$
		\end{Cor}
		\begin{proof}
			The proof amounts to showing that the splitting is smooth. Consider some adapted coordinates on $E$ like $(x^i,u^a)$. Those induce as seen some coordinates in every possible jet. Now, we define the \textit{total derivative} vector fields:
			$$D_i:J^{k+1}(E,M)\rightarrow Holl^k$$
			$$D_i={\partial \over \partial x^i}+\sum_{|J|=0}^ku^a_{i,J}{\partial \over \partial u^a_J}$$
			where $$u^a_{i,I}(j^{k+1}_\phi)={\partial u^a_I\circ \phi\over \partial x^i}$$.
			This is clearly a base of the horizontal vector fields i.e. the holonomic lifts. In fact:
			$$j^k\phi_*\bigg({\partial\over \partial x^i}\bigg|_p\bigg)={\partial \over \partial x^i}\bigg|_{j^k_p\phi}+\sum_{|J|=0}^k{\partial u^a_I\circ \phi\over \partial x^i}\bigg|_p{\partial \over \partial u^a_J}\bigg|_{j^k_p\phi}$$
			This proves the $Holl^k$ horizontal distribution is smooth since we have found a smooth local base. 
		\end{proof}
		\begin{Def}
			An element $(\eta,j_p^{k+1}\phi)\in \pi_{k+1,k}^*(TJ^k(E,M)^*)$ is called \textit{contact cotangent vector} if:
			$$j^k\phi^*(\eta)=0$$
		\end{Def}
		What does this mean? Well, to put it simply, the contact vectors are the ones that annihilate holonomic lifts. In fact it is not hard to check:
		$$\eta(j^k\phi_*(X))=j^k\phi^*(\eta)(X)=0$$
		\begin{Exe}
			Show the form in coordinates of contact cotangent vectors.\\
			\\
			We simply apply the definition of the annihilation property, with the basis of the total derivatives found above:
			$$\eta=\eta_idx^i+\eta_a^Idu^a_I$$
			$$\eta(D_j)=0=\eta_i\delta^i_j+\sum_{|J|=0}^k\eta_a^I\delta_I^J\delta^a_b u^a_{j,J}=0$$
			This gives:
			$$\eta=\sum_{|I|=0}^k\eta_a^I(du^a_I- u^a_{i,I}dx^i)$$
		\end{Exe}
		\begin{Theo}
			There is a splitting of the dual bundle $\pi_{k+1,k}(T^*J^k(E,M))$ into:
			$$\pi_{k+1,k}(T^*J^k(E,M))=BLABLA ANNICHILATORI$$
		\end{Theo}
		\begin{proof}
			This is clear from the annihilators properties.
		\end{proof}
		\begin{Obs}
			Clearly, each vector field on $M$ corresponds to a total derivative: its holonomic lift.
		\end{Obs}
		\begin{Obs}
			Let $X\in\mathfrak{X}(M)$ be a vector field and $f\in C^\infty(J^k(E,M))$ be a smooth map. Then there is a natural derivation operator:
			$$d^k_X:C^\infty_p(J^k(E,M))\rightarrow\mathbb{R}$$
			$$d^k_X(f)(j^{k+1}_p\phi)=j^k\phi_*(X_p(f))$$
			This respects the Leibniz rule since the vector field do.
		\end{Obs}
		\begin{Def}
			We call \textit{generalized vector field} a section of the bundle $\pi_{k+1,k}^*(\mathcal{V}_{TJ^k})$ on $J^k(E,M)$.
		\end{Def}
		\begin{Obs}
			Clearly, due to the coordinate representation of the holonomic lift, a vertical vector field is expressed in cooridnates as:
			$$X=X^a{\partial\over \partial u^a}$$
		\end{Obs}
		\section{Lagrangians}
		In this section we finally define what is a lagrangian, using the language of jet bundles.
		\begin{Def}
			We call \textit{$k^{th}$ order Lagrangian density} a map:
			$$\mathcal{L}\in C^\infty(J^k(E,M))$$
			If $\Omega$ is the volume form of $M$, the full lagrangian is: BOH  
		\end{Def}
		\begin{Def}
			We call a section $\phi\in\Gamma(E)$ an extremal of the lagrangian density if:
			$${d\over dt}\bigg|_0\int_C(j^k(\psi^t\circ \phi))^*\mathcal{L}\Omega=0$$
			Where $C$ is a compact $m$-dimensional sumbmanifold of $M$, $\psi^t$ is the flow of a vertical vector field $X\in\mathcal{V}_E$ such that $X\big|_{\pi^{-1}\partial C}=0$.
		\end{Def}
		\begin{Obs}
			Recall that the flow $\psi^t$ of a vector field $X$, inside an open set $U$ is defined as the map:
			$$\psi^t:U\rightarrow M$$
			$${\partial\over \partial t}\psi^t(p)=X_{\psi^t(p)}$$
			In our case, $\psi^t$ is a flow for a vertical vector $X$ on $TE$.
		\end{Obs}
		\begin{Obs}
			The notation $j^k(\psi^t\circ \phi)$ is dangerous, since we have defined $j^k\phi:M\rightarrow J^k(E,M)$ not only to be a section, but to also take as an input a section. However, while $\phi$ is indeed a section of $E$ on $M$, $\psi:E\rightarrow E$, while $\psi^t:E\rightarrow E$ is a flux i.e. a diffeomorphism. Moreover, the field $X$ is vertical. This means that: $d\pi(X)=0$ so that:
			$${d\over dt}\pi(\psi^t)=0$$
			This implies that for any $t$, the projection is constant along the flux:
			$$\pi\circ\psi\circ \phi=\pi\circ\psi=\mathbb{I} $$
			So indeed the notation $j^k(\psi\circ\phi)$ is well defined.
		\end{Obs}
		\begin{Theo}
			The local section $\phi$ is an extremal for a lagrangian density for $\mathcal{L}$ if and only if:
			$$0=\int_C j^k\phi^* d^k_{X}\mathcal{L}\Omega$$
		\end{Theo}
		\begin{proof}
			The proof is one of the most magical result i have ever came accross in mathematics. It is truly beautiful and astonishing, as it doe snot make any sense whatsoever. Consider:
			$$\partial_t\big|_0(\mathcal{L}(j^k(\psi^t\circ \phi)))=dL(j^k(\psi^0\circ \phi))\partial_t(j^k(\psi^t\circ \phi))\big|_0$$
			This was just the definition of differential. Now, we have that $\psi^0=\mathbb{I}$ is the identity. This implies:
			$$\partial_t\big|_0(\mathcal{L}(j^k(\psi^t\circ \phi)))=\partial_t(j^k(\psi^t\circ \phi))\big|_0L(j^k(\phi))$$
			Repeat with the chain rule:
			$$\partial_t(j^k(\psi^t\circ \phi))\big|_0=\partial_t(\psi^t\circ \phi)\big|_0j^k(\phi)$$
			Now, $\partial_t(\psi^t\circ \phi)\big|_0=X$ is the vector tangent in $0$. This means:
			$$\partial_t\big|_0(\mathcal{L}(j^k(\psi^t\circ \phi)))=X(j^k\phi)(\mathcal{L}(j^k\phi))$$
			Now, $X$ is a vector field on $E$, so that: 
			$$X(j^k\phi)(\mathcal{L}(j^k\phi))=dj^k\phi(X)(\mathcal{L}(j^k\phi))=j^k\phi^*d_X^k\mathcal{L}$$
			This does not make any sense in terms of compositions of maps, naively.
			Now, taking outside the derivation, the only term that depends on $t$ is the flow. However, by hypothesis, the boundary term on $\partial C$ vanishes, so that:
			$$\int_C j^k\phi^* d^k_{X}\mathcal{L}\Omega=\int_C{\partial\over \partial t}\bigg|_0(j^k(\psi^t\circ \phi))^*\mathcal{L}\Omega={d\over dt}\bigg|_0\int_C(j^k(\psi^t\circ \phi))^*\mathcal{L}\Omega$$
		\end{proof}
		\section{Derivations}
		This small section is devoted to the definition of yet again some derivations on fiber bundles. We will study some of their properties and make some examples.
		\begin{Def}
			Let $(E,M,\pi,F)$ be any fiber bundle over $M$. We call \textit{derivation along $\pi$ of degree $n$} a map $D:\bigwedge M\rightarrow \bigwedge E$ such that:
			\begin{itemize}
				\item $D$ is $\mathbb{R}$-linear;
				\item if $\omega\in\bigwedge^k M$ then $D\omega\in \bigwedge^{n+k}E$;
				\item the following holds:
				$$D(\omega\wedge \theta)=D\omega\wedge \pi^*\theta+(-)^{n\cdot deg(\omega)}\pi^*\omega\wedge D\theta$$
			\end{itemize}
		\end{Def}
		\begin{Def}
			A derivation $D$ along $\pi$ is called \textit{of type $i_*$} if for any $f\in C^\infty(M)\simeq \bigwedge^o M$ we have $Df=0$.
		\end{Def}
		We now state a key result, which will actually be the only useful thing in this section.
		\begin{Prop}
			Let $\omega:E\rightarrow \bigwedge^n TE^*\otimes \mathfrak{X}(E)$ be a vector valued form and $(E,M,\pi,F)$ a fiber bundle. Then there is an induced derivation of type $i_*$ and degree $n-1$ along $\pi$ like follows:
			$$i_\omega\theta(X_1,...,X_{k+n-1})=$$
			$$=\sum_{\sigma\in S_{n,k-1}}sgn(\sigma)\theta(\omega(X_{\sigma(1)},...,X_{\sigma(n)}),d\pi \circ X_{\sigma(n+1)},...,d\pi \circ X_{\sigma(n+k-1)})$$
			Where $deg(\theta)=k$, $S_{n,k-1}$ is the subgroup of the permutation group $S_{n+k-1}$ such that:
		$$\sigma(1)<...<\sigma(n)\hbox{ and }\sigma(n+1)<...<\sigma(n+k-1)$$
		\end{Prop}
		\begin{proof}
			The fact that the above map is a derivation is obvious by construction: it is clearly $\mathbb{R}$-linear since forms are; it is clearly of degree $n-1$ and the Leibniz rule follows from the fact that we are contracting a form.
		\end{proof}
		\begin{Obs}
			It is possible to prove that every derivation of this kind is determined by a unique vector valued form $\omega$, but we do not care at all.
		\end{Obs}
		\section{The $S$ tensor}
		In this section we define a new kind of operation on jet bundles. Even though the construction will turn out to be quite excessive and intricate, it will be useful to obtain the Euler Lagrange equations. 
		\begin{Def}
			Let $\omega$ be a closed 1-form on $M$, $p\in M$, $j^k_p\phi\in J^k(E,M)$, $\xi_{j^{k-1}_p\phi}\in\mathcal{V}(\pi_{k-1})_{j^{k-1}_p\phi}$. In an adapted coordinate system $(x^i,u^a)$, if
			$$\xi=\sum_{|I|=0}^{k-1}\xi_I^a{\partial\over \partial u^a_I}\hbox{  and  }\omega=\omega_idx^i$$
			we define the \textit{vertical lift} of $\xi$ to $j^k_p\phi$ through $\omega$ as:
			$$\xi\circledvee_{j^k_p\phi}\omega:=\sum_{|J+K|=0}^{k-1}\sum_i{(J+K+1_i)!\over (J+1_i)!K!}\xi_K^a{\partial^{|J|} \omega_i\over \partial x^J}\bigg|_p{\partial\over \partial u^a_{J+K+1_i}}\bigg|_{j^k_p\phi}$$
		\end{Def}
		\begin{Ex}
			As an example, consider the $k=2$ case. It is no hard to see that:
			$$\xi=\sum_{|I|=0}^{1}\xi_I^a{\partial\over \partial u^a_I}$$
			$$\xi=\xi_j^a{\partial\over \partial u^a_j}$$
			$$\xi\circledvee_{j^2_p\phi}\omega=\sum_{|J+K|=0}^{1}\sum_i{(J+K+1_i)!\over (J+1_i)!K!}\xi_K^a{\partial^{|J|} \omega_i\over \partial x^J}\bigg|_p{\partial\over \partial u^a_{J+K+1_i}}\bigg|_{j^2_p\phi}$$
			Clearly, in this case either $K=J=0$, $K=1_j$ or $J=1_j$ for all possible indices $j$. In both cases, the other multi-index is 0.
			$$\xi\circledvee_{j^2_p\phi}\omega=\sum_{i,j}{(1_i+1_j)!\over 1_i!1_j!}\xi_j^a \omega_i\bigg|_p{\partial\over \partial u^a_{1_j+1_i}}\bigg|_{j^k_p\phi}+\sum_{i,j}{(1_j+1_i)!\over (1_j+1_i)!0!}\xi^a{\partial \omega_i\over \partial x^j}\bigg|_p{\partial\over \partial u^a_{1_j+1_i}}\bigg|_{j^2_p\phi}+\sum_i\xi^a\omega_i{\partial\over \partial u^a_{1_i}}=$$
			$$\xi\circledvee_{j^2_p\phi}\omega=\sum_{i,j}{2}\xi_j^a \omega_i\bigg|_p{\partial\over \partial u^a_{1_j+1_i}}\bigg|_{j^k_p\phi}+\sum_{i,j}\xi^a{\partial \omega_i\over \partial x^j}\bigg|_p{\partial\over \partial u^a_{1_j+1_i}}\bigg|_{j^2_p\phi}+\sum_i\xi^a\omega_i{\partial\over \partial u^a_{1_i}}$$
		\end{Ex}
		\begin{Obs}
			The vertical lift is clearly a vector field on the bundle $J^k(E,M)$ and it is vertical with respect to the projection $\pi_{k,0}$. Thus:
			$$\xi\circledvee \omega\in \Gamma(TJ^k(E,M))$$
		\end{Obs}
		\begin{Prop}
			The vertical lift is independent from the choice of the coordinate system.
		\end{Prop}
		\begin{proof}
			This quantity is clearly fully contracted, so its real value as a map will not depend on the coordinates selected. It is only a matter to check that the verticality is preserved. This is immediate since there will never be any term like $\partial\over \partial x^i$ alone.
		\end{proof}
		\begin{Def}
			Let $\omega$ be a closed 1-form on $M$. We define the \textit{vertical endomorphism of order $k$} as $S^k_\omega:TJ^k(E,M)\rightarrow TJ^k(E,M)$ such that for $\xi_{j^k_p\phi}\in T_{j^k_p\phi}J^k(E,M)$:
			$$S^k_\omega(\xi_{j^k_p\phi})=v_{j^k_p\phi}\circledvee \omega_p$$
			Where $v_{j^k_p\phi}$ is the vertical projection of $\xi$. IN coordinates:
			$$S^k_\omega=\sum_{|J+K|=0}^{k-1}\sum_i{(J+K+1_i)!\over (J+1_i)!K!}{\partial^{|J|} \omega_i\over \partial x^J}\bigg|_p(du^a_K-u^a_{K+1_j}dx^j)\otimes {\partial\over \partial u^a_{J+K+1_i}}\bigg|_{j^k_p\phi}$$
			One can also see this as:
			$S^k_\omega\in(Holl^k)^{\circ}\otimes \mathcal{V}(\pi_{k,0})$
		\end{Def}
		\begin{Obs}
			The annihilator of the holonomic lifts i.e. the cotangent vector space, is isomprhic to the dual of the vertical space.
		\end{Obs}
		\begin{Ex}
			We now make some examples to better understand the structure of this new map:
			\begin{itemize}
				\item Suppose to have a dimension 1 manifold $M$ and $\omega=dt$ to be a volume form. Then, for $k=1$ we must have:
				$$S^1_\omega=(du^a-u^adt)\otimes {\partial \over \partial u^a}$$
				\item for $k=1$ on any bundle it is clear that $S^1_\omega$ and the vertical lift do not depend on the space derivatives of $\omega$:
				$$S^1_\omega=\omega^i(du^a-u_j^adx^j)\otimes {\partial \over \partial u^a_i}$$
			\end{itemize}
		\end{Ex}
		\begin{Obs}
			Clearly, we can generalize the previous operator by asking it to be a map on the space of closed 1-forms. However, it will be more useful for us to restrict this operator to the space of smooth functions on $M$, since every exact form is closed but the contrary is not true. Define:
			$$S^k(\xi,\omega)=S^k_\omega(\xi)$$
			In coordinates
			$$S^k=\sum_{|J+K|=0}^{k-1}\sum_i{(J+K+1_i)!\over (J+1_i)!K!}(du^a_K-u^a_{K+1_j}dx^j)\otimes {\partial\over \partial u^a_{J+K+1_i}}\otimes{\partial^{|J|+1} \over \partial x^{J+1_i}}$$
			Clearly, this can also be seen as an element of:
			$$S^k\in (Holl^k)^\circ\otimes \mathcal{V}(\pi_{k,0})\otimes \pi_k^*(S^k(TM))$$
			\end{Obs}
		\begin{Def}
			Let $\sigma:E\rightarrow TJ^k(E,M)^*$ a section, then define 
			$$S\sigma=S^k(\cdot,\sigma,\cdot)$$
		\end{Def}
		\begin{Obs}
			It goes by itself that in coordinates:
			$$S\sigma=\sum_{|J+K|=0}^{k-1}\sum_i{(J+K+1_i)!\over (J+1_i)!K!}\sigma^{J+K+1_i}_a(du^a_K-u^a_{K+1_j}dx^j)\otimes{\partial^{|J|+1} \over \partial x^{J+1_i}}$$
		\end{Obs}
		\begin{Obs}
			For $k=1$ it is clear that 
			$$S^1\in \bigwedge_C^1J^1(E,M)\otimes \mathcal{V}(\pi_{1,0})\otimes \pi^*_1(TM)$$
			Clearly, $S\sigma\in \bigwedge_C^1J^1(E,M)\otimes \pi^*_1(TM)$ is a vector valued 1-form and can be used to define, from REFERENZA a derivation of type $i_*$ called $i_{S\sigma}$. In particular:
			$$S\sigma\big|_{k=1}=\sigma^{i}_a(du^a_K-u^a_{j}dx^j)\otimes{\partial \over \partial x^{i}}$$
		\end{Obs}
		\begin{Def}
			Let $\Omega$ be the volume form on $M$. We define the \textit{canonical vector valued $m$-form on $J^1$} through its action:
			$$S_\Omega\lrcorner \sigma=i_{S\sigma}\Omega$$
			Where $\sigma\in\bigwedge^1J^1(E,M)$.
		\end{Def}
		The above definition is of a map 
		$$S_\Omega: \bigwedge^{1}J^1(E,M)\rightarrow \bigwedge^{dim(M)+1}J^1(E,M)$$
		From REFERENZA it is also clear that:
		$$\sigma^{i}_a(du^a_K-u^a_{j}dx^j)\otimes{\partial \over \partial x^{i}} \lrcorner \Omega=\sigma^{i}_a(du^a_K-u^a_{j}dx^j)\wedge\bigg({\partial \over \partial x^{i}}\lrcorner \Omega\bigg)$$
		Thus:
		$$S_\Omega=(du^a_K-u^a_{j}dx^j)\wedge\bigg({\partial \over \partial x^{i}}\lrcorner \Omega\bigg)\otimes {\partial\over \partial u^a_i}$$
		This is clearly a vector valued $dim(M)$-form.
		\section{The Cartan Form}
		In this section we use the previous knowledge to find a way to extract the Euler-Lagrange equations from the lagrangian.
	\end{document}
